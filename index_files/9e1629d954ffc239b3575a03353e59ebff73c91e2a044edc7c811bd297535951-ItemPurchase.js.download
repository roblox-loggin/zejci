!function(){"use strict";var a={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},d:function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nc:void 0},Ee=React,we=a.n(Ee),l=ReactDOM,c=a.n(l),Se=CoreUtilities,e=PropTypes,r=a.n(e),n=ReactUtilities,N=ReactStyleGuide,o={purchasingResources:{common:["IAPExperience.PurchaseError","Feature.NotApproved"],feature:"Purchasing.PurchaseDialog"},itemResources:{common:[],feature:"Feature.Item"},itemModelResources:{common:[],feature:"Feature.ItemModel"}},t={transactionFailure:"TransactionFailureView",insufficientFunds:"InsufficientFundsView",priceChanged:"PriceChangedView",pendingProductsLimitExceeded:"PendingProductsLimitExceeded"},i={badRequest:"Bad Request"},s={startItemPurchase:"ItemPurchaseStart",NEW_UPSELL_FAILED_DUE_TO_ERROR:"ReactBuyButtonNewUpsellProcessFailedDueToError",NEW_UPSELL_FAILED_DUE_TO_LOADING:"ReactBuyButtonNewUpsellProcessFailedDueToNotLoaded",NEW_UPSELL_FROM_REACT_BUY_BUTTON:"ReactBuyButtonNewUpsellProcessNewUpsellFromReactBuyButton"},u={Plugin:38,Decal:13,Model:10,Video:62,MeshPart:40,Place:9,Badge:21,GamePass:34,Animation:24},d={Catalog:0,Library:1},f={LookId:"lookId"},m={insufficientFunds:"InsufficientFunds",retryErrorMessage:"Failed to determine purchasability status. Please try again by refreshing.",notForSale:"NotForSale",unauthorizedMessage:"Unauthorized",twoStepVerificationRequired:"TwoStepVerificationRequired"},p={FraudPaymentAuthorizationAttempt:"Label.Sublabel.FraudPaymentAbuse",FraudVirtualEconomyAbuse:"Label.Sublabel.FraudVirtualEconomyAbuse",FraudAbuseOfAffiliateSystem:"Label.Sublabel.FraudAbuseOfTheAffiliateSystem",FraudAttemptedUnauthorizedPaymentMethodUse:"Label.Sublabel.FraudAttemptedUnauthorizedPaymentMethodUse",FraudRepeatedRefundRequests:"Label.Sublabel.FraudRepeatedRefundRequests",FraudSuspiciousRefundRequests:"Label.Sublabel.FraudSuspiciousRefundRequests",FraudUnauthorizedPurchase:"Label.Sublabel.FraudUnauthorizedPurchase",FraudUseOfUnauthorizedOffPlatformTransactions:"Label.Sublabel.FraudUseOfUnauthorizedOffPlatformTransactions",FraudUseOfUnauthorizedPaymentMethod:"Label.Sublabel.FraudUseOfUnauthorizedPaymentMethod",FraudSuspiciousAccountPatterns:"Label.Sublabel.FraudSuspiciousAccountPatterns",FraudChargeback:"Label.AbuseType.Chargeback"},v={shouldShowUnifiedPurchaseModal:"shouldShowUnifiedPurchaseModal"},b=3,y=5,h=5;function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=Io={freeLabel:"Label.Free",okAction:"Action.Ok",insufficientFundsHeading:"Heading.InsufficientFunds",insufficientFundsMessage:"Message.InsufficientFunds",doneAction:"Action.Done",cancelAction:"Action.Cancel",buyRobuxAction:"Action.BuyRobux",buyAccessAction:"Action.BuyAccess",buyItemHeading:"Heading.BuyItem",buyNowAction:"Action.BuyNow",buyExperience:"Title.BuyExperience",getItemHeading:"Heading.GetItem",getNowAction:"Action.GetNow",priceChangedHeading:"Heading.PriceChanged",priceChangedMessage:"Message.PriceChanged",balanceAfterMessage:"Message.BalanceAfter",agreeAndPayLabel:"Label.AgreeAndPay",promptGetFreeAccessMessage:"Message.PromptGetFreeAccess",promptGetFreeMessage:"Message.PromptGetFree",promptBuyAccessMessage:"Message.PromptBuyAccess",promptBuyMessage:"Message.PromptBuy",promptBuySimplifiedMessage:"Message.PromptBuySimplified",configureAction:"Action.Customize",notNowAction:"Action.NotNow",customizeAction:"Action.Customize",continueAction:"Action.Continue",purchaseCompleteHeading:"Heading.PurchaseComplete",successfullyBoughtAccessMessage:"Message.SuccessfullyBoughtAccess",successfullyBoughtMessage:"Message.SuccessfullyBought",successfullyRenewedAccessMessage:"Message.SuccessfullyRenewedAccess",successfullyRenewedMessage:"Message.SuccessfullyRenewed",successfullyAcquiredAccessMessage:"Message.SuccessfullyAcquiredAccess",successfullyAcquiredMessage:"Message.SuccessfullyAcquired",itemGrantDelayMessage:"Message.ItemGrantDelay",errorOccuredHeading:"Heading.ErrorOccured",purchasingUnavailableMessage:"Message.PurchasingUnavailable",buyAction:"Action.Buy",installAction:"Action.Install",getAction:"Action.Get",bestPriceLabel:"Label.BestPrice",priceLabel:"Label.Price",premiumDiscountOpportunityPromptLabel:"Label.PremiumDiscountOpportunityPrompt",premiumDiscountSavingsLabel:"Label.PremiumDiscountSavings",premiumExclusiveEligiblePromptLabel:"Label.PremiumExclusiveEligiblePrompt",premiumExclusiveIneligiblePromptLabel:"Label.PremiumExclusiveIneligiblePrompt",getPremiumAction:"Action.GetPremium",itemNotCurrentlyForSaleLabel:"Label.ItemNotCurrentlyForSale",itemNoLongerForSaleLabel:"Label.ItemNoLongerForSale",purchasingTemporarilyUnavailableLabel:"Label.PurchasingTemporarilyUnavailable",itemAvailableInventoryLabel:"Label.ItemAvailableInventory",noOneCurrentlySellingLabel:"Label.NoOneCurrentlySelling",inventoryAction:"Action.Inventory",OffsaleCountdownHourMinuteSecondLabel:"Label.OffsaleCountdownHourMinuteSecond",CountdownTimerDayHourMinute:"Label.CountdownTimerDayHourMinute",batchBuyItemHeading:"Heading.BuyItems",batchBuyPromptMessage:"Message.PromptBatchBuy",batchBuyBalanceAfterMessage:"Message.BalanceAfter",purchaseCompletedMessage:"Heading.PurchaseCompleted",generalPurchaseErrorMessage:"Heading.GeneralError",batchBuyPartialSuccessGeneralFailureMessage:"Heading.PartialSuccessGeneralFailure",batchBuyPartialSuccessItemsOwnedFailureMessage:"Heading.PartialSuccessItemsOwnedFailure",batchBuyPartialSuccessInsufficientFundsFailureMessage:"Heading.PartialSuccessInsufficientFundsFailure",batchBuyPartialSuccessNetworkErrorFailureMessage:"Heading.PartialSuccessNetworkErrorFailure",batchBuyPartialSuccessFloodcheckFailureMessage:"Heading.PartialSuccessFloodcheckFailure",purchaseErrorFailureMessage:"Heading.PurchaseFailure",batchBuyItemsOwnedFailureMessage:"Heading.ItemsOwnedFailure",insufficientFundsFailureMessage:"Heading.InsufficientFundsFailure",networkErrroFailureMessage:"Heading.NetworkErrorFailure",floodcheckFailureMessage:"Heading.FloodcheckFailure",batchBuyPartialSuccessPremiumNeededFailureMessage:"Heading.PartialSuccessPremiumNeededFailure",batchBuyPartialSuccessNoSellersFailureMessage:"Heading.PartialSuccessNoSellersFailure",premiumNeededFailureMessage:"Heading.PremiumNeededFailure",noSellersFailureMessage:"Heading.NoSellersFailure",batchBuyPartialSuccessInExperienceOnlyFailureMessage:"Heading.PartialSuccessInExperienceOnlyFailure",inExperienceOnlyFailureMessage:"Heading.InExperienceOnlyFailure",redirectToPartnerWebsiteMessage:"Description.RedirectToPartnerWebsite",continueToPaymentAction:"Action.ContinueToPayment",leavingRobloxHeading:"Heading.LeavingRoblox",pendingDeveloperProductLimitReachedMessage:"Message.PendingDeveloperProductLimitReached",pendingDeveloperProductLimitReachedHeading:"Heading.PendingDeveloperProductLimitReached",additionalRobuxNeeded:"Message.AdditionalRobux",economicRestrictionsErrorHeading:"Heading.EconomicRestrictionsError",timedOptionDaysAbbreviation:"Label.TimedOptionDaysAbbreviation",timedOptionDaysTimerStartsWhenYouBuy:"Label.TimedOptionDaysTimerStartsWhenYouBuy"};function S(){var e=g((0,N.createModal)(),2),a=e[0],e=e[1];function t(e){var t=e.translate,r=e.title,n=e.message,e=e.onDecline,n=we().createElement("div",{className:"modal-message"},n);return we().createElement(a,{title:r,body:n,thumbnail:we().createElement("span",{className:"icon-warning-orange-150x150"}),neutralButtonText:t(w.okAction),onNeutral:e,actionButtonShow:!1})}return t.defaultProps={onDecline:null},t.propTypes={translate:r().func.isRequired,title:r().string.isRequired,message:r().string.isRequired,onDecline:r().func},[(0,n.withTranslations)(t,o.purchasingResources),e]}var x=ReactDOMServer,P=CoreRobloxUtilities,Pe=Roblox,I=Pe.EnvironmentUrls.economyApi,A=Pe.EnvironmentUrls.catalogApi,R=Pe.EnvironmentUrls.apiGatewayUrl,T=Pe.EnvironmentUrls.twoStepVerificationApi,C=Pe.EnvironmentUrls.vngGamesShopUrl,O={getRobuxUpgradesUrl:function(e){return Se.urlService.getUrlWithQueries("/Upgrades/Robux.aspx",{ctx:e})},getAvatarPageUrl:function(){return Se.urlService.getAbsoluteUrl("/my/avatar")},getPurchaseItemUrl:function(e){return I+"/v1/purchases/products/"+e},getItemDetailsUrl:function(e,t){return A+"/v1/catalog/items/"+e+"/details?itemType="+t},postItemDetailsUrl:function(){return A+"/v1/catalog/items/details"},getPurchaseableDetailUrl:function(e){return I+"/v1/products/"+e+"?showPurchasable=true"},getPremiumConversionUrl:function(e,t){return"/premium/membership?ctx=WebItemDetail&upsellTargetType="+t+"&upsellTargetId="+e},getResellerDataUrl:function(e){return I+"/v1/assets/"+e+"/resellers?limit=10"},getInventoryUrl:function(e){return"/users/"+e+"/inventory"},getMetaDataUrl:function(){return I+"/v2/metadata"},getCurrentUserBalance:function(e){return I+"/v1/users/"+e+"/currency"},getPurchaseCollectibleItemUrl:function(e){return R+"/marketplace-sales/v1/item/"+e+"/purchase-item"},getPurchaseCollectibleItemInstanceUrl:function(e){return R+"/marketplace-sales/v1/item/"+e+"/purchase-resale"},getCollectibleItemDetailsUrl:function(){return R+"/marketplace-items/v1/items/details"},getTwoStepVerificationConfig:function(e){return T+"/v1/users/"+e+"/configuration"},postGenerateTwoStepVerificationToken:function(e){return I+"/v2/"+e+"/two-step-verification/generate"},postRedeemTwoStepVerificationChallenge:function(e){return I+"/v2/"+e+"/two-step-verification/redeem"},postBulkPurchaseUrl:function(){return R+"/cloud/v2/avatar-marketplace-orders"},getVngShopUrl:function(){return R+"/vng-payments/v1/getVngShopUrl"},getVngShopFallbackUrl:function(){return C},getSubscriptionsMetadataUrl:function(){return R+"/roblox-subscriptions/v1/metadata"},postPurchaseDeveloperProductUrl:function(e){return R+"/developer-products/v1/developer-products/"+e+"/purchase?requestLocationType=ExperienceDetailPage"},postPurchaseGamePassUrl:function(e){return R+"/game-passes/v1/game-passes/"+e+"/purchase"}},M=Io;function D(e){var t=e.translate,r=e.price,n=e.color,e=e.useFreeText;return 0===r&&e?we().createElement("span",{className:"text-robux text-free"},t(M.freeLabel)):we().createElement(we().Fragment,null,we().createElement("span",{className:"icon-robux".concat(n?"-".concat(n):"","-16x16")}),we().createElement("span",{className:"text-robux"},Se.numberFormat.getNumberFormat(r)))}D.defaultProps={color:"",useFreeText:!0},D.propTypes={price:r().number.isRequired,translate:r().func.isRequired,color:r().string,useFreeText:r().bool};var F=(0,n.withTranslations)(D,o.purchasingResources);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=Io;function j(){var e=U((0,N.createModal)(),2),i=e[0],e=e[1];function t(e){var t=e.translate,r=e.robuxNeeded,n=e.source,a=e.onAccept,e=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:t(k.insufficientFundsMessage,{robux:(0,x.renderToString)(we().createElement(F,{price:r}))})}});return r||(e=we().createElement("div",null," ",t(k.additionalRobuxNeeded))),we().createElement(i,L({title:t(k.insufficientFundsHeading),body:e,thumbnail:we().createElement("span",{className:"money-stack-icon"}),neutralButtonText:t(k.cancelAction),actionButtonText:t(k.buyRobuxAction),onAction:function(){return P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX),a?a():window.location=O.getRobuxUpgradesUrl(n),!1},onClose:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.ROBUX_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL)}},{actionButtonShow:!0}))}return t.defaultProps={onAccept:null,source:""},t.propTypes={translate:r().func.isRequired,source:r().string,onAccept:r().func,robuxNeeded:r().number.isRequired},[(0,n.withTranslations)(t,o.purchasingResources),e]}var Ie=function(){var e=document.getElementById("ItemPurchaseAjaxData");return e?{userRobuxBalance:parseInt(e.getAttribute("data-user-balance-robux"),10),userBc:parseInt(e.getAttribute("data-user-bc"),10),hasCurrencyServiceError:"True"===e.getAttribute("data-has-currency-service-error"),currencyServiceErrorMessage:e.getAttribute("data-currency-service-error-message")}:{}},_=Io;function q(e){var t=e.translate,r=e.expectedPrice,e=e.currentRobuxBalance,r=(null!=e?e:Ie().userRobuxBalance)-r;return e?we().createElement("span",{dangerouslySetInnerHTML:{__html:t(_.balanceAfterMessage,{robuxBalance:(0,x.renderToString)(we().createElement(F,{price:r,color:"gray",useFreeText:!1}))})}}):we().createElement("span",null)}q.propTypes={expectedPrice:r().number.isRequired,currentRobuxBalance:r().number,translate:r().func.isRequired},q.defaultProps={currentRobuxBalance:void 0};var H=(0,n.withTranslations)(q,o.purchasingResources);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=Io;function X(){var e=W((0,N.createModal)(),2),c=e[0],e=e[1];function t(e){var t=e.translate,r=e.expectedPrice,n=e.currentPrice,a=e.onAction,i=e.loading,e=W((0,Ee.useState)(!1),2),o=e[0],l=e[1],r=we().createElement(we().Fragment,null,we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:t(G.priceChangedMessage,{robuxBefore:(0,x.renderToString)(we().createElement(F,{price:r,color:"gray"})),robuxAfter:(0,x.renderToString)(we().createElement(F,{price:n,color:"gray"}))})}}),we().createElement("div",{className:"modal-checkbox checkbox"},we().createElement("input",{id:"modal-checkbox-input",name:"agreementCheckBox",type:"checkbox",checked:o}),we().createElement("label",{onClick:function(){return l(!o)},htmlFor:"modal-checkbox-input"},t(G.agreeAndPayLabel))));return we().createElement(c,V({title:t(G.priceChangedHeading),body:r,neutralButtonText:t(G.cancelAction),actionButtonText:t(G.buyRobuxAction),onAction:a,loading:i,disableActionButton:!o,footerText:we().createElement(H,{expectedPrice:n})},{actionButtonShow:!0}))}return t.defaultProps={loading:!1},t.propTypes={translate:r().func.isRequired,expectedPrice:r().number.isRequired,currentPrice:r().number.isRequired,onAction:r().func.isRequired,loading:r().bool},[(0,n.withTranslations)(t,o.purchasingResources),e]}function Y(e){e=e.name;return we().createElement("span",{className:"font-bold"},e)}Y.propTypes={name:r().string.isRequired};var $=Y;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=Io;function xe(){var e=Q((0,N.createModal)(),2),m=e[0],e=e[1];function t(e){var t,r=e.translate,n=e.title,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=e.assetType,c=e.assetTypeDisplayName,s=e.sellerName,u=e.isPlace,d=e.onAction,f=e.loading,e=e.currentRobuxBalance,c={assetName:(0,x.renderToString)(we().createElement($,{name:o})),assetType:c||l,seller:(0,Se.escapeHtml)()(s),robux:(0,x.renderToString)(we().createElement(F,{price:a}))},l=u?J.promptBuyAccessMessage:J.promptBuyMessage;u||""!==c.seller||(l=J.promptBuySimplifiedMessage),s=0===a?(t=r(J.getItemHeading),r(J.getNowAction)):(t=r(J.buyItemHeading),r(J.buyNowAction)),u&&(s=r(J.buyAccessAction));c=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:r(l,c)}});return we().createElement(m,K({title:n||t,body:c,thumbnail:i,neutralButtonText:r(J.cancelAction),actionButtonText:s,onAction:d,footerText:we().createElement(H,{expectedPrice:a,currentRobuxBalance:e}),loading:f},{actionButtonShow:!0}))}return t.defaultProps={isPlace:!1,assetTypeDisplayName:"",title:"",loading:!1,currentRobuxBalance:void 0},t.propTypes={translate:r().func.isRequired,title:r().string,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,sellerName:r().string.isRequired,isPlace:r().bool,onAction:r().func.isRequired,loading:r().bool,currentRobuxBalance:r().number},[(0,n.withTranslations)(t,o.purchasingResources),e]}(dn=fn=fn||{}).Bought="bought",dn.Renewed="renewed";var ee=fn;function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne=O.getAvatarPageUrl,ae=Io;function Ae(){var e=te((0,N.createModal)(),2),h=e[0],e=e[1];function t(e){var t,r,n=e.translate,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=e.assetType,c=e.assetIsWearable,s=e.assetTypeDisplayName,u=e.sellerName,d=e.isPlace,f=e.isPrivateServer,m=e.onAccept,p=e.onDecline,v=e.transactionVerb,b=e.itemDelayed,y=e.currentRobuxBalance,e=n(ae.continueAction);f?(t=n(ae.configureAction),e=n(ae.notNowAction)):b?(t=n(ae.customizeAction),e=n(ae.doneAction)):c&&(t=n(ae.customizeAction),e=n(ae.notNowAction),r=function(){return window.location.href=ne(),!1});u={assetName:(0,x.renderToString)(we().createElement($,{name:o})),assetType:s||l,seller:(0,Se.escapeHtml)()(u),robux:(0,x.renderToString)(we().createElement(F,{price:a}))},d=v===ee.Bought?d?ae.successfullyAcquiredAccessMessage:ae.successfullyBoughtMessage:v===ee.Renewed?d?ae.successfullyRenewedAccessMessage:ae.successfullyRenewedMessage:d?ae.successfullyAcquiredAccessMessage:ae.successfullyAcquiredMessage,u=we().createElement("div",{className:"modal-message",dangerouslySetInnerHTML:{__html:"".concat(n(d,u)," ").concat(b?n(ae.itemGrantDelayMessage):"")}});return we().createElement(h,{title:n(ae.purchaseCompleteHeading),body:u,thumbnail:i,neutralButtonText:e,actionButtonText:t,onAction:m||r,onNeutral:p,footerText:!f&&we().createElement(H,{expectedPrice:a,currentRobuxBalance:y}),actionButtonShow:!!t,disableActionButton:b,onClose:function(){return window.location.reload()}})}return t.defaultProps={isPlace:!1,assetTypeDisplayName:"",transactionVerb:"",assetIsWearable:!1,isPrivateServer:!1,onAccept:null,onDecline:null,itemDelayed:!1,currentRobuxBalance:void 0},t.propTypes={translate:r().func.isRequired,transactionVerb:r().string,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,assetIsWearable:r().bool,sellerName:r().string.isRequired,isPlace:r().bool,isPrivateServer:r().bool,onAccept:r().func,onDecline:r().func,itemDelayed:r().bool,currentRobuxBalance:r().number},[(0,n.withTranslations)(t,o.purchasingResources),e]}var ie=O.getPurchaseItemUrl,oe=O.getPurchaseCollectibleItemUrl,le=O.getPurchaseCollectibleItemInstanceUrl,ce=O.postBulkPurchaseUrl,se=O.postPurchaseDeveloperProductUrl,ue=O.postPurchaseGamePassUrl,Re={purchaseCollectibleItem:function(e,t){e={url:oe(e),retryable:!0,withCredentials:!0};return Se.httpService.post(e,t)},purchaseCollectibleItemInstance:function(e,t){e={url:le(e),retryable:!0,withCredentials:!0};return Se.httpService.post(e,t)},purchaseDeveloperProduct:function(e,t){e={url:se(e),withCredentials:!0};return Se.httpService.post(e,t)},purchaseGamePass:function(e,t){e={url:ue(e),retryable:!0,withCredentials:!0};return Se.httpService.post(e,t)},purchaseItem:function(e,t){e={url:ie(e),retryable:!0,withCredentials:!0};return Se.httpService.post(e,t)},bulkPurchaseItem:function(e,t,r,n){n={url:"".concat(ce(),"?idempotencyKey.key=").concat(n),retryable:!0,withCredentials:!0},r={purchasingUser:"users/".concat(e),context:{productSurface:t},fulfillmentGroups:[r]};return Se.httpService.post(n,r)}};function de(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var fe=O.getItemDetailsUrl,me=O.postItemDetailsUrl,pe=O.getPurchaseableDetailUrl,ve=O.getResellerDataUrl,be=O.getMetaDataUrl,ye=O.getCollectibleItemDetailsUrl,he=O.getCurrentUserBalance,ge=O.getSubscriptionsMetadataUrl,Te={getItemDetails:function(e,t){t={url:fe(e,t),retryable:!0,withCredentials:!0};return Se.httpService.get(t)},postItemDetails:function(e){var t={url:me(),retryable:!0,withCredentials:!0},e={items:e};return Se.httpService.post(t,e)},getItemPurchasableDetail:function(e){e={url:pe(e),retryable:!0,withCredentials:!0};return Se.httpService.get(e)},getResellerDetail:function(e){e={url:ve(e),retryable:!0,withCredentials:!0};return Se.httpService.get(e)},getEconomyMetadata:function(){var e={url:be(),retryable:!0,withCredentials:!0};return Se.httpService.get(e)},getCollectibleItemDetails:function(n){return l=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:ye(),retryable:!0,withCredentials:!0},r={itemIds:[n]},e.next=4,Se.httpService.post(t,r);case 4:return r=e.sent,e.abrupt("return",(null===(r=r.data)||void 0===r?void 0:r[0])||null);case 6:case"end":return e.stop()}},e)}),function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){de(n,t,r,a,i,"next",e)}function i(e){de(n,t,r,a,i,"throw",e)}a(void 0)})}();var l},getCurrentUserBalance:function(e){e={url:he(e),retryable:!0,withCredentials:!0};return Se.httpService.get(e)},getSubscriptionsMetadata:function(){var e={url:ge(),retryable:!0,withCredentials:!0};return Se.httpService.get(e)}},Ne=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Ce=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Oe=O.getTwoStepVerificationConfig,Me=O.postGenerateTwoStepVerificationToken,De=O.postRedeemTwoStepVerificationChallenge,Fe=function(){return Ne(void 0,void 0,Promise,function(){var t;return Ce(this,function(e){switch(e.label){case 0:t={url:Me("spend-friction"),retryable:!0,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Se.httpService.post(t)];case 2:return[2,e.sent().data||null];case 3:return e.sent(),[2,null];case 4:return[2]}})})},Le=function(n,a){return Ne(void 0,void 0,Promise,function(){var t,r;return Ce(this,function(e){switch(e.label){case 0:t={url:De("spend-friction"),retryable:!0,withCredentials:!0},r={challengeToken:n,verificationToken:a},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Se.httpService.post(t,r)];case 2:return r=e.sent(),[2,null!==(r=r.data)&&void 0!==r&&r];case 3:return e.sent(),[2,!1];case 4:return[2]}})})},Ue=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Be=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ke=Pe.AccountIntegrityChallengeService.TwoStepVerification;function je(e){var t=e.systemFeedbackService,e=e.translate;t.warning(e("Response.VerificationError"))}function _e(e){var o=e.stopTwoStepVerification,l=e.systemFeedbackService,r=e.totalAttempts,c=e.translate;return Ue(this,void 0,void 0,function(){var i,t=this;return Be(this,function(e){switch(e.label){case 0:return[4,Fe()];case 1:return(i=e.sent())?Pe.AccountIntegrityChallengeService.TwoStepVerification.renderChallenge({containerId:"two-sv-popup-entry",userId:Pe.CurrentUser.userId,challengeId:i,actionType:ke.ActionType.RobuxSpend,renderInline:!1,shouldShowRememberDeviceCheckbox:!1,onChallengeCompleted:function(a){return Ue(t,void 0,void 0,function(){var n;return Be(this,function(e){switch(e.label){case 0:return[4,Le(i,a.verificationToken)];case 1:return n=e.sent(),o(),n?(r=(t={systemFeedbackService:l,translate:c}).systemFeedbackService,t=t.translate,r.success(t("Response.SuccessfulVerificationV2"))):je({systemFeedbackService:l,translate:c}),[2]}var t,r})})},onChallengeInvalidated:function(){var e=r||0;e<3?_e({stopTwoStepVerification:o,systemFeedbackService:l,translate:c,totalAttempts:e+1}):(je({systemFeedbackService:l,translate:c}),o())},onModalChallengeAbandoned:function(){}}):je({systemFeedbackService:l,translate:c}),[2]}})})}var qe=(0,n.withTranslations)(function(e){var t=this,r=e.translate,n=e.isTwoStepVerificationActive,a=e.stopTwoStepVerification,i=e.systemFeedbackService;return(0,Ee.useEffect)(function(){n&&Ue(t,void 0,void 0,function(){return Be(this,function(e){switch(e.label){case 0:return[4,Ne(void 0,void 0,Promise,function(){var t;return Ce(this,function(e){switch(e.label){case 0:t={url:Oe(Pe.CurrentUser.userId),retryable:!0,withCredentials:!0},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Se.httpService.get(t)];case 2:return t=e.sent(),[2,((null===(t=null==t?void 0:t.data)||void 0===t?void 0:t.methods)||[]).some(function(e){return!!e.enabled})];case 3:return e.sent(),[2,!1];case 4:return[2]}})})];case 1:return e.sent()?_e({stopTwoStepVerification:a,systemFeedbackService:i,translate:r}):(t={titleText:(t=(t={translate:r}).translate)("Heading.TwoStepVerificationRequiredV3"),bodyContent:t("Message.TwoStepVerificationRequiredV4"),imageUrl:void 0,acceptText:t("Action.GoToSecurity"),acceptColor:"btn-primary-md",onAccept:function(){window.location.href=Pe.Endpoints.getAbsoluteUrl("/my/account#!/security")},declineText:t("Action.Cancel"),dismissable:!0,allowHtmlContentInBody:!0,onOpenCallback:function(){}},Pe.Dialog.open(t)),[2]}var t})})},[n]),we().createElement("div",{id:"two-sv-popup-entry"})},o.purchasingResources),He=function(){return(He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Ve(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}var We=function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t))for(var a=t.length,i=0;i<a;i++)t[i]&&(r=e(t[i]))&&(n&&(n+=" "),n+=r);else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}(e))&&(n&&(n+=" "),n+=t);return n},ze=ReactJSX;function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ye=null!==globalThis&&void 0!==globalThis&&globalThis.document?Ee.useLayoutEffect:function(){},$e=Ee[" useId ".trim().toString()]||function(){},Ke=0;function Qe(e){var t=Ge(Ee.useState($e()),2),r=t[0],n=t[1];return Ye(function(){e||n(function(e){return null!=e?e:String(Ke++)})},[e]),e||(r?"radix-".concat(r):"")}function Ze(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=tt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function Je(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){if(e){if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(e,t):void 0}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function at(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach(function(e){it(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function lt(t,r,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,n=void 0===e||e;return function(e){if(null!=t&&t(e),!1===n||!e.defaultPrevented)return null==r?void 0:r(e)}}function ct(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function st(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=ct(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():ct(a[e],null)}}}}function ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ee.useCallback(st.apply(void 0,t),t)}function dt(e){var t=Ee.forwardRef(function(e,t){var r,n=e.children,a=ot(e,["children"]);if(Ee.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=at({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=at(at({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return at(at({},n),i)}(a,n.props);return n.type!==Ee.Fragment&&(a.ref=t?st(t,i):i),Ee.cloneElement(n,a)}return 1<Ee.Children.count(n)?Ee.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ft=Symbol("radix.slottable");function mt(e){return Ee.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ft}var pt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=dt(t),(r=Ee.forwardRef(function(e,t){var r=e.children,n=ot(e,["children"]),e=Ee.Children.toArray(r),a=e.find(mt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<Ee.Children.count(i)?Ee.Children.only(null):Ee.isValidElement(i)?i.props.children:null:e});return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:Ee.isValidElement(i)?Ee.cloneElement(i,void 0,e):null}))}return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=Ee.forwardRef(function(e,t){var r=e.asChild,e=ot(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ze.jsx)(r,at(at({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),at(at({},e),{},it({},n,r))},{});function vt(e){var a=Ee.useRef(e);return Ee.useEffect(function(){a.current=e}),Ee.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}function bt(e,t){var r,a,n=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,i=(r=e,a=Ee.useRef(r),Ee.useEffect(function(){a.current=r}),Ee.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[]));Ee.useEffect(function(){function e(e){"Escape"===e.key&&i(e)}return n.addEventListener("keydown",e,{capture:!0}),function(){return n.removeEventListener("keydown",e,{capture:!0})}},[i,n])}var yt,ht="dismissableLayer.update",gt=Ee.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Et=Ee.forwardRef(function(e,t){var r=e.disableOutsidePointerEvents,n=void 0!==r&&r,a=e.onEscapeKeyDown,i=e.onPointerDownOutside,o=e.onFocusOutside,l=e.onInteractOutside,c=e.onDismiss,s=ot(e,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=Ee.useContext(gt),d=et(Ee.useState(null),2),f=d[0],m=d[1],p=null!==(b=null==f?void 0:f.ownerDocument)&&void 0!==b?b:null===globalThis||void 0===globalThis?void 0:globalThis.document,v=et(Ee.useState({}),2)[1],r=ut(t,function(e){return m(e)}),d=Array.from(u.layers),b=et(Je(u.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],t=d.indexOf(b),y=f?d.indexOf(f):-1,b=0<u.layersWithOutsidePointerEventsDisabled.size,h=t<=y,d=function(e,t){var n=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,a=vt(function(e){var t=e.target,r=Je(u.branches).some(function(e){return e.contains(t)});h&&!r&&(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),i=Ee.useRef(!1),o=Ee.useRef(function(){});return Ee.useEffect(function(){function e(e){var t,r;e.target&&!i.current?(t=function(){St("dismissableLayer.pointerDownOutside",a,r,{discrete:!0})},r={originalEvent:e},"touch"===e.pointerType?(n.removeEventListener("click",o.current),o.current=t,n.addEventListener("click",o.current,{once:!0})):t()):n.removeEventListener("click",o.current),i.current=!1}var t=window.setTimeout(function(){n.addEventListener("pointerdown",e)},0);return function(){window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",o.current)}},[n,a]),{onPointerDownCapture:function(){return i.current=!0}}}(function(e){var t=e.target,r=Je(u.branches).some(function(e){return e.contains(t)});h&&!r&&(i!==null&&i!==void 0&&i(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},p),t=function(e,t){var r=1<arguments.length&&void 0!==t?t:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=vt(function(e){var t=e.target;Je(u.branches).some(function(e){return e.contains(t)})||(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))}),a=Ee.useRef(!1);return Ee.useEffect(function(){function e(e){e.target&&!a.current&&St("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})}return r.addEventListener("focusin",e),function(){return r.removeEventListener("focusin",e)}},[r,n]),{onFocusCapture:function(){return a.current=!0},onBlurCapture:function(){return a.current=!1}}}(function(e){var t=e.target;Je(u.branches).some(function(e){return e.contains(t)})||(o!==null&&o!==void 0&&o(e),l!==null&&l!==void 0&&l(e),e.defaultPrevented||(c===null||c===void 0?void 0:c()))},p);return bt(function(e){y===u.layers.size-1&&(null!=a&&a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},p),Ee.useEffect(function(){if(f)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(yt=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),wt(),function(){n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=yt)}},[f,p,n,u]),Ee.useEffect(function(){return function(){f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),wt())}},[f,u]),Ee.useEffect(function(){function e(){return v({})}return document.addEventListener(ht,e),function(){return document.removeEventListener(ht,e)}},[]),(0,ze.jsx)(pt.div,at(at({},s),{},{ref:r,style:at({pointerEvents:b?h?"auto":"none":void 0},e.style),onFocusCapture:lt(e.onFocusCapture,t.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,t.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,d.onPointerDownCapture)}))});function wt(){var e=new CustomEvent(ht);document.dispatchEvent(e)}function St(e,t,r,n){var a,i,o=n.discrete,n=r.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),o?(i=r,(a=n)&&l.flushSync(function(){return a.dispatchEvent(i)})):n.dispatchEvent(r)}function Pt(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function It(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=Pt(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():Pt(a[e],null)}}}}function xt(e){var t=Ee.forwardRef(function(e,t){var r,n=e.children,a=ot(e,["children"]);if(Ee.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=at({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=at(at({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return at(at({},n),i)}(a,n.props);return n.type!==Ee.Fragment&&(a.ref=t?It(t,i):i),Ee.cloneElement(n,a)}return 1<Ee.Children.count(n)?Ee.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}Et.displayName="DismissableLayer",Ee.forwardRef(function(e,t){var r=Ee.useContext(gt),n=Ee.useRef(null),t=ut(t,n);return Ee.useEffect(function(){var e=n.current;if(e)return r.branches.add(e),function(){r.branches.delete(e)}},[r.branches]),(0,ze.jsx)(pt.div,at(at({},e),{},{ref:t}))}).displayName="DismissableLayerBranch";var At=Symbol("radix.slottable");function Rt(e){return Ee.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===At}var Tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=xt(t),(r=Ee.forwardRef(function(e,t){var r=e.children,n=ot(e,["children"]),e=Ee.Children.toArray(r),a=e.find(Rt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<Ee.Children.count(i)?Ee.Children.only(null):Ee.isValidElement(i)?i.props.children:null:e});return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:Ee.isValidElement(i)?Ee.cloneElement(i,void 0,e):null}))}return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=Ee.forwardRef(function(e,t){var r=e.asChild,e=ot(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ze.jsx)(r,at(at({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),at(at({},e),{},it({},n,r))},{});function Nt(e){var a=Ee.useRef(e);return Ee.useEffect(function(){a.current=e}),Ee.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}var Ct="focusScope.autoFocusOnMount",Ot="focusScope.autoFocusOnUnmount",Mt={bubbles:!1,cancelable:!0},Dt=Ee.forwardRef(function(e,t){var r=e.loop,i=void 0!==r&&r,n=e.trapped,o=void 0!==n&&n,a=e.onMountAutoFocus,r=e.onUnmountAutoFocus,n=ot(e,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),e=et(Ee.useState(null),2),l=e[0],c=e[1],s=Nt(a),u=Nt(r),d=Ee.useRef(null),r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ee.useCallback(It.apply(void 0,t),t)}(t,function(e){return c(e)}),f=Ee.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;Ee.useEffect(function(){if(o){var e=function(e){!f.paused&&l&&(e=e.target,l.contains(e)?d.current=e:Ut(d.current,{select:!0}))},t=function(e){f.paused||!l||null!==(e=e.relatedTarget)&&(l.contains(e)||Ut(d.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var r=new MutationObserver(function(e){if(document.activeElement===document.body){var t,r=Ze(e);try{for(r.s();!(t=r.n()).done;)0<t.value.removedNodes.length&&Ut(l)}catch(e){r.e(e)}finally{r.f()}}});return l&&r.observe(l,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[o,l,f.paused]),Ee.useEffect(function(){if(l){kt.add(f);var e,t=document.activeElement;return l.contains(t)||(e=new CustomEvent(Ct,Mt),l.addEventListener(Ct,s),l.dispatchEvent(e),e.defaultPrevented||(function(e,t){var r,n=void 0!==(t=(1<arguments.length&&void 0!==t?t:{}).select)&&t,a=document.activeElement,i=Ze(e);try{for(i.s();!(r=i.n()).done;)if(Ut(r.value,{select:n}),document.activeElement!==a)return}catch(e){i.e(e)}finally{i.f()}}(Ft(l).filter(function(e){return"A"!==e.tagName}),{select:!0}),document.activeElement===t&&Ut(l))),function(){l.removeEventListener(Ct,s),setTimeout(function(){var e=new CustomEvent(Ot,Mt);l.addEventListener(Ot,u),l.dispatchEvent(e),e.defaultPrevented||Ut(null!=t?t:document.body,{select:!0}),l.removeEventListener(Ot,u),kt.remove(f)},0)}}},[l,s,u,f]);t=Ee.useCallback(function(e){var t,r,n,a;(i||o)&&(f.paused||(a="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,t=document.activeElement,a&&t&&(r=e.currentTarget,n=(a=et([Lt(a=Ft(n=r),n),Lt(a.reverse(),n)],2))[0],a=a[1],n&&a?e.shiftKey||t!==a?e.shiftKey&&t===n&&(e.preventDefault(),i&&Ut(a,{select:!0})):(e.preventDefault(),i&&Ut(n,{select:!0})):t===r&&e.preventDefault())))},[i,o,f.paused]);return(0,ze.jsx)(Tt.div,at(at({tabIndex:-1},n),{},{ref:r,onKeyDown:t}))});function Ft(e){for(var t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return!(e.disabled||e.hidden||t)&&0<=e.tabIndex?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});r.nextNode();)t.push(r.currentNode);return t}function Lt(e,t){var r=Ze(e);try{for(r.s();!(n=r.n()).done;){var n=n.value;if(!function(e,t){var r=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==r&&e===r)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}}catch(e){r.e(e)}finally{r.f()}}function Ut(e,t){var r=(1<arguments.length&&void 0!==t?t:{}).select,t=void 0!==r&&r;e&&e.focus&&(r=document.activeElement,e.focus({preventScroll:!0}),e!==r&&e instanceof HTMLInputElement&&"select"in e&&t&&e.select())}Dt.displayName="FocusScope";var Bt,kt=(Bt=[],{add:function(e){var t=Bt[0];e!==t&&null!=t&&t.pause(),(Bt=jt(Bt,e)).unshift(e)},remove:function(e){null!==(e=(Bt=jt(Bt,e))[0])&&void 0!==e&&e.resume()}});function jt(e,t){e=Je(e),t=e.indexOf(t);return-1!==t&&e.splice(t,1),e}function _t(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function qt(e){var t=Ee.forwardRef(function(e,t){var r,n=e.children,a=ot(e,["children"]);if(Ee.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=at({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=at(at({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return at(at({},n),i)}(a,n.props);return n.type!==Ee.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=_t(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():_t(a[e],null)}}}}(t,i):i),Ee.cloneElement(n,a)}return 1<Ee.Children.count(n)?Ee.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Ht=Symbol("radix.slottable");function Vt(e){return Ee.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ht}var Wt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=qt(t),(r=Ee.forwardRef(function(e,t){var r=e.children,n=ot(e,["children"]),e=Ee.Children.toArray(r),a=e.find(Vt);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<Ee.Children.count(i)?Ee.Children.only(null):Ee.isValidElement(i)?i.props.children:null:e});return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:Ee.isValidElement(i)?Ee.cloneElement(i,void 0,e):null}))}return(0,ze.jsx)(o,at(at({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=Ee.forwardRef(function(e,t){var r=e.asChild,e=ot(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ze.jsx)(r,at(at({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),at(at({},e),{},it({},n,r))},{}),zt=null!==globalThis&&void 0!==globalThis&&globalThis.document?Ee.useLayoutEffect:function(){},Gt=Ee.forwardRef(function(e,t){var r=e.container,n=ot(e,["container"]),a=et(Ee.useState(!1),2),e=a[0],i=a[1];zt(function(){return i(!0)},[]);var o=r||e&&(null===globalThis||void 0===globalThis||null===(o=globalThis.document)||void 0===o?void 0:o.body);return o?c().createPortal((0,ze.jsx)(Wt.div,at(at({},n),{},{ref:t})),o):null});Gt.displayName="Portal";var Xt=0;function Yt(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $t="right-scroll-bar-position",Kt="width-before-scroll-bar";function Qt(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Zt="undefined"!=typeof window?Ee.useLayoutEffect:Ee.useEffect,Jt=new WeakMap;function er(e){return e}var tr=function(e){var t=e.sideCar,e=Ve(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");t=t.read();if(!t)throw new Error("Sidecar medium not found");return Ee.createElement(t,He({},e))};function rr(){}tr.isSideCarExport=!0;var nr=function(e){void 0===e&&(e={});var t=function(e,r){void 0===r&&(r=er);var i=[],o=!1;return{read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(e){var t=r(e,o);return i.push(t),function(){i=i.filter(function(e){return e!==t})}},assignSyncMedium:function(t){for(o=!0;i.length;){var e=i;i=[],e.forEach(t)}i={push:function(e){return t(e)},filter:function(){return i}}},assignMedium:function(t){o=!0;var e,r=[];i.length&&(e=i,i=[],e.forEach(t),r=i);function n(){var e=r;r=[],e.forEach(t)}function a(){return Promise.resolve().then(n)}a(),i={push:function(e){r.push(e),a()},filter:function(e){return r=r.filter(e),i}}}}}(null);return t.options=He({async:!0,ssr:!1},e),t}(),ar=Ee.forwardRef(function(e,t){var a,r,n,i,o,l,c=Ee.useRef(null),s=Ee.useState({onScrollCapture:rr,onWheelCapture:rr,onTouchMoveCapture:rr}),u=s[0],d=s[1],f=e.forwardProps,m=e.children,p=e.className,v=e.removeScrollBar,b=e.enabled,y=e.shards,h=e.sideCar,g=e.noIsolation,E=e.inert,w=e.allowPinchZoom,S=e.as,s=void 0===S?"div":S,S=e.gapMode,e=Ve(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),h=h,r=(a=[c,t],n=r||null,i=function(t){return a.forEach(function(e){return Qt(e,t)})},(o=(0,Ee.useState)(function(){return{value:n,callback:i,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}})[0]).callback=i,l=o.facade,Zt(function(){var t,r,n,e=Jt.get(l);e&&(t=new Set(e),r=new Set(a),n=l.current,t.forEach(function(e){r.has(e)||Qt(e,null)}),r.forEach(function(e){t.has(e)||Qt(e,n)})),Jt.set(l,a)},[a]),l),u=He(He({},e),u);return Ee.createElement(Ee.Fragment,null,b&&Ee.createElement(h,{sideCar:nr,removeScrollBar:v,shards:y,noIsolation:g,inert:E,setCallbacks:d,allowPinchZoom:!!w,lockRef:c,gapMode:S}),f?Ee.cloneElement(Ee.Children.only(m),He(He({},u),{ref:r})):Ee.createElement(s,He({},u,{className:p,ref:r}),m))});function ir(){var r=0,n=null;return{add:function(e){var t;0==r&&(n=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a.nc;return t&&e.setAttribute("nonce",t),e}())&&(t=e,(e=n).styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),t=n,(document.head||document.getElementsByTagName("head")[0]).appendChild(t)),r++},remove:function(){!--r&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}}function or(){var r,n=(r=ir(),function(e,t){Ee.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])});return function(e){var t=e.styles,e=e.dynamic;return n(t,e),null}}function lr(e){return parseInt(e||"",10)||0}function cr(){var e=parseInt(document.body.getAttribute(fr)||"0",10);return isFinite(e)?e:0}function sr(e){var t,r=e.noRelative,n=e.noImportant,a=void 0===(t=e.gapMode)?"margin":t;Ee.useEffect(function(){return document.body.setAttribute(fr,(cr()+1).toString()),function(){var e=cr()-1;e<=0?document.body.removeAttribute(fr):document.body.setAttribute(fr,e.toString())}},[]);var i,o,l=Ee.useMemo(function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ur;var t,r,n,n=(t=e,r=window.getComputedStyle(document.body),n=r["padding"===t?"paddingLeft":"marginLeft"],e=r["padding"===t?"paddingTop":"marginTop"],t=r["padding"===t?"paddingRight":"marginRight"],[lr(n),lr(e),lr(t)]),e=document.documentElement.clientWidth,t=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,t-e+n[2]-n[0])}}(a)},[a]);return Ee.createElement(dr,{styles:(i=!r,o=a,e=n?"":"!important",r=(t=l).left,n=t.top,l=t.right,t=t.gap,void 0===o&&(o="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(e,";\n   padding-right: ").concat(t,"px ").concat(e,";\n  }\n  body[").concat(fr,"] {\n    overflow: hidden ").concat(e,";\n    overscroll-behavior: contain;\n    ").concat([i&&"position: relative ".concat(e,";"),"margin"===o&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(t,"px ").concat(e,";\n    "),"padding"===o&&"padding-right: ".concat(t,"px ").concat(e,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat($t," {\n    right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat(Kt," {\n    margin-right: ").concat(t,"px ").concat(e,";\n  }\n  \n  .").concat($t," .").concat($t," {\n    right: 0 ").concat(e,";\n  }\n  \n  .").concat(Kt," .").concat(Kt," {\n    margin-right: 0 ").concat(e,";\n  }\n  \n  body[").concat(fr,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(t,"px;\n  }\n"))})}ar.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ar.classNames={fullWidth:Kt,zeroRight:$t};var ur={left:0,top:0,right:0,gap:0},dr=or(),fr="data-scroll-locked",mr=!1;if("undefined"!=typeof window)try{var pr=Object.defineProperty({},"passive",{get:function(){return mr=!0}});window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch($e){mr=!1}function vr(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])}function br(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),wr(e,n)){var a=Sr(e,n);if(a[1]>a[2])return!0}}while((n=n.parentNode)&&n!==r.body);return!1}function yr(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]}function hr(e){return[e.deltaX,e.deltaY]}function gr(e){return e&&"current"in e?e.current:e}var Er=!!mr&&{passive:!1},wr=function(e,t){return vr(t,"v"===e?"overflowY":"overflowX")},Sr=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},Pr=0,Ir=[],xr=(vn=function(t){var i=Ee.useRef([]),c=Ee.useRef([0,0]),s=Ee.useRef(),r=Ee.useState(Pr++)[0],a=Ee.useState(or)[0],u=Ee.useRef(t);Ee.useEffect(function(){u.current=t},[t]),Ee.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var e=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||((n=n||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([t.lockRef.current],(t.shards||[]).map(gr),!0).filter(Boolean);return e.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),e.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=Ee.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!u.current.allowPinchZoom;var r=yr(e),n=c.current,a="deltaX"in e?e.deltaX:n[0]-r[0],i="deltaY"in e?e.deltaY:n[1]-r[1],o=e.target,n=Math.abs(a)>Math.abs(i)?"h":"v";if("touches"in e&&"h"==n&&"range"===o.type)return!1;r=br(n,o);if(!r)return!0;if(r?l=n:(l="v"==n?"h":"v",r=br(n,o)),!r)return!1;if(!s.current&&"changedTouches"in e&&(a||i)&&(s.current=l),!l)return!0;var l=s.current||l;return function(e,t,r,n,a){var i,o,l=(i=e,o=window.getComputedStyle(t).direction,"h"===i&&"rtl"===o?-1:1),o=l*n,c=r.target,s=t.contains(c),n=!1,r=0<o,u=0,d=0;do{var f=Sr(e,c),m=f[0],f=f[1]-f[2]-l*m}while((m||f)&&wr(e,c)&&(u+=f,d+=m),c=c instanceof ShadowRoot?c.host:c.parentNode,!s&&c!==document.body||s&&(t.contains(c)||t===c));return(r&&(a&&Math.abs(u)<1||!a&&u<o)||!r&&(a&&Math.abs(d)<1||!a&&d<-o))&&(n=!0),n}(l,t,e,"h"===l?a:i,!0)},[]),e=Ee.useCallback(function(e){var r,n=e;Ir.length&&Ir[Ir.length-1]===a&&(r=("deltaY"in n?hr:yr)(n),(e=i.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,e=r,t[0]===e[0]&&t[1]===e[1]);var t})[0])&&e.should?n.cancelable&&n.preventDefault():e||(0<(e=(u.current.shards||[]).map(gr).filter(Boolean).filter(function(e){return e.contains(n.target)})).length?o(n,e[0]):!u.current.noIsolation)&&n.cancelable&&n.preventDefault())},[]),n=Ee.useCallback(function(e,t,r,n){var a={name:e,delta:t,target:r,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};i.current.push(a),setTimeout(function(){i.current=i.current.filter(function(e){return e!==a})},1)},[]),l=Ee.useCallback(function(e){c.current=yr(e),s.current=void 0},[]),d=Ee.useCallback(function(e){n(e.type,hr(e),e.target,o(e,t.lockRef.current))},[]),f=Ee.useCallback(function(e){n(e.type,yr(e),e.target,o(e,t.lockRef.current))},[]);Ee.useEffect(function(){return Ir.push(a),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",e,Er),document.addEventListener("touchmove",e,Er),document.addEventListener("touchstart",l,Er),function(){Ir=Ir.filter(function(e){return e!==a}),document.removeEventListener("wheel",e,Er),document.removeEventListener("touchmove",e,Er),document.removeEventListener("touchstart",l,Er)}},[]);var m=t.removeScrollBar,p=t.inert;return Ee.createElement(Ee.Fragment,null,p?Ee.createElement(a,{styles:"\n  .block-interactivity-".concat(p=r," {pointer-events: none;}\n  .allow-interactivity-").concat(p," {pointer-events: all;}\n")}):null,m?Ee.createElement(sr,{gapMode:t.gapMode}):null)},nr.useMedium(vn),tr),Ar=Ee.forwardRef(function(e,t){return Ee.createElement(ar,He({},e,{ref:t,sideCar:xr}))});function Rr(e){return e&&(e.host||Rr(e.parentNode))}function Tr(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||(a=e,"undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),function(e,t,o,l){var r,n=(r=t,(Array.isArray(e)?e:[e]).map(function(e){if(r.contains(e))return e;var t=Rr(e);return t&&r.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",r,". Doing nothing"),null)}).filter(function(e){return Boolean(e)}));Mr[o]||(Mr[o]=new WeakMap);var c=Mr[o],s=[],u=new Set,a=new Set(n),e=function e(t){t&&!u.has(t)&&(u.add(t),e(t.parentNode))};return n.forEach(e),function i(e){e&&!a.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(u.has(e))i(e);else try{var t=e.getAttribute(l),r=null!==t&&"false"!==t,n=(Cr.get(e)||0)+1,a=(c.get(e)||0)+1;Cr.set(e,n),c.set(e,a),s.push(e),1===n&&r&&Or.set(e,!0),1===a&&e.setAttribute(o,"true"),r||e.setAttribute(l,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})}(t),u.clear(),Dr++,function(){s.forEach(function(e){var t=Cr.get(e)-1,r=c.get(e)-1;Cr.set(e,t),c.set(e,r),t||(Or.has(e)||e.removeAttribute(l),Or.delete(e)),r||e.removeAttribute(o)}),--Dr||(Cr=new WeakMap,Cr=new WeakMap,Or=new WeakMap,Mr={})}}(n,a,r,"aria-hidden")):function(){return null}}Ar.classNames=ar.classNames;var Nr=Ar,Cr=new WeakMap,Or=new WeakMap,Mr={},Dr=0;function Fr(e,t){void 0===t&&(t={});var r,n=t.insertAt;e&&"undefined"!=typeof document&&(r=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css","top"===n&&r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)))}var Lr={XSmall:"size-[var(--icon-size-xsmall)]",Small:"size-[var(--icon-size-small)]",Medium:"size-[var(--icon-size-medium)]",Large:"size-[var(--icon-size-large)]",XLarge:"size-[var(--icon-size-xlarge)]"},Ur=we().forwardRef(function(e,t){var r=e.name,n=e.size,a=void 0===n?"Medium":n,n=e.className;e.children;e=Ve(e,["name","size","className","children"]);return we().createElement("span",He({ref:t,role:"presentation",className:We("grow-0 shrink-0 basis-auto icon",r,Lr[a],n)},e))});function Br(){return we().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})}function kr(e){var t=e.variant,r=e.size,n=e.isCircular,a=e.className,e=Ve(e,["variant","size","isCircular","className"]);return we().createElement("button",He({type:"button","aria-label":"Close",className:We("foundation-web-close-affordance flex stroke-none bg-none cursor-pointer",jr,qr[t],_r[r],n&&"radius-circle",a)},e),we().createElement(Br,null),we().createElement(Ur,{name:"icon-regular-x",size:r}))}Ur.displayName="Icon";var jr="relative clip group/interactable focus-visible:outline-focus disabled:outline-none",_r={Small:"padding-xsmall",Medium:"padding-small",Large:"padding-medium"},qr={Utility:"bg-action-link",OverMedia:"bg-over-media-100"};function Hr(e){return function(e){if(Array.isArray(e))return Gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||zr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),i=0;i<a.length;i++)r=a[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||zr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){if(e){if("string"==typeof e)return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(e,t):void 0}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xr(Object(r),!0).forEach(function(e){$r(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function $r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(t,r,e){var e=(2<arguments.length&&void 0!==e?e:{}).checkForDefaultPrevented,n=void 0===e||e;return function(e){if(null!=t&&t(e),!1===n||!e.defaultPrevented)return null==r?void 0:r(e)}}function Qr(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Zr(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=Qr(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():Qr(a[e],null)}}}}function Jr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ee.useCallback(Zr.apply(void 0,t),t)}function en(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var a=r[0];if(1===r.length)return a;function n(){var t=r.map(function(e){return{useScope:e(),scopeName:e.scopeName}});return function(n){var e=t.reduce(function(e,t){var r=t.useScope,t=t.scopeName;return Yr(Yr({},e),r(n)["__scope".concat(t)])},{});return Ee.useMemo(function(){return $r({},"__scope".concat(a.scopeName),e)},[e])}}return n.scopeName=a.scopeName,n}function tn(e){var a=Ee.useRef(e);return Ee.useEffect(function(){a.current=e}),Ee.useMemo(function(){return function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call.apply(e,[a].concat(r))}},[])}function rn(e){var a,r,t,i,n,o,l,c,s,u,d=e.present,f=e.children,m=(a=d,t=Wr(Ee.useState(),2),i=t[0],n=t[1],o=Ee.useRef({}),l=Ee.useRef(a),c=Ee.useRef("none"),t=a?"mounted":"unmounted",t=Wr((r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},Ee.useReducer(function(e,t){return null!==(t=r[e][t])&&void 0!==t?t:e},t)),2),s=t[0],u=t[1],Ee.useEffect(function(){var e=an(o.current);c.current="mounted"===s?e:"none"},[s]),nn(function(){var e,t,r=o.current,n=l.current;n!==a&&(e=c.current,t=an(r),a?u("MOUNT"):"none"===t||"none"===(null==r?void 0:r.display)?u("UNMOUNT"):u(n&&e!==t?"ANIMATION_OUT":"UNMOUNT"),l.current=a)},[a,u]),nn(function(){if(i){var e,n,a=null!==(e=i.ownerDocument.defaultView)&&void 0!==e?e:window,t=function(e){var t,r=an(o.current).includes(e.animationName);e.target===i&&r&&(u("ANIMATION_END"),!l.current)&&(t=i.style.animationFillMode,i.style.animationFillMode="forwards",n=a.setTimeout(function(){"forwards"===i.style.animationFillMode&&(i.style.animationFillMode=t)}))},r=function(e){e.target===i&&(c.current=an(o.current))};return i.addEventListener("animationstart",r),i.addEventListener("animationcancel",t),i.addEventListener("animationend",t),function(){a.clearTimeout(n),i.removeEventListener("animationstart",r),i.removeEventListener("animationcancel",t),i.removeEventListener("animationend",t)}}u("ANIMATION_END")},[i,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:Ee.useCallback(function(e){e&&(o.current=getComputedStyle(e)),n(e)},[])}),p="function"==typeof f?f({present:m.isPresent}):Ee.Children.only(f),e=Jr(m.ref,(e=p,(t=null===(d=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.ref:(t=null===(d=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in t&&t.isReactWarning?e.props.ref:e.props.ref||e.ref));return"function"==typeof f||m.isPresent?Ee.cloneElement(p,{ref:e}):null}var nn=null!==globalThis&&void 0!==globalThis&&globalThis.document?Ee.useLayoutEffect:function(){};function an(e){return(null==e?void 0:e.animationName)||"none"}function on(e){var t,r,o=(t=e,(r=Ee.forwardRef(function(e,t){var r,n=e.children,a=Vr(e,["children"]);if(Ee.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=Yr({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){r.apply(void 0,arguments),t.apply(void 0,arguments)}:t&&(i[e]=t):"style"===e?i[e]=Yr(Yr({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return Yr(Yr({},n),i)}(a,n.props);return n.type!==Ee.Fragment&&(a.ref=t?Zr(t,i):i),Ee.cloneElement(n,a)}return 1<Ee.Children.count(n)?Ee.Children.only(null):null})).displayName="".concat(t,".SlotClone"),r),r=Ee.forwardRef(function(e,t){var r=e.children,n=Vr(e,["children"]),e=Ee.Children.toArray(r),a=e.find(cn);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<Ee.Children.count(i)?Ee.Children.only(null):Ee.isValidElement(i)?i.props.children:null:e});return(0,ze.jsx)(o,Yr(Yr({},n),{},{ref:t,children:Ee.isValidElement(i)?Ee.cloneElement(i,void 0,e):null}))}return(0,ze.jsx)(o,Yr(Yr({},n),{},{ref:t,children:r}))});return r.displayName="".concat(e,".Slot"),r}rn.displayName="Presence";var ln=Symbol("radix.slottable");function cn(e){return Ee.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ln}var sn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(function(e,n){var a=on("Primitive.".concat(n)),t=Ee.forwardRef(function(e,t){var r=e.asChild,e=Vr(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ze.jsx)(r,Yr(Yr({},e),{},{ref:t}))});return t.displayName="Primitive.".concat(n),Yr(Yr({},e),{},$r({},n,t))},{}),un="Dialog",dn=(e=Wr(function(l,e){var t=1<arguments.length&&void 0!==e?e:[],c=[],e=function(){var r=c.map(function(e){return Ee.createContext(e)});return function(e){var t=(null==e?void 0:e[l])||r;return Ee.useMemo(function(){return $r({},"__scope".concat(l),Yr(Yr({},e),{},$r({},l,t)))},[e,t])}};return e.scopeName=l,[function(n,a){var i=Ee.createContext(a),o=c.length;c=[].concat(Hr(c),[a]);function e(e){var t=e.scope,r=e.children,n=Vr(e,["scope","children"]),t=(null==t||null===(a=t[l])||void 0===a?void 0:a[o])||i,a=Ee.useMemo(function(){return n},Object.values(n));return(0,ze.jsx)(t.Provider,{value:a,children:r})}return e.displayName=n+"Provider",[e,function(e,t){var r=(null==t||null===(r=t[l])||void 0===r?void 0:r[o])||i,r=Ee.useContext(r);if(r)return r;if(void 0!==a)return a;throw new Error("`".concat(e,"` must be used within `").concat(n,"`"))}]},en.apply(void 0,[e].concat(Hr(t)))]}(un),2))[0],fn=(e[1],Wr(dn(un),2)),mn=fn[0],pn=fn[1],vn=function(e){var t,r,n,a,i,o,l,c=e.__scopeDialog,s=e.children,u=e.open,d=e.defaultOpen,f=e.onOpenChange,m=e.modal,p=void 0===m||m,e=Ee.useRef(null),m=Ee.useRef(null),u=(a=(u={prop:u,defaultProp:d,onChange:f}).prop,d=u.defaultProp,f=u.onChange,d=(f={defaultProp:d,onChange:u=void 0===f?function(){}:f}).defaultProp,f=f.onChange,d=Ee.useState(d),t=Wr(d,1)[0],r=Ee.useRef(t),n=tn(f),Ee.useEffect(function(){r.current!==t&&(n(t),r.current=t)},[t,r,n]),f=(d=Wr(f=d,2))[0],i=d[1],f=(o=void 0!==a)?a:f,l=tn(u),[f,Ee.useCallback(function(e){var t;o?(t="function"==typeof e?e(a):e)!==a&&l(t):i(e)},[o,a,i,l])]),f=Wr(u,2),u=f[0],u=void 0!==u&&u,v=f[1];return(0,ze.jsx)(mn,{scope:c,triggerRef:e,contentRef:m,contentId:Qe(),titleId:Qe(),descriptionId:Qe(),open:u,onOpenChange:v,onOpenToggle:Ee.useCallback(function(){return v(function(e){return!e})},[v]),modal:p,children:s})};vn.displayName=un;var bn="DialogTrigger";Ee.forwardRef(function(e,t){var r=e.__scopeDialog,n=Vr(e,["__scopeDialog"]),r=pn(bn,r),t=Jr(t,r.triggerRef);return(0,ze.jsx)(sn.button,Yr(Yr({type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Cn(r.open)},n),{},{ref:t,onClick:Kr(e.onClick,r.onOpenToggle)}))}).displayName=bn;var yn="DialogPortal",hn=(tr=Wr(dn(yn,{forceMount:void 0}),2))[0],gn=tr[1];(Ar=function(e){var t=e.__scopeDialog,r=e.forceMount,n=e.children,a=e.container,i=pn(yn,t);return(0,ze.jsx)(hn,{scope:t,forceMount:r,children:Ee.Children.map(n,function(e){return(0,ze.jsx)(rn,{present:r||i.open,children:(0,ze.jsx)(Gt,{asChild:!0,container:a,children:e})})})})}).displayName=yn;var En="DialogOverlay";(e=Ee.forwardRef(function(e,t){var r=gn(En,e.__scopeDialog),n=e.forceMount,r=void 0===n?r.forceMount:n,n=Vr(e,["forceMount"]),e=pn(En,e.__scopeDialog);return e.modal?(0,ze.jsx)(rn,{present:r||e.open,children:(0,ze.jsx)(Sn,Yr(Yr({},n),{},{ref:t}))}):null})).displayName=En;var wn=on("DialogOverlay.RemoveScroll"),Sn=Ee.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(En,r);return(0,ze.jsx)(Nr,{as:wn,allowPinchZoom:!0,shards:[r.contentRef],children:(0,ze.jsx)(sn.div,Yr(Yr({"data-state":Cn(r.open)},e),{},{ref:t,style:Yr({pointerEvents:"auto"},e.style)}))})}),Pn="DialogContent";(fn=Ee.forwardRef(function(e,t){var r=gn(Pn,e.__scopeDialog),n=e.forceMount,r=void 0===n?r.forceMount:n,n=Vr(e,["forceMount"]),e=pn(Pn,e.__scopeDialog);return(0,ze.jsx)(rn,{present:r||e.open,children:e.modal?(0,ze.jsx)(In,Yr(Yr({},n),{},{ref:t})):(0,ze.jsx)(xn,Yr(Yr({},n),{},{ref:t}))})})).displayName=Pn;var In=Ee.forwardRef(function(e,t){var r=pn(Pn,e.__scopeDialog),n=Ee.useRef(null),t=Jr(t,r.contentRef,n);return Ee.useEffect(function(){var e=n.current;if(e)return Tr(e)},[]),(0,ze.jsx)(An,Yr(Yr({},e),{},{ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kr(e.onCloseAutoFocus,function(e){e.preventDefault(),null!==(e=r.triggerRef.current)&&void 0!==e&&e.focus()}),onPointerDownOutside:Kr(e.onPointerDownOutside,function(e){var t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;2!==t.button&&!r||e.preventDefault()}),onFocusOutside:Kr(e.onFocusOutside,function(e){return e.preventDefault()})}))}),xn=Ee.forwardRef(function(n,e){var a=pn(Pn,n.__scopeDialog),i=Ee.useRef(!1),o=Ee.useRef(!1);return(0,ze.jsx)(An,Yr(Yr({},n),{},{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(e){var t;null!==(t=n.onCloseAutoFocus)&&void 0!==t&&t.call(n,e),e.defaultPrevented||(i.current||null!==(t=a.triggerRef.current)&&void 0!==t&&t.focus(),e.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:function(e){var t;null!==(t=n.onInteractOutside)&&void 0!==t&&t.call(n,e),e.defaultPrevented||(i.current=!0,"pointerdown"===e.detail.originalEvent.type&&(o.current=!0));var r=e.target;(null===(t=a.triggerRef.current)||void 0===t?void 0:t.contains(r))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&o.current&&e.preventDefault()}}))}),An=Ee.forwardRef(function(e,t){var r=e.__scopeDialog,n=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,e=Vr(e,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),o=pn(Pn,r),r=Ee.useRef(null),t=Jr(t,r);return Ee.useEffect(function(){var e,t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=t[0])&&void 0!==e?e:Yt()),document.body.insertAdjacentElement("beforeend",null!==(t=t[1])&&void 0!==t?t:Yt()),Xt++,function(){1===Xt&&document.querySelectorAll("[data-radix-focus-guard]").forEach(function(e){return e.remove()}),Xt--}},[]),(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Dt,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,ze.jsx)(Et,Yr(Yr({role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Cn(o.open)},e),{},{ref:t,onDismiss:function(){return o.onOpenChange(!1)}}))}),(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Ln,{titleId:o.titleId}),(0,ze.jsx)(Un,{contentRef:r,descriptionId:o.descriptionId})]})]})}),Rn="DialogTitle";(un=Ee.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(Rn,r);return(0,ze.jsx)(sn.h2,Yr(Yr({id:r.titleId},e),{},{ref:t}))})).displayName=Rn;var Tn="DialogDescription";Ee.forwardRef(function(e,t){var r=e.__scopeDialog,e=Vr(e,["__scopeDialog"]),r=pn(Tn,r);return(0,ze.jsx)(sn.p,Yr(Yr({id:r.descriptionId},e),{},{ref:t}))}).displayName=Tn;var Nn="DialogClose";function Cn(e){return e?"open":"closed"}(dn=Ee.forwardRef(function(e,t){var r=e.__scopeDialog,n=Vr(e,["__scopeDialog"]),a=pn(Nn,r);return(0,ze.jsx)(sn.button,Yr(Yr({type:"button"},n),{},{ref:t,onClick:Kr(e.onClick,function(){return a.onOpenChange(!1)})}))})).displayName=Nn;var On,Mn,Dn="DialogTitleWarning",Fn=((tr=Wr((tr=Dn,On={contentName:Pn,titleName:Rn,docsSlug:"dialog"},Mn=Ee.createContext(On),Vn.displayName=tr+"Provider",[Vn,function(e){var t=Ee.useContext(Mn);return t||On}]),2))[0],tr[1]),Ln=function(e){var t=e.titleId,e=Fn(Dn),r="`".concat(e.contentName,"` requires a `").concat(e.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(e.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(e.docsSlug);return Ee.useEffect(function(){t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Un=function(e){var t=e.contentRef,r=e.descriptionId,n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(Fn("DialogDescriptionWarning").contentName,"}.");return Ee.useEffect(function(){var e=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");r&&e&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},Bn=vn,kn=Ar,jn=e,_n=fn,qn=un,Hn=dn;function Vn(e){var t=e.children,r=Vr(e,["children"]),e=Ee.useMemo(function(){return r},Object.values(r));return(0,ze.jsx)(Mn.Provider,{value:e,children:t})}function Wn(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function zn(e){var t=Ee.forwardRef(function(e,t){var r,n=e.children,a=Vr(e,["children"]);if(Ee.isValidElement(n)){var i=(i=n,e=null===(r=Object.getOwnPropertyDescriptor(i.props,"ref"))||void 0===r?void 0:r.get,e&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(r=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),a=function(n,a){var e,i=Yr({},a);for(e in a)!function(e){var t=n[e],r=a[e];/^on[A-Z]/.test(e)?t&&r?i[e]=function(){var e=r.apply(void 0,arguments);return t.apply(void 0,arguments),e}:t&&(i[e]=t):"style"===e?i[e]=Yr(Yr({},t),r):"className"===e&&(i[e]=[t,r].filter(Boolean).join(" "))}(e);return Yr(Yr({},n),i)}(a,n.props);return n.type!==Ee.Fragment&&(a.ref=t?function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(t){var r=!1,n=a.map(function(e){e=Wn(e,t);return r||"function"!=typeof e||(r=!0),e});if(r)return function(){for(var e=0;e<n.length;e++){var t=n[e];"function"==typeof t?t():Wn(a[e],null)}}}}(t,i):i),Ee.cloneElement(n,a)}return 1<Ee.Children.count(n)?Ee.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var Gn=Symbol("radix.slottable");function Xn(e){return Ee.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Gn}var Yn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(function(e,n){var t,o,r,a=(t="Primitive.".concat(n),o=zn(t),(r=Ee.forwardRef(function(e,t){var r=e.children,n=Vr(e,["children"]),e=Ee.Children.toArray(r),a=e.find(Xn);if(a){var i=a.props.children,e=e.map(function(e){return e===a?1<Ee.Children.count(i)?Ee.Children.only(null):Ee.isValidElement(i)?i.props.children:null:e});return(0,ze.jsx)(o,Yr(Yr({},n),{},{ref:t,children:Ee.isValidElement(i)?Ee.cloneElement(i,void 0,e):null}))}return(0,ze.jsx)(o,Yr(Yr({},n),{},{ref:t,children:r}))})).displayName="".concat(t,".Slot"),r),r=Ee.forwardRef(function(e,t){var r=e.asChild,e=Vr(e,["asChild"]),r=r?a:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ze.jsx)(r,Yr(Yr({},e),{},{ref:t}))});return r.displayName="Primitive.".concat(n),Yr(Yr({},e),{},$r({},n,r))},{}),$n=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Kn=Ee.forwardRef(function(e,t){return(0,ze.jsx)(Yn.span,Yr(Yr({},e),{},{ref:t,style:Yr(Yr({},$n),e.style)}))});function Qn(){var e=(0,Ee.useContext)(Jn);if(!e)throw new Error("Dialog components must be used within a Dialog");return e}function Zn(e){var t=e.open,r=e.onOpenChange,n=e.children,a=e.size,i=e.type,o=void 0===i?"Default":i,l=e.ariaLabel,c=e.isModal,s=void 0===(i=e.hasCloseAffordance)||i,u=void 0===(i=e.hasMarginTop)||i,d=void 0===(i=e.hasMarginBottom)||i,f=void 0!==(e=e.experimentalDisablePointerEventsStylingOnBody)&&e,e=(0,Ee.useMemo)(function(){return{size:a,ariaLabel:l,isModal:c,type:o,hasCloseAffordance:s,hasMarginTop:u,hasMarginBottom:d}},[a,l,c,o,s,u,d]);return(0,Ee.useEffect)(function(){f&&setTimeout(function(){Object.assign(document.body.style,{pointerEvents:"unset"})},0)},[f,t]),we().createElement(Jn.Provider,{value:e},we().createElement(Bn,{open:t,onOpenChange:r},n))}Kn.displayName="VisuallyHidden",Fr(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var Jn=(0,Ee.createContext)({size:"Medium",ariaLabel:"",isModal:!0,hasCloseAffordance:!0,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),ea={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},ta={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},ra={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"};function na(e){var t=e.children,r=e.className,n=e.overlayClassName,a=Ve(e,["children","className","overlayClassName"]),i=(o=Qn()).size,e=o.isModal,o=o.hasCloseAffordance,n=We("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",e&&"bg-common-backdrop",n),r=We("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",r);return we().createElement(kn,null,we().createElement(jn,{className:n},we().createElement(_n,He({className:r,"data-size":i},a),o&&we().createElement("div",{className:"absolute foundation-web-dialog-close-container"},we().createElement(Hn,{asChild:!0},we().createElement(kr,{variant:"OverMedia",size:i,isCircular:!0}))),t)))}function aa(e){var t=e.children,r=e.className,n=Ve(e,["children","className"]),a=(o=Qn()).size,i=o.ariaLabel,e=o.hasMarginTop,o=o.hasMarginBottom,r=We(ea[a],e&&ta[a],o&&ra[a],r);return we().createElement("div",He({className:r},n),we().createElement(Kn,null,we().createElement(qn,null,i)),t)}function ia(e){var t=e.children,r=e.className,n=Ve(e,["children","className"]),e=Qn().size,r=We(ea[e],ra[e],r);return we().createElement("div",He({className:r},n),t)}function oa(e){var t=e.width,e=e.height;return we().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},we().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))}function la(e){var t=e.translate,r=e.thumbnail,n=e.assetName,a=e.expectedPrice,i=void 0===(i=e.thumbnailSizePx)?150:i,e=void 0===(e=e.rentalOptionDays)?null:e;return we().createElement("div",{className:"flex flex-row items-center gap-large"},we().createElement("div",{className:"relative shrink-0",style:{width:i,height:i}},we().createElement("div",{className:"rounded",style:{width:"100%",height:"100%",backgroundColor:"rgba(255,255,255,0.06)"}}),we().createElement("div",{className:"absolute",style:{inset:0,display:"flex",alignItems:"center",justifyContent:"center"}},r)),we().createElement("div",{className:"min-w-0 flex flex-col gap-small"},we().createElement("span",{className:"text-body-large break-words"},we().createElement($,{name:n})),null!=e&&we().createElement("div",{className:"flex flex-row items-center gap-small"},we().createElement(Ur,{name:"icon-regular-clock"}),we().createElement("span",null,t(ma.timedOptionDaysTimerStartsWhenYouBuy,{days:e})||e+" days (Timer starts when you buy)")),we().createElement("div",{className:"flex flex-row items-center"},we().createElement(F,{translate:t,price:a,color:"",useFreeText:!1}))))}Zn.displayName="Dialog",na.displayName="DialogContent",aa.displayName="DialogBody",ia.displayName="DialogFooter",Fr("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var ca={Large:24,Medium:20,Small:16,XSmall:12},sa={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},ua={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},da={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},fa=(0,Ee.forwardRef)(function(e,t){var r=e.children,n=e.className,a=e.style,i=e.as,o=e.isDisabled,l=void 0!==o&&o,c=e.isLoading,s=void 0!==c&&c,u=e.size,o=void 0===u?"Large":u,c=e.variant,u=void 0===c?"Emphasis":c,c=Ve(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),e=null!=i?i:"button",i=c.href,c=Ve(c,["href"]);return we().createElement(e,He({ref:t,type:"button"===e?"button":void 0,disabled:l,"aria-disabled":l,href:l?void 0:i},c,{className:We("foundation-web-button",jr,l?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",sa[o],(l?da:ua)[u],n),style:He({textDecoration:"none"},a)}),we().createElement(Br,null),s&&we().createElement("div",{"aria-hidden":"true",className:"absolute flex"},we().createElement(oa,{width:ca[o],height:ca[o]})),we().createElement("span",{className:We("padding-y-xsmall text-truncate-end text-no-wrap",s&&"invisible")},r))}),ma=Io,pa=Io;function va(e){var t=e.translate,r=e.titleText,e=e.currentRobuxBalance;return we().createElement("div",{id:"rbx-unified-purchase-heading",className:"flex flex-row items-center justify-between",style:{paddingRight:42}},we().createElement("span",{className:"text-heading-medium"},r),"number"==typeof e&&we().createElement("div",{className:"flex flex-row items-center"},we().createElement(ba,{translate:t,price:e,color:"",useFreeText:!1})))}var ba=(0,n.withTranslations)(function(e){var t=e.translate,r=e.price,n=void 0===(n=e.color)?"":n,e=e.useFreeText;return 0!==r||void 0!==e&&!e?we().createElement(we().Fragment,null,we().createElement("span",{className:"icon-robux"+(n?"-"+n:"")+"-16x16"}),we().createElement("span",{className:"text-robux ml-1"},Se.numberFormat.getNumberFormat(r))):we().createElement("span",{className:"text-robux text-free"},t(pa.freeLabel))},o.purchasingResources),ya=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},ha=function(e,t){(0,Ee.useEffect)(function(){t&&(0,ya.fireEvent)("RenderTracking-Purchase-"+e)},[t])},ga=(0,n.withTranslations)(function(e){var t=e.translate,r=e.titleText,n=e.actionButtonText,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=(e.assetType,e.assetTypeDisplayName,e.sellerName,e.onAction),c=e.onCancel,s=e.loading,u=void 0!==s&&s,d=e.currentRobuxBalance,s=e.rentalOptionDays,s=void 0===s?null:s,e=e.open,e=void 0!==e&&e;return ha("UnifiedPurchaseModal",e),we().createElement(Zn,{open:e,onOpenChange:function(e){!e&&c&&c()},isModal:!0,size:"Large",type:"Default",ariaLabel:r,hasCloseAffordance:!0},we().createElement(na,{className:"relative width-full"},we().createElement(aa,{className:"gap-xlarge flex flex-col"},we().createElement(va,{translate:t,titleText:r,currentRobuxBalance:d}),we().createElement(la,{translate:t,thumbnail:i,assetName:o,expectedPrice:a,rentalOptionDays:s})),we().createElement(ia,{className:"gap-small flex flex-col mt-[40px]"},we().createElement("div",{className:"flex flex-row-reverse"},we().createElement(fa,{variant:"Emphasis",className:"fill basis-0",onClick:l,isDisabled:u,"data-testid":"purchase-confirm-button"},n)))))},o.purchasingResources),Ea=function(){return(Ea=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},wa=Io;function Sa(){var y=null,h={open:function(){y&&y(!0)},close:function(){y&&y(!1)}};return[(0,n.withTranslations)(function(e){var t,r=e.translate,n=void 0===(f=e.title)?"":f,a=e.expectedPrice,i=e.thumbnail,o=e.assetName,l=e.assetType,c=void 0===(m=e.assetTypeDisplayName)?"":m,s=e.sellerName,u=void 0!==(v=e.isPlace)&&v,d=e.onAction,f=void 0!==(p=e.loading)&&p,m=e.currentRobuxBalance,p=void 0===(v=e.rentalOptionDays)?null:v,v=(e=we().useState(!1))[0],b=e[1];return we().useEffect(function(){return y=b,function(){y===b&&(y=null)}},[]),(0,x.renderToString)(we().createElement($,{name:o})),e=(0,Se.escapeHtml)()(s),(0,x.renderToString)(we().createElement(F,{translate:r,price:a,color:"",useFreeText:!1})),u?wa.promptBuyAccessMessage:wa.promptBuyMessage,u||""!==e||wa.promptBuySimplifiedMessage,e=0===a?(t=r(wa.getItemHeading),r(wa.getNowAction)):(t=r(wa.buyItemHeading),r(wa.buyAction)),u&&(t=r(wa.buyExperience)),we().createElement(ga,Ea({},{translate:r,titleText:n||t,actionButtonText:e,expectedPrice:a,thumbnail:i,assetName:o,assetType:l,assetTypeDisplayName:c,sellerName:s,isPlace:u,onAction:d,loading:f,currentRobuxBalance:m,rentalOptionDays:p,open:v,onCancel:h.close}))},o.purchasingResources),h]}var Pa=function(e,o,l,c){return new(l=l||Promise)(function(r,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function a(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(n,a)}i((c=c.apply(e,o||[])).next())})},Ia=function(r,n){var a,i,o,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,i=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(o=0<(o=l.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){l.label=t[1];break}if(6===t[0]&&l.label<o[1]){l.label=o[1],o=t;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(t);break}o[2]&&l.ops.pop(),l.trys.pop();continue}t=n.call(r,l)}catch(e){t=[6,e],i=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},xa=v.shouldShowUnifiedPurchaseModal,Aa=function(){return Pa(void 0,void 0,void 0,function(){var t,r,n,a,i,o;return Ia(this,function(e){switch(e.label){case 0:if(t=P.localStorageService.getLocalStorage(xa))try{if(r=JSON.parse(t),n=r.isEligible,a=r.expiry,Date.now()<a)return[2,n];P.localStorageService.removeLocalStorage(xa)}catch(e){P.localStorageService.removeLocalStorage(xa)}e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Te.getSubscriptionsMetadata()];case 2:return i=e.sent(),i=null===(o=i.data)||void 0===o?void 0:o.unifiedPurchaseFlowMetadata,o=i.isUserEligibleForUnifiedPurchaseFlow,i=i.expiresInSeconds,a=Date.now()+1e3*i,i={isEligible:o,expiry:a},P.localStorageService.setLocalStorage(xa,JSON.stringify(i)),[2,o];case 3:return e.sent(),[2,!1];case 4:return[2]}})})};function Ra(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ta(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ra(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Ra(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function Na(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ca(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){Na(n,t,r,a,i,"next",e)}function i(e){Na(n,t,r,a,i,"throw",e)}a(void 0)})}}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Da=Io,Fa=t,La=i,Ua=s,Ba=p;function ka(){function Q(){ge.itemDetail.buyButtonElementDataset&&(P.paymentFlowAnalyticsService.startRobuxUpsellFlow(ge.itemDetail.buyButtonElementDataset.assetType,!!ge.itemDetail.buyButtonElementDataset.userassetId,ge.itemDetail.buyButtonElementDataset.isPrivateServer,ge.itemDetail.buyButtonElementDataset.isPlace,ge.itemDetail.buyButtonElementDataset.productId),fe.open())}function Z(){var e,t,r;if(Pe.ItemPurchaseUpsellService&&null!==(e=ge)&&void 0!==e&&null!==(t=e.itemDetail)&&void 0!==t&&t.expectedItemPrice)if(0<=re-(null===ge||void 0===ge||null===(r=ge.itemDetail)||void 0===r?void 0:r.expectedItemPrice))Q();else try{Pe.ItemPurchaseUpsellService.startItemUpsellProcess(ge.errorObject,ge.itemDetail,ge.startOriginalFlowCallback,void 0,ge.shouldShowUnifiedPurchaseModal),window.EventTracker.fireEvent(Ua.NEW_UPSELL_FROM_REACT_BUY_BUTTON)}catch(e){window.EventTracker.fireEvent(Ua.NEW_UPSELL_FAILED_DUE_TO_ERROR),Q()}else window.EventTracker.fireEvent(Ua.NEW_UPSELL_FAILED_DUE_TO_LOADING),Q()}function J(e,t,r){var n=Math.ceil(r/60);if(24<n){var a=Math.ceil(n/24);return e("Text.EconomicRestrictionsDaysGeneral",{violation:e(null!==(r=Ba[t])&&void 0!==r?r:"Label.Sublabel.FraudPaymentAbuse"),day:a})}return e("Text.EconomicRestrictionsHoursGeneral",{violation:e(null!==(t=Ba[t])&&void 0!==t?t:"Label.Sublabel.FraudPaymentAbuse"),hour:n})}var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},ee=e.customPurchaseVerificationModal,te=e.customPurchaseVerificationModalService,re=Ie().userRobuxBalance,e=Oa((0,N.createSystemFeedback)(),2),ne=e[0],ae=e[1],e=Oa((0,N.createSystemFeedback)(),2),ie=e[0],oe=e[1],e=Oa(xe(),2),le=e[0],ce=e[1],e=Oa(Sa(),2),se=e[0],ue=e[1],e=Oa(j(),2),de=e[0],fe=e[1],e=Oa(Ae(),2),me=e[0],pe=e[1],e=Oa(X(),2),ve=e[0],be=e[1],e=Oa(S(),2),ye=e[0],he=e[1],ge={errorObject:{},itemDetail:{},startOriginalFlowCallback:function(){return null}};function t(e){function c(){return q(!0)}var s=e.translate,o=e.assetName,l=e.assetType,u=e.assetTypeDisplayName,d=e.productId,f=e.expectedCurrency,t=e.expectedPrice,m=e.expectedSellerId,p=e.expectedPromoId,v=e.userAssetId,r=e.thumbnail,n=e.sellerName,b=e.sellerType,y=e.showSuccessBanner,h=e.isPlace,g=e.isPrivateServer,E=e.handlePurchase,w=e.onPurchaseSuccess,S=e.collectibleItemId,P=e.collectibleItemInstanceId,I=e.collectibleProductId,x=e.isLimited,a=e.customProps,i=e.rentalOptionDays,A=void 0===i?null:i,R=e.saleLocationId,T=void 0===R?null:R,N=Oa((0,Ee.useState)(!1),2),C=N[0],O=N[1],M=Oa((0,Ee.useState)(null),2),D=M[0],F=M[1],i=Oa((0,Ee.useState)(null),2),L=i[0],U=i[1],e=Oa((0,Ee.useState)(t-re),2),R=e[0],B=e[1],N=Oa((0,Ee.useState)(null),2),M=N[0],k=N[1],i=Oa((0,Ee.useState)(re),2),e=i[0],j=i[1],N=Oa((0,Ee.useState)(!1),2),_=N[0],q=N[1],i=Oa((0,Ee.useState)(!1),2),N=i[0],H=i[1],i=Oa((0,Ee.useState)(!1),2),V=i[0],W=i[1];(0,Ee.useEffect)(function(){Pe.CurrentUser.isAuthenticated&&void 0===Ie().userRobuxBalance?Te.getCurrentUserBalance(Pe.CurrentUser.userId).then(function(e){j(e.data.robux),B(t-e.data.robux)}).catch(function(){j(void 0)}):(j(Ie().userRobuxBalance),B(t-Ie().userRobuxBalance))},[d,t,m]),(0,Ee.useEffect)(function(){_&&H(!0)},[_]),(0,Ee.useEffect)(function(){Pe.CurrentUser.isAuthenticated&&Aa().then(function(e){W(e)}).catch(function(){W(!1)})},[]);function z(){(te||(V?ue:ce)).close(),be.close()}function G(e,t){var r,n,a,i={assetType:l,assetTypeDisplayName:u,expectedCurrency:f,expectedPrice:t,expectedSellerId:m,itemName:o,itemType:l,productId:d,userassetId:v,placeproductpromotionId:p,isPrivateServer:g,isPlace:h,collectibleItemId:S,collectibleItemInstanceId:P,collectibleProductId:I};ge={errorObject:{shortfallPrice:e,currentCurrency:f,isPlace:h},itemDetail:{expectedItemPrice:t,assetName:o,isLimited:x,buyButtonElementDataset:i},startOriginalFlowCallback:(r=e,n=i,function(){Pe.ItemPurchaseUpsellService&&Pe.ItemPurchaseUpsellService.showExceedLargestInsufficientRobuxModal?Pe.ItemPurchaseUpsellService.showExceedLargestInsufficientRobuxModal(r,n,Q,void 0,a):Q()}),shouldShowUnifiedPurchaseModal:a=V}}function X(e){var t=e.showDivId,r=e.title,n=e.errorMsg,a=e.price,i=e.shortfallPrice,e=e.onDecline;t===Fa.transactionFailure?(F({title:r,message:n,onDecline:e}),he.open()):t===Fa.insufficientFunds?(B(i),G(i,a),Z()):t===Fa.priceChanged&&(U(a),be.open())}function Y(e){k(e),pe.open()}function $(e){var t;S?K(e):"Product"===l?(t={expectedPrice:t=e,saleLocationType:"Website",saleLocationId:T},O(!0),Re.purchaseDeveloperProduct(d,t).then(function(e){e=e.data;if(void 0!==e.FailureReason&&void 0!==e.ExpirationTimeInMinutes)return O(!1),z(),void X({title:s(Da.economicRestrictionsErrorHeading),errorMsg:J(s,e.FailureReason,e.ExpirationTimeInMinutes),showDivId:Fa.transactionFailure});O(!1),z(),e.purchased||"TwoStepVerificationRequired"!==e.reason?e.purchased?(w(),y?ae.success(s(Da.purchaseCompleteHeading)):Y({assetIsWearable:!1,transactionVerb:"",onDecline:function(){window.location.reload()}})):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.generalPurchaseErrorMessage),showDivId:Fa.transactionFailure}):c()}).catch(function(e){console.debug(e),O(!1),z();var t=null===(t=e.data)||void 0===t?void 0:t.errorCode;e&&500===e.status&&t===Fa.pendingProductsLimitExceeded?X({title:s(Da.pendingDeveloperProductLimitReachedHeading),errorMsg:s(Da.pendingDeveloperProductLimitReachedMessage),showDivId:Fa.transactionFailure}):e&&400!==(null==e?void 0:e.status)?429===e.status?X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.floodcheckFailureMessage,{throttleTime:1}),showDivId:Fa.transactionFailure}):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.generalPurchaseErrorMessage),showDivId:Fa.transactionFailure}):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.purchasingUnavailableMessage),showDivId:Fa.transactionFailure})})):"Game Pass"===l?(t={expectedPrice:t=e},O(!0),Re.purchaseGamePass(d,t).then(function(e){e=e.data;if(void 0!==e.failureReason&&void 0!==e.expirationTimeInMinutes)return O(!1),z(),void X({title:s(Da.economicRestrictionsErrorHeading),errorMsg:J(s,e.failureReason,e.expirationTimeInMinutes),showDivId:Fa.transactionFailure});O(!1),z(),e.purchased||"TwoStepVerificationRequired"!==e.reason?e.purchased?(w(),y?ae.success(s(Da.purchaseCompleteHeading)):Y({assetIsWearable:!1,transactionVerb:e.transactionVerb,onDecline:function(){window.location.reload()}})):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.generalPurchaseErrorMessage),showDivId:Fa.transactionFailure}):c()}).catch(function(e){console.debug(e),O(!1),z(),e&&400!==(null==e?void 0:e.status)?429===e.status?X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.floodcheckFailureMessage,{throttleTime:1}),showDivId:Fa.transactionFailure}):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.generalPurchaseErrorMessage),showDivId:Fa.transactionFailure}):X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.purchasingUnavailableMessage),showDivId:Fa.transactionFailure})})):(e={expectedCurrency:f,expectedPrice:e=e,expectedSellerId:m},0<p&&(e.expectedPromoId=p),0<v&&(e.userAssetId=v),E?E({params:e,handleError:X,setLoading:O,openConfirmation:Y,closeAll:z}):(O(!0),Re.purchaseItem(d,e).then(function(e){var t=e.data;if(void 0!==t.FailureReason&&void 0!==t.ExpirationTimeInMinutes)return O(!1),z(),void X({title:s(Da.economicRestrictionsErrorHeading),errorMsg:J(s,t.FailureReason,t.ExpirationTimeInMinutes),showDivId:Fa.transactionFailure});console.debug(t);var r=t.statusCode,n=t.assetIsWearable,e=t.transactionVerb;O(!1),z(),t.purchased||"TwoStepVerificationRequired"!==t.reason?500===r?X(t):(w(),y?ae.success(s(Da.purchaseCompleteHeading)):Y({assetIsWearable:n,transactionVerb:e,onDecline:function(){window.location.reload()}})):c()}).catch(function(t){if(console.debug(t),O(!1),z(),t&&(null==t?void 0:t.statusText)!==La.badRequest){429===t.status&&X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.floodcheckFailureMessage,{throttleTime:1}),showDivId:Fa.transactionFailure});try{X(JSON.parse(null==t?void 0:t.statusText))}catch(e){X({errorMsg:null==t?void 0:t.statusText})}}else X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.purchasingUnavailableMessage),showDivId:Fa.transactionFailure})})))}var K=function(){var e=Ca(regeneratorRuntime.mark(function e(r){var n,a,i,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n={collectibleItemId:S,expectedCurrency:f,expectedPrice:r,expectedPurchaserId:Pe.CurrentUser.userId,expectedPurchaserType:"User",rentalOptionDays:A,expectedSellerId:m,expectedSellerType:b,idempotencyKey:Se.uuidService.generateRandomUuid()},P&&(n.collectibleItemInstanceId=P),I&&(n.collectibleProductId=I),E)return E({params:n,handleError:X,setLoading:O,openConfirmation:Y,closeAll:z}),t.abrupt("return");t.next=6;break;case 6:return O(!0),a=P?Re.purchaseCollectibleItemInstance:Re.purchaseCollectibleItem,t.prev=8,t.next=11,a(S,n);case 11:if(l=t.sent,void 0!==(i=l.data).failureReason&&void 0!==i.expirationTimeInMinutes)return O(!1),z(),X({title:s(Da.economicRestrictionsErrorHeading),errorMsg:J(s,i.failureReason,i.expirationTimeInMinutes),showDivId:Fa.transactionFailure}),t.abrupt("return");t.next=18;break;case 18:if(o=i.transactionVerb,O(!1),z(),!("number"==typeof(l=null!==(l=i.statusCode)&&void 0!==l?l:i.status)&&400<=l||!1===(null==i?void 0:i.purchased))){t.next=26;break}!1===(null==i?void 0:i.purchased)&&"TwoStepVerificationRequired"===(null==i?void 0:i.reason)?c():!1===(null==i?void 0:i.purchased)&&"Flooded"===(null==i?void 0:i.purchaseResult)?X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.floodcheckFailureMessage,{throttleTime:1}),showDivId:Fa.transactionFailure}):"InsufficientBalance"===i.errorMessage?fe.open():X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.purchasingUnavailableMessage),showDivId:Fa.transactionFailure,onDecline:function(){window.location.reload()}}),t.next=31;break;case 26:if(w(),y)return ae.success(s(Da.purchaseCompleteHeading)),t.abrupt("return");t.next=30;break;case 30:Y({assetIsWearable:!0,transactionVerb:o,itemDelayed:null==i?void 0:i.pending,onDecline:function(){window.location.reload()}});case 31:t.next=42;break;case 33:if(t.prev=33,t.t0=t.catch(8),console.debug(t.t0),Pe.AccountIntegrityChallengeService.Generic.ChallengeError.matchAbandoned(D))return O(!1),t.abrupt("return");t.next=39;break;case 39:if(O(!1),z(),t.t0&&(null===t.t0||void 0===t.t0?void 0:t.t0.statusText)!==La.badRequest){429===t.t0.status&&X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.floodcheckFailureMessage,{throttleTime:1}),showDivId:Fa.transactionFailure});try{X(JSON.parse(null===t.t0||void 0===t.t0?void 0:t.t0.statusText))}catch(e){X({errorMsg:null===t.t0||void 0===t.t0?void 0:t.t0.statusText})}}else X({title:s(Da.errorOccuredHeading),errorMsg:s(Da.purchasingUnavailableMessage),showDivId:Fa.transactionFailure});case 42:case"end":return t.stop()}},e,null,[[8,33]])}));return function(){return e.apply(this,arguments)}}(),a=ee?we().createElement(ee,Ta({},Ta({assetName:o,assetType:l,expectedPrice:t,thumbnail:r,sellerName:n,loading:C,onAction:function(){return $(t)}},a))):V?we().createElement(se,{expectedPrice:t,thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:h,loading:C,currentRobuxBalance:e,rentalOptionDays:A,onAction:function(){return $(t),!1}}):we().createElement(le,{expectedPrice:t,thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:h,loading:C,collectibleItemId:S,collectibleItemInstanceId:P,currentRobuxBalance:e,onAction:function(){return $(t),!1}});return 0<R&&Pe.ItemPurchaseUpsellService&&G(R,null!=L?L:t),we().createElement(we().Fragment,null,we().createElement(qe,{isTwoStepVerificationActive:_,stopTwoStepVerification:function(){return q(!1)},systemFeedbackService:oe}),we().createElement(de,{robuxNeeded:R}),(!R||R<=0)&&a,D&&we().createElement(ye,{title:D.title,message:D.message,onDecline:D.onDecline}),null!=L&&we().createElement(ve,{expectedPrice:t,currentPrice:L,loading:C,onAction:function(){return $(L),!1}}),M&&we().createElement(me,Ta({thumbnail:r,assetName:o,assetType:l,assetTypeDisplayName:u,sellerName:n,isPlace:h,isPrivateServer:g,expectedPrice:L||t,currentRobuxBalance:e},M)),y&&we().createElement(ne,null),N&&we().createElement(ie,null))}return t.defaultProps={isPlace:!1,isPrivateServer:!1,productId:null,assetTypeDisplayName:"",expectedPromoId:0,userAssetId:0,showSuccessBanner:!1,handlePurchase:null,onPurchaseSuccess:function(){return null},customProps:{},collectibleItemId:null,collectibleItemInstanceId:null,collectibleProductId:null,sellerType:null,isLimited:!1,saleLocationId:null,rentalOptionDays:null},t.propTypes={translate:r().func.isRequired,productId:function(e,t,r){var n=e.collectibleItemId,a=e.productId;return n||"number"==typeof a?null:new Error("Invalid prop ".concat(t," supplied to ").concat(r,". Validation failed."))},expectedCurrency:r().number.isRequired,expectedPrice:r().number.isRequired,thumbnail:r().node.isRequired,assetName:r().string.isRequired,assetType:r().string.isRequired,assetTypeDisplayName:r().string,expectedSellerId:r().number.isRequired,sellerName:r().string.isRequired,sellerType:r().string,isPlace:r().bool,isPrivateServer:r().bool,expectedPromoId:r().number,userAssetId:r().number,showSuccessBanner:r().bool,handlePurchase:r().func,onPurchaseSuccess:r().func,customProps:r().func,collectibleItemId:r().string,collectibleItemInstanceId:r().string,collectibleProductId:r().string,isLimited:r().bool,saleLocationId:r().number,rentalOptionDays:r().number},[(0,n.withTranslations)(t,o.purchasingResources),{start:function(){function r(){(te||ce).open()}Ca(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,Aa();case 4:t=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),r(),Z(),e.abrupt("return");case 12:try{t?(te||ue).open():r()}finally{Z()}case 13:case"end":return e.stop()}},e,null,[[1,7]])}))()}}]}var ja=HeaderScripts;function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ha=m,Va=function(e,t,r){function n(){o({loading:!1,loadFailure:!0})}var a=_a((0,Ee.useState)({expectedSellerId:0,owned:!1,isPurchasable:!1,id:0,itemType:"",assetType:"",name:"",description:"",productId:0,creatorTargetId:0,creatorName:"",price:null,loading:!0,loadFailure:!1,premiumPricing:null,premiumDiscountPercentage:null,hasLimitedPrivateSales:!1,isPublicDomain:!1,premiumPriceInRobux:null,assetTypeDisplayName:"",offSaleDeadline:null,unitsAvailableForConsumption:0,isLimited:!1,resellerAvailable:!1,firstReseller:{},priceStatus:"",isMarketPlaceEnabled:!0}),2),i=a[0],o=a[1],l=(0,Ee.useCallback)(function(){e(t,r).then(function(e){var e=e.data,t={expectedSellerId:e.expectedSellerId,owned:e.owned,id:e.id,itemType:e.itemType,assetType:e.assetType,name:e.name,description:e.description,productId:e.productId,price:e.price,lowestPrice:e.lowestPrice,creatorTargetId:e.creatorTargetId,creatorName:e.creatorName,hasLimitedPrivateSales:void 0!==e.lowestPrice,isPublicDomain:0===e.price,offSaleDeadline:e.offSaleDeadline,isLimited:e.itemRestrictions.includes("Limited")||e.itemRestrictions.includes("LimitedUnique"),unitsAvailableForConsumption:void 0!==e.unitsAvailableForConsumption?e.unitsAvailableForConsumption:0,priceStatus:void 0!==e.priceStatus?e.priceStatus:"",itemRestrictions:e.itemRestrictions};void 0!==e.premiumPricing&&(t.premiumPriceInRobux=e.premiumPricing.premiumPriceInRobux,t.premiumDiscountPercentage=e.premiumPricing.premiumDiscountPercentage),t.isLimited&&(t.price=void 0!==t.lowestPrice?t.lowestPrice:t.price,Te.getResellerDetail(t.id).then(function(e){t.resellerAvailable=0<e.data.data.length,t.resellerAvailable&&(e=_a(e.data.data,1)[0],t.price=e.price,t.firstReseller=e)})),Te.getItemPurchasableDetail(e.productId).then(function(e){!e.data.purchasable&&e.data.reason&&e.data.reason!==Ha.insufficientFunds?t.isPurchasable=e.data.purchasable:t.isPurchasable=!0,t.assetTypeDisplayName=e.data.assetTypeDisplayName,t.loading=!1,t.loadFailure=!1,Te.getEconomyMetadata().then(function(e){t.isMarketPlaceEnabled=e.data.isMarketPlaceEnabled&&e.data.isItemsXchangeEnabled,o(t)}).catch(function(){n()})}).catch(function(e){e.statusText===Ha.unauthorizedMessage?(t.loading=!1,t.loadFailure=!1,o(t)):n()})}).catch(function(){n()})},[t,r,e]);return(0,Ee.useEffect)(function(){l()},[]),{itemDetail:i,loadItemDetail:l}},v=function(){var e=document.getElementById("item-container");return e?{itemDetailItemId:parseInt(e.getAttribute("data-item-id"),10),itemDetailItemType:e.getAttribute("data-item-type")}:null},Wa=RobloxThumbnails;function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var un=ka(),Ga=(i=(dn=2,function(e){if(Array.isArray(e))return e}(un=un)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(un,dn)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(e,t)}(un,dn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],Xa=i[1],Ya=Io,$a=O.getPremiumConversionUrl;function Ka(e){var t=e.translate,r=e.productId,n=e.price,a=e.itemName,i=e.itemType,o=e.assetTypeDisplayName,l=e.sellerName,c=e.expectedSellerId,s=e.isPurchasable,u=e.isOwned,d=e.isPlugin,f=e.itemDetailItemId,m=e.loading,p=e.userQualifiesForPremiumPrices,v=e.premiumPriceInRobux,b=e.isAuthenticated,y=e.resellerAvailable,h=e.firstReseller,y=e.isMarketPlaceEnabled&&(y||s),s=function(){return t(0===n?Ya.getAction:Ya.buyAction)};if(m)return we().createElement(N.Loading,null);if(!b)return null!=v?we().createElement(N.Button,{id:"upgrade-button",className:"btn-fixed-width-lg btn-primary-lg",onClick:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.PREMIUM_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.GET_PREMIUM),window.open($a(f,i))}},t(Ya.getPremiumAction)):we().createElement(N.Button,{className:"btn-fixed-width-lg btn-growth-lg PurchaseButton",onClick:function(){window.location="/login"}},s());b=we().createElement(Wa.Thumbnail2d,{type:"bundle"===i?Wa.ThumbnailTypes.bundleThumbnail:Wa.ThumbnailTypes.assetThumbnail,size:Wa.DefaultThumbnailSize,targetId:f,format:Wa.ThumbnailFormat.webp,altName:a});return d&&(u||0===n)?we().createElement(we().Fragment,null,we().createElement(N.Button,{className:"btn-fixed-width-lg btn-primary-lg InstallButton",onClick:function(){var e;e=f,Pe.GameLauncher.openPluginInStudio(e)}},we().createElement("span",null,t(Ya.installAction)))):we().createElement(we().Fragment,null,we().createElement(N.Button,{className:"btn-fixed-width-lg btn-growth-lg PurchaseButton",onClick:Xa.start,isDisabled:!y},s()),we().createElement(Ga,{productId:r,expectedPrice:p&&null!=v?v:n,thumbnail:b,assetTypeDisplayName:o,assetName:a,sellerName:h?h.seller.name:l,expectedSellerId:h?h.seller.id:c,userAssetId:h?h.userAssetId:0,showSuccessBanner:!0}))}Ka.propTypes={translate:r().func.isRequired,productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number.isRequired,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}).isRequired,isMarketPlaceEnabled:r().bool.isRequired};var Qa=(0,n.withTranslations)(Ka,o.itemResources),Za=Io;function Ja(e){var t=e.translate,r=e.isLimited,e=e.resellerAvailable,e=r&&e;return we().createElement("div",{className:"text-label field-label price-label"},we().createElement("span",null,t(e?Za.bestPriceLabel:Za.priceLabel)))}Ja.propTypes={translate:r().func.isRequired,isLimited:r().bool.isRequired,resellerAvailable:r().bool.isRequired};var ei=(0,n.withTranslations)(Ja,o.itemResources),ti=Io,ri=m,ni=O.getPremiumConversionUrl;function ai(e){function t(e){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PREMIUM_PURCHASE,!1,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.PREMIUM_UPSELL,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,e.target.innerText)}var r=e.translate,n=e.price,a=e.itemType,i=e.itemDetailItemId,o=e.premiumPriceInRobux,l=e.premiumDiscountPercentage,c=e.userQualifiesForPremiumPrices,s=e.isOwned,u=e.loading,d=e.loadFailure,f=e.unitsAvailableForConsumption,m=e.isLimited,p=e.isPlugin,v=e.resellerAvailable,b=e.priceStatus,y=e.offSaleDeadline,h=e.isMarketPlaceEnabled,g=null==o&&null==n,E=!0,e="";return u?we().createElement(N.Loading,null):(!u&&d?e=ri.retryErrorMessage:b===ti.offSale&&null===y?e=r(ti.itemNoLongerForSaleLabel):h||s?p||!s||m?m&&0===f&&!v?e=r(ti.noOneCurrentlySellingLabel):E=!1:e=r(ti.itemAvailableInventoryLabel):e=r(ti.purchasingTemporarilyUnavailableLabel),0===n?null:E&&!s?we().createElement("div",{className:"price-container-text"},we().createElement("div",{className:"item-first-line"}," ",e," ")):we().createElement(we().Fragment,null,we().createElement("div",{className:"price-container-text"},E?we().createElement("div",{className:"item-first-line"}," ",e," "):null,we().createElement(ei,{translate:r,isLimited:m,resellerAvailable:v}),we().createElement("div",{className:"price-info"},we().createElement("div",{className:"icon-text-wrapper clearfix icon-robux-price-container"},g?we().createElement("span",{className:"icon-robux-16x16 icon-robux-gray-16x16 wait-for-i18n-format-render"}):we().createElement("span",{className:"icon-robux-16x16 wait-for-i18n-format-render"}),we().createElement("span",{className:"text-robux-lg wait-for-i18n-format-render"},c&&null!=o?Se.numberFormat.getNumberFormat(o):Se.numberFormat.getNumberFormat(n)))),function(){if(null==o||s)return null;if(null==n)return c?we().createElement("span",{className:"small text field-content empty-label wait-for-i18n-format-render"},r(ti.premiumExclusiveEligiblePromptLabel)):we().createElement("span",{className:"small text field-content empty-label wait-for-i18n-format-render"},r(ti.premiumExclusiveIneligiblePromptLabel));var e={originalPrice:(0,x.renderToString)(we().createElement(F,{price:n})),discountPercentage:l,premiumDiscountedPrice:(0,x.renderToString)(we().createElement(F,{price:o}))};return we().createElement(we().Fragment,null,we().createElement("div",{className:"text-label field-label empty-label"},""),we().createElement("span",{className:"premium-prompt small text field-content empty-label wait-for-i18n-format-render"},c?we().createElement("a",{"aria-label":" ",href:ni(i,a),dangerouslySetInnerHTML:{__html:r(ti.premiumDiscountSavingsLabel,e)},onClick:function(e){t(e),window.open(ni(i,a))}}):we().createElement("a",{"aria-label":" ",href:ni(i,a),dangerouslySetInnerHTML:{__html:r(ti.premiumDiscountOpportunityPromptLabel,e)},onClick:function(e){t(e),window.open(ni(i,a))}})))}())))}ai.propTypes={translate:r().func.isRequired,price:r().number.isRequired,itemType:r().string.isRequired,itemDetailItemId:r().number.isRequired,premiumPriceInRobux:r().number.isRequired,premiumDiscountPercentage:r().number.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,loading:r().bool.isRequired,isOwned:r().bool.isRequired,loadFailure:r().bool.isRequired,unitsAvailableForConsumption:r().number.isRequired,isLimited:r().bool.isRequired,isPlugin:r().bool.isRequired,resellerAvailable:r().bool.isRequired,priceStatus:r().string.isRequired,offSaleDeadline:r().string.isRequired,isMarketPlaceEnabled:r().bool.isRequired};var ii=(0,n.withTranslations)(ai,o.itemModelResources);function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return li(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ci=Io;function si(e){var t=e.translate,r=e.offSaleDeadline,e=oi((0,Ee.useState)(0),2),n=e[0],a=e[1],e=oi((0,Ee.useState)(0),2),i=e[0],o=e[1],e=oi((0,Ee.useState)(0),2),l=e[0],c=e[1],e=oi((0,Ee.useState)(0),2),s=e[0],u=e[1];(0,Ee.useEffect)(function(){function e(){var e;new Date<new Date(r)&&(e=+new Date,e=(new Date(r).getTime()-e)/1e3,a(Math.floor(e/86400)),o(Math.floor(e/3600%24)),c(Math.floor(e/60%60)),u(Math.floor(e%60)))}var t;return e(),t=setInterval(e,1e3),function(){return clearInterval(t)}},[a,o,c,u]);return we().createElement("div",{id:"sale-clock",className:"text-error sale-clock desktop-sale-clock"},function(){if(n<1){var e={numberOfHours:i,numberOfMinutes:l,numberOfSeconds:s};return we().createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:t(ci.OffsaleCountdownHourMinuteSecondLabel,e)}})}if(s<1)return window.location.reload(),null;e={numberOfDays:n,numberOfHours:i,numberOfMinutes:l};return we().createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:t(ci.CountdownTimerDayHourMinute,e)}})}())}si.propTypes={translate:r().func.isRequired,offSaleDeadline:r().string.isRequired};var ui=(0,n.withTranslations)(si,o.itemResources),di=Io,fi=u,mi=d,pi=O.getInventoryUrl;function vi(e){var t=e.translate,r=e.assetType,n=ja.deviceMeta.getDeviceMeta(),a="phone"===n.deviceType,e=pi(ja.authenticatedUser.id),i=r===fi.Plugin||r===fi.Decal||r===fi.Model||r===fi.Video||r===fi.Animation?mi.Library:r===fi.Place||r===fi.Badge||r===fi.GamePass||r===fi.Animation?null:mi.Catalog;return i!==mi.Catalog||n.isInApp||!ja.deviceMeta.isAndroidApp&&!ja.deviceMeta.isIosApp||!ja.deviceMeta.isPhone&&!ja.deviceMeta.isTablet?i!==mi.Catalog||a?we().createElement("a",{id:"inventory-button",href:e,className:"btn-fixed-width-lg btn-control-md"},t(di.inventoryAction)):we().createElement("a",{id:"edit-avatar-button",href:"/my/avatar",className:"btn-control-md"},we().createElement("span",{className:"icon-nav-charactercustomizer"})):we().createElement("a",{id:"open-in-avatar-editor-button",href:"/#",className:"btn-fixed-width-lg btn-control-md"},we().createElement("span",{className:"icon-nav-charactercustomizer"}))}vi.propTypes={translate:r().func.isRequired,assetType:r().number.isRequired};var bi=(0,n.withTranslations)(vi,o.itemResources),yi=v,hi=u;function gi(e){var t=e.translate,e=yi(),r=e.itemDetailItemId,e=e.itemDetailItemType,n=Va(Te.getItemDetails,r,e).itemDetail;return we().createElement(we().Fragment,null,we().createElement(ii,{translate:t,price:n.price,itemType:n.itemType,itemDetailItemId:r,premiumPriceInRobux:n.premiumPriceInRobux,premiumDiscountPercentage:n.premiumDiscountPercentage,userQualifiesForPremiumPrices:ja.authenticatedUser.isPremiumUser,isOwned:n.owned,loading:n.loading,loadFailure:n.loadFailure,unitsAvailableForConsumption:n.unitsAvailableForConsumption,isLimited:n.isLimited,isPlugin:n.assetType===hi.Plugin,resellerAvailable:n.resellerAvailable,priceStatus:n.priceStatus,offSaleDeadline:n.offSaleDeadline,isMarketPlaceEnabled:n.isMarketPlaceEnabled}),!n.loadFailure&&(n.owned&&(!n.isLimited||0<n.unitsAvailableForConsumption)?we().createElement("div",{className:"action-button"},we().createElement(bi,{translate:t,assetType:n.assetType})):we().createElement("div",{className:"action-button"},we().createElement(Qa,{translate:t,productId:n.productId,price:n.price,itemType:n.itemType,assetTypeDisplayName:n.assetTypeDisplayName,itemName:n.name,sellerName:n.creatorName,expectedSellerId:n.expectedSellerId,isPurchasable:n.isPurchasable,isOwned:n.owned,isInstallable:n.assetType===hi.Plugin,itemDetailItemId:r,loading:n.loading,hasLimitedPrivateSales:n.hasLimitedPrivateSales,userQualifiesForPremiumPrices:ja.authenticatedUser.isPremiumUser,premiumPriceInRobux:n.premiumPriceInRobux,isAuthenticated:ja.authenticatedUser.isAuthenticated,unitsAvailableForConsumption:n.unitsAvailableForConsumption,isLimited:n.isLimited,resellerAvailable:n.resellerAvailable,firstReseller:n.firstReseller,isMarketPlaceEnabled:n.isMarketPlaceEnabled}),null!==n.offSaleDeadline&&we().createElement(ui,{translate:t,offSaleDeadline:n.offSaleDeadline}))))}gi.propTypes={translate:r().func.isRequired};var Ei=gi;function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ii(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Pi(Object(a),!0).forEach(function(e){var t,r;t=n,e=a[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Pi(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}var xi,s=function(e,t){e=Ii(Ii({},e),{},{expectedSellerId:t.expectedSellerId,owned:t.owned,id:t.id,itemType:t.itemType,assetType:t.assetType,name:t.name,description:t.description,productId:t.productId,price:t.price,lowestPrice:t.lowestPrice,creatorTargetId:t.creatorTargetId,creatorName:t.creatorName,hasLimitedPrivateSales:void 0!==t.lowestPrice,isPublicDomain:0===t.price,offSaleDeadline:t.offSaleDeadline,isLimited:t.itemRestrictions.includes("Limited")||t.itemRestrictions.includes("LimitedUnique"),collectibleItemId:t.collectibleItemId,collectibleItemDetails:t.collectibleItemDetails,unitsAvailableForConsumption:void 0!==t.unitsAvailableForConsumption?t.unitsAvailableForConsumption:0,priceStatus:null!==(e=t.priceStatus)&&void 0!==e?e:t.priceStatus,itemRestrictions:t.itemRestrictions});return void 0!==t.premiumPricing&&(e.premiumPriceInRobux=t.premiumPricing.premiumPriceInRobux,e.premiumDiscountPercentage=t.premiumPricing.premiumDiscountPercentage),e.isLimited&&(e.price=void 0!==e.lowestPrice?e.lowestPrice:e.price),void 0!==e.collectibleItemId&&(e.resellerAvailable=t.hasResellers,e.isPurchasable=void 0!==t.lowestPrice,e.isMarketPlaceEnabled="ShopAndAllExperiences"===t.saleLocationType||"ShopOnly"===t.saleLocationType),e},i=function(e,t){e=Ii({},e);return e.resellerAvailable=0<t.data.data.length,e.resellerAvailable&&(t=wi(t.data.data,1)[0],e.price=t.price,e.firstReseller=t),e},d=function(e,t,r){var n=m,e=Ii({},e);return!t.purchasable&&t.reason&&t.reason!==n.insufficientFunds&&t.reason!==n.twoStepVerificationRequired?e.isPurchasable=t.purchasable:(!t.purchasable&&t.reason&&t.reason===n.twoStepVerificationRequired&&(e.twoStepVerificationRequired=!0),e.isPurchasable=!0),e.assetTypeDisplayName=t.assetTypeDisplayName,e.loading=!1,e.loadFailure=!1,e.isMarketPlaceEnabled=r.data.isMarketPlaceEnabled&&r.data.isItemsXchangeEnabled,e},v=function(e){e=Ii({},e);return e.isPurchasable=!1,e};(u=xi=xi||{}).Asset="asset",u.Bundle="bundle";var Ai=xi;function Ri(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ti(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){Ri(n,t,r,a,i,"next",e)}function i(e){Ri(n,t,r,a,i,"throw",e)}a(void 0)})}}function Ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oi,Mi=y,Di=s,Fi=i,Li=d,Ui=v,Bi=function(i){var a=(r=Ni((0,Ee.useState)(),2))[0],t=r[1],e=Ni((0,Ee.useState)([]),2),r=e[0],o=e[1],l=(e=Ni((0,Ee.useState)({}),2))[0],c=e[1],n=0,s=function(){n<Mi?(v(),n+=1):o([{loading:!1,loadFailure:!0}])},u=(0,Ee.useCallback)(function(){ja.authenticatedUser.isAuthenticated?Te.getEconomyMetadata().then(function(e){t(e)}).catch(function(){s()}):t({data:{isMarketplaceEnabled:!1,isItemsXchangeEnabled:!1}})},[]);function d(e){return f.apply(this,arguments)}function f(){return(f=Ti(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inCache)return e.abrupt("return",l[t.itemType.toLowerCase()][t.id]);e.next=2;break;case 2:if((r=Di({},t)).isLimited)return e.prev=4,e.next=7,Te.getResellerDetail(r.id);e.next=14;break;case 7:n=e.sent,r=Fi(r,n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.resellerAvailable=!1;case 14:if(void 0===t.productId){e.next=24;break}if(!ja.authenticatedUser.isAuthenticated){e.next=23;break}if(void 0===r.collectibleItemId)return e.next=19,Te.getItemPurchasableDetail(t.productId);e.next=21;break;case 19:n=e.sent,r=Li(r,n.data,a);case 21:e.next=24;break;case 23:r=Ui(r);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}},e,null,[[4,11]])}))).apply(this,arguments)}function m(){return(m=Ti(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map(function(e){return d(e)}));case 3:r=e.sent,o(r),n=l,r.forEach(function(e){e.isLimited||l[e.itemType.toLowerCase()][e.id]||(n[e.itemType.toLowerCase()][e.id]=e)}),c(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s();case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function p(){return(p=Ti(regeneratorRuntime.mark(function e(){var t,r,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],i.forEach(function(e){void 0===l[e.itemType.toLowerCase()][e.id]&&t.push(e)}),0<t.length)return n=[],t.map(function(e){return n.push({itemType:e.itemType,id:e.id})}),e.next=7,Pe.ItemDetailsHydrationService.getItemDetails(n,!1,!0);e.next=8;break;case 7:r=e.sent;case 8:return a=[],i.forEach(function(t){var e;void 0===l[t.itemType.toLowerCase()][t.id]?(e=r.find(function(e){return e.id===t.id&&e.itemType.toLowerCase()===t.itemType.toLowerCase()}))&&a.push(e):a.push({id:t.id,itemType:t.itemType,inCache:!0})}),e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=(0,Ee.useCallback)(function(){(function(){return p.apply(this,arguments)})().then(function(e){try{!function(){m.apply(this,arguments)}(e)}catch(e){s()}}).catch(function(){s()})},[a,i,d]);return(0,Ee.useEffect)(function(){var e={};e[Ai.Asset]={},e[Ai.Bundle]={},c(e),u()},[]),(0,Ee.useEffect)(function(){void 0!==a&&v()},[a,i]),{itemDetails:r,batchLoadItemDetails:v}},ki={Neutral:"bg-shift-300",Contrast:"bg-system-contrast",Success:"bg-system-success",Warning:"bg-system-warning",Alert:"bg-system-alert",OverMedia:"bg-[var(--light-mode-surface-100)]"},ji={Neutral:"content-emphasis",Contrast:"content-inverse-emphasis",Success:"content-[var(--light-mode-content-emphasis)]",Warning:"content-[var(--light-mode-content-emphasis)]",Alert:"content-[var(--dark-mode-content-emphasis)]",OverMedia:"content-[var(--light-mode-content-emphasis)]"},_i={Neutral:"stroke-none",Contrast:"stroke-none",Success:"stroke-none",Warning:"stroke-none",Alert:"stroke-none",OverMedia:"stroke-standard"},qi=we().forwardRef(function(e,t){var r=e.className,n=e.label,a=e.variant,i=void 0===a?"Neutral":a,o=e.icon,a=Ve(e,["className","label","variant","icon"]),e=o&&!n;return we().createElement("div",He({ref:t},a,{className:We("foundation-web-badge flex items-center radius-circle select-none height-600 gap-xsmall",e?"width-600 justify-center":"width-[fit-content] padding-x-small",ki[i],ji[i],_i[i],r),style:{borderColor:"var(--light-mode-stroke-default)"}}),o&&we().createElement(Ur,{name:o,size:"XSmall"}),n&&we().createElement("span",{className:We("text-no-wrap text-truncate-split text-label-small",ji[i])},n))});qi.displayName="Badge",(v=Oi=Oi||{}).Success="Success",v.AlreadyOwned="ALREADY_OWNED",v.InsufficientFunds="INSUFFICIENT_ROBUX",v.ExceptionOccured="INTERNAL",v.TooManyPurchases="QUOTA_EXCEEDED",v.CaughtError="CaughtError",v.PremiumNeeded="INSUFFICIENT_MEMBERSHIP",v.NoSellers="NOT_FOR_SALE",v.TwoStepVerificationRequired="TwoStepVerificationRequired",v.InExperienceOnly="PURCHASE_PLACE_INVALID";var Hi=Oi;function Vi(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Wi(l){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=l.apply(e,o);function a(e){Vi(n,t,r,a,i,"next",e)}function i(e){Vi(n,t,r,a,i,"throw",e)}a(void 0)})}}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xi=p,Yi=Io,$i=b,Ki=f,Qi=h;function Zi(e){var t=e.itemsCount,r=e.item,n=e.index,a=e.timedOption,i=e.translate,o=r.name,e=t-$i,n=$i<t&&n===$i-1;return we().createElement("div",{className:"modal-multi-item-image-container"},a&&we().createElement("div",{className:"timed-options-badge-container"},we().createElement(qi,{variant:"Neutral",icon:"icon-regular-clock",className:"bg-surface-0",label:null!=a&&a.days?i(Yi.timedOptionDaysAbbreviation,{days:a.days}):""})),we().createElement(Wa.Thumbnail2d,{type:r.itemType.toLowerCase()===Ai.Bundle?Wa.ThumbnailTypes.bundleThumbnail:Wa.ThumbnailTypes.assetThumbnail,size:Wa.DefaultThumbnailSize,targetId:r.id,containerClass:"batch-buy-thumbnail",format:Wa.ThumbnailFormat.webp,altName:o}),n&&we().createElement("div",{className:"thumb-overlay"},we().createElement("div",{className:"font-header-1"},"",e)))}var Ji=function(e,t){var r=zi(t.split("/"),4),n=r[2],a=r[3],t=Math.ceil(a/60);if(24<t){r=Math.ceil(t/24);return{success:!1,message:"Text.EconomicRestrictionsDaysGeneral",params:{violation:e(null!==(a=Xi[n])&&void 0!==a?a:"Label.Sublabel.FraudPaymentAbuse"),day:r}}}return{success:!1,message:"Text.EconomicRestrictionsHoursGeneral",params:{violation:e(null!==(n=Xi[n])&&void 0!==n?n:"Label.Sublabel.FraudPaymentAbuse"),hour:t}}};function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var no=Io,ao=function(){return Pe.Guac.callBehaviour("vng-buy-robux")};function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lo,co=Io,so=(Io=io(j(),2))[0],uo=Io[1],fo=(Io=io((lo=(h=zi((0,N.createModal)(),2))[0],h=h[1],po.defaultProps={title:"",loading:!1},po.propTypes={translate:r().func.isRequired,title:r().string,expectedTotalPrice:r().number.isRequired,items:r().arrayOf(r().shape({itemName:r().string.isRequired,itemType:r().string.isRequired,timedOption:r().shape({days:r().number.isRequired,price:r().number.isRequired})})).isRequired,currentRobuxBalance:r().number.isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,itemDetails:r().arrayOf(r().shape({productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number.isRequired,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}).isRequired,isMarketPlaceEnabled:r().bool.isRequired})).isRequired,onCancel:r().func.isRequired,onTransactionComplete:r().func.isRequired,onAction:r().func.isRequired,loading:r().bool,productSurface:r().string.isRequired,systemFeedbackService:r().func.isRequired},[(0,n.withTranslations)(po,o.purchasingResources),h]),2))[0],mo=Io[1];function po(e){var t,n=e.translate,r=e.title,a=e.expectedTotalPrice,u=e.items,d=e.itemDetails,i=e.currentRobuxBalance,f=e.purchaseMetadata,o=e.onCancel,m=e.onTransactionComplete,l=e.onAction,c=e.loading,p=e.productSurface,s=e.systemFeedbackService,v=zi((0,Ee.useState)(!1),2),b=v[0],y=v[1],h=function(){s.loading(n("Message.TwoStepVerificationBatchPurchase")),y(!0)},g=zi((0,Ee.useState)(!1),2),E=g[0],w=g[1],S={itemCount:d.length,robux:(0,x.renderToString)(we().createElement("span",{className:"robux-price"},we().createElement(F,{price:a})))},e=Yi.batchBuyPromptMessage,v=0===a?(t=n(Yi.getItemHeading),n(Yi.getNowAction)):(t=n(Yi.buyItemHeading),n(Yi.buyNowAction)),g=null==d?void 0:d.slice(0,$i);function P(e){var t=function(e,t,r){var n=0,a=[];if(!t)return{success:!1,message:Yi.purchaseErrorFailureMessage};if(200===t.status){if(t.data&&t.data.message&&t.data.message.startsWith("Error/EconomicRestrictions")){var i=t.data.message;return Ji(e,i)}if(t.data.fulfillmentGroups[0].lineItems.forEach(function(t){var e;"SUCCEEDED"===t.status?n+=1:(e=a.find(function(e){return e.error===t.errorReason}))?e.count+=1:a.push({error:t.errorReason,count:1})}),n===t.data.fulfillmentGroups[0].lineItems.length)return{success:!0,message:Yi.purchaseCompleteHeading};var o={error:"",count:0};if(a.forEach(function(e){e.count>o.count&&(o=e)}),0<n)switch(o.error){case Hi.AlreadyOwned:return{success:!1,message:Yi.batchBuyPartialSuccessItemsOwnedFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.InsufficientFunds:return{success:!1,message:Yi.batchBuyPartialSuccessInsufficientFundsFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.ExceptionOccured:return{success:!1,message:Yi.batchBuyPartialSuccessNetworkErrorFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.TooManyPurchases:return{success:!1,message:Yi.batchBuyPartialSuccessFloodcheckFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.PremiumNeeded:return{success:!1,message:Yi.batchBuyPartialSuccessPremiumNeededFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.NoSellers:return{success:!1,message:Yi.batchBuyPartialSuccessNoSellersFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};case Hi.InExperienceOnly:return{success:!1,message:Yi.batchBuyPartialSuccessInExperienceOnlyFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}};default:return{success:!1,message:Yi.batchBuyPartialSuccessGeneralFailureMessage,params:{itemCountSuccess:n,itemCountFailure:o.count}}}else switch(o.error){case Hi.AlreadyOwned:return{success:!1,message:Yi.batchBuyItemsOwnedFailureMessage};case Hi.InsufficientFunds:return{success:!1,message:Yi.insufficientFundsFailureMessage};case Hi.ExceptionOccured:return{success:!1,message:Yi.networkErrroFailureMessage};case Hi.TooManyPurchases:return{success:!1,message:Yi.floodcheckFailureMessage,params:{throttleTime:Qi}};case Hi.PremiumNeeded:return{success:!1,message:Yi.premiumNeededFailureMessage};case Hi.NoSellers:return{success:!1,message:Yi.noSellersFailureMessage};case Hi.InExperienceOnly:return{success:!1,message:Yi.inExperienceOnlyFailureMessage};default:return{success:!1,message:Yi.purchaseErrorFailureMessage}}}else if(403===t.status&&t.data.message.includes("2sv"))r();else if(400===t.status&&t.data.message.includes("InsufficientTotalBalance"))return{success:!1,message:Yi.insufficientFundsFailureMessage};return{success:!1,message:Yi.purchaseErrorFailureMessage}}(n,e,h),e=t.params?n(t.message,t.params):n(t.message);t.success?s.success(e):s.warning(e)}function I(){return(I=Wi(regeneratorRuntime.mark(function e(){var t,n,a,r,i,o,l,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={strategy:"BEST_EFFORT",lineItems:[]},n=[],a=[],d.forEach(function(t){var e,r={};void 0!==t.collectibleItemId?(e=u.find(function(e){return e.id===t.id&&e.itemType===t.itemType}),!("ExperiencesDevApiOnly"!==t.collectibleItemDetails.saleLocationType&&0<t.collectibleItemDetails.unitsAvailableForConsumption&&(!t.collectibleItemDetails.hasResellers||t.collectibleItemDetails.price<t.collectibleItemDetails.lowestResalePrice))&&t.collectibleItemDetails.lowestAvailableResaleProductId?r.collectibleProductId=t.collectibleItemDetails.lowestAvailableResaleProductId:r.collectibleProductId=t.collectibleItemDetails.collectibleProductId,null!=e&&e.timedOption?(r.rentalOption={durationDays:e.timedOption.days},r.agreedPriceRobux=e.timedOption.price):r.agreedPriceRobux=t.collectibleItemDetails.lowestPrice):void 0!==t.firstReseller?(r.limitedV1InstanceId="".concat(t.firstReseller.userAssetId),r.agreedPriceRobux=t.firstReseller.price):(r.virtualEconomyProductId="".concat(t.productId),r.agreedPriceRobux=t.premiumPriceInRobux&&ja.authenticatedUser.isPremiumUser?t.premiumPriceInRobux:t.price),n.push(r);r={data:{itemData:{},reason:""}};"Asset"===t.itemType?r.data.itemData.assetId=t.id:r.data.itemData.bundleId=t.id,a.push(r)}),t.lineItems=n,r=f.has(Ki.LookId)?f.get(Ki.LookId):"",i=Se.uuidService.generateRandomUuid(),i=void 0!==r&&""!==r?"web_looks_purchase-".concat(r,"-").concat(i):i,e.prev=8,e.next=11,Re.bulkPurchaseItem(Pe.CurrentUser.userId,p,t,i);case 11:if(o=e.sent,(l=o.data).message&&l.message.startsWith("Error/EconomicRestrictions"))return P(o),m(a),e.abrupt("return");e.next=17;break;case 17:c=0,l.fulfillmentGroups[0].lineItems.forEach(function(e){a[c].data.reason="SUCCEEDED"===e.status?"Success":e.errorReason,c+=1}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(8),o=e.t0,s=0,a.forEach(function(e){o&&(a[s].data.reason=null===o||void 0===o?void 0:o.data.message),s+=1});case 26:P(o),m(a);case 28:case"end":return e.stop()}},e,null,[[8,21]])}))).apply(this,arguments)}g=we().createElement(Ee.Fragment,null,we().createElement("div",{className:"modal-message multi-item",dangerouslySetInnerHTML:{__html:n(e,S)}}),void 0!==d&&0<d.length&&we().createElement("div",{className:"modal-multi-item-images-container"},g.map(function(t,e){var r=u.find(function(e){return e.id===t.id&&e.itemType===t.itemType});return we().createElement(Zi,{key:t.itemId,itemsCount:d.length,item:t,index:e,timedOption:null==r?void 0:r.timedOption,translate:n})})));return we().createElement(we().Fragment,null,we().createElement(qe,{isTwoStepVerificationActive:b,stopTwoStepVerification:function(){w(!0),y(!1)},systemFeedbackService:s}),we().createElement(lo,{title:r||t,body:g,neutralButtonText:n(Yi.cancelAction),actionButtonText:v,onAction:function(){var t=!1;d.forEach(function(e){t=t||e.twoStepVerificationRequired}),t&&!E?h():(function(){I.apply(this,arguments)}(),l())},onNeutral:function(){o()},footerText:we().createElement(H,{expectedPrice:a,currentRobuxBalance:i}),loading:c,actionButtonShow:d}))}var vo,bo=(Io=io((vo=(h=to((0,N.createModal)(),2))[0],h=h[1],ho.defaultProps={onContinueToPayment:null},ho.propTypes={translate:r().func.isRequired,onContinueToPayment:r().func},[(0,n.withTranslations)(ho,o.purchasingResources),h]),2))[0],yo=Io[1];function ho(e){var t=e.translate,r=e.onContinueToPayment,e=t(no.redirectToPartnerWebsiteMessage,{linebreak:"\n\n"})||"This purchase must be completed on our partners website. You will be returned to Roblox after the purchase is completed.\n\n Proceed to partner website for payment?",e=we().createElement("p",{className:"modal-body"},e);return we().createElement(vo,eo({title:t(no.leavingRobloxHeading)||"Leaving Roblox",body:e,neutralButtonText:t(no.cancelAction),actionButtonText:t(no.continueToPaymentAction)||"Continue To Payment",onAction:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CONTINUE_TO_VNG),r()},onClose:function(){P.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(P.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_CATALOG_ROBUX_UPSELL,!0,P.paymentFlowAnalyticsService.ENUM_VIEW_NAME.LEAVE_ROBLOX_WARNING,P.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,P.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.CANCEL)}},{actionButtonShow:!0}))}function go(e){var t=e.currentUserBalance,r=e.items,n=e.itemDetails,a=e.purchaseMetadata,i=e.onBuyButtonClick,o=e.onConfirm,l=e.onCancel,c=e.onTransactionComplete,s=e.productSurface,u=e.displayPriceOnButton,d=e.systemFeedbackService,f=e.translate,m=e.variant,p=void 0===m?N.Button.variants.growth:m,v=e.size,b=void 0===v?N.Button.sizes.large:v,y=!1,h=0,g=0,E=[],w=io((0,Ee.useState)(!1),2),m=w[0],S=w[1],e=io((0,Ee.useState)(!1),2),P=e[0],I=e[1],v=io((0,Ee.useState)(null),2),w=v[0],x=v[1],e=io((0,Ee.useState)(null),2),v=e[0],A=e[1];(0,Ee.useEffect)(function(){ao().then(function(e){e=e.shouldShowVng;I(e)}).catch(function(e){console.debug(e),I(!1)})},[]);if(!ja.authenticatedUser.isAuthenticated)return we().createElement("div",{className:"sign-in"},we().createElement(N.Button,{className:"action-button batch-buy-purchase-button sign-in-button",variant:p,size:b,onClick:function(){var e;window.location=(e={ReturnUrl:window.location.pathname},Se.urlService.getUrlWithQueries("/login",e))}},f(co.buyAction)));if(void 0===n||0<n.length&&n[0]&&n[0].loading||void 0===t)return we().createElement("div",{className:"loading"},we().createElement(N.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,isDisabled:!0},we().createElement(N.Loading,null)));if(0===n.length||n[0]&&n[0].loadFailure)return we().createElement(N.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,isDisabled:!0},u?we().createElement("div",{className:"purchase-price"},we().createElement("span",{className:"icon-robux-white-28x28"}),we().createElement("span",{className:"purchase-price-text text-robux-lg"},Se.numberFormat.getNumberFormat(h))):we().createElement("div",null,f(co.buyAction)));n.forEach(function(t){(void 0!==(e=t).collectibleItemId?e.isMarketPlaceEnabled&&e.isPurchasable||e.resellerAvailable:e.isMarketPlaceEnabled&&(e.resellerAvailable||e.isPurchasable))&&(y=!0);var e=r.find(function(e){return e.id===t.id&&e.itemType===t.itemType});null!=e&&e.timedOption?h+=e.timedOption.price:void 0!==t.collectibleItemDetails?t.collectibleItemDetails.lowestPrice?h+=t.collectibleItemDetails.lowestPrice:t.collectibleItemId.price&&(h+=t.collectibleItemDetails.price):t.premiumPriceInRobux&&ja.authenticatedUser.isPremiumUser?g+=t.premiumPriceInRobux:t.lowestPrice?h+=t.lowestPrice:t.price&&(h+=t.price),t.resellerAvailable&&E.push(t)});var R=h+g-t,e=we().createElement(N.Loading,null);m||(e=u?we().createElement("div",{className:"purchase-price"},we().createElement("span",{className:"icon-robux-white-28x28"}),we().createElement("span",{className:"purchase-price-text text-robux-lg"},Se.numberFormat.getNumberFormat(h))):we().createElement("div",null,f(co.buyAction)));var T=function(){P?yo.open():window.location=O.getRobuxUpgradesUrl("")};return we().createElement(we().Fragment,null,we().createElement("div",{className:"batch-buy-purchase-button-container"},we().createElement(N.Button,{className:"action-button batch-buy-purchase-button",variant:p,size:b,onClick:function(){var e;0<R?(A(we().createElement(so,{robuxNeeded:R,onAccept:T})),uo.open()):(e=we().createElement(fo,{title:f(co.buyNowAction),expectedTotalPrice:h+g,items:r,purchaseMetadata:a,itemDetails:n,resaleItems:E,currentRobuxBalance:t,onCancel:function(){var e;null==mo||null!==(e=mo.close)&&void 0!==e&&e.call(mo),l()},onTransactionComplete:function(e){S(!1),c(e)},onAction:function(){var e;null==mo||null!==(e=mo.close)&&void 0!==e&&e.call(mo),S(!0),o()},loading:!1,productSurface:s,systemFeedbackService:d}),x(e),mo.open()),i()},isDisabled:!y},e)),0<R&&we().createElement("div",{id:"insufficient-funds-modal"},v),P&&we().createElement("div",{id:"leave-roblox-warning-modal"},we().createElement(bo,{onContinueToPayment:function(){var e={url:O.getVngShopUrl(),withCredentials:!0};Se.httpService.get(e).then(function(e){e=e.data.vngShopRedirectUrl;window.open(e,"_blank").focus()}).catch(function(){window.open(O.getVngShopFallbackUrl,"_blank").focus()}),yo.close()}})),w&&we().createElement("div",{id:"multi-item-purchase-modal"},w))}go.propTypes={currentUserBalance:r().number.isRequired,items:r().arrayOf(r().shape({id:r().number.isRequired,itemType:r().string.isRequired,timedOption:r().shape({days:r().number.isRequired,price:r().number.isRequired})})).isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,itemDetails:r().arrayOf(r().shape({productId:r().number.isRequired,price:r().number.isRequired,itemName:r().string.isRequired,itemType:r().string.isRequired,assetTypeDisplayName:r().string.isRequired,sellerName:r().string.isRequired,expectedSellerId:r().number.isRequired,isPurchasable:r().bool.isRequired,isOwned:r().bool.isRequired,isPlugin:r().bool.isRequired,itemDetailItemId:r().number.isRequired,loading:r().bool.isRequired,loadFailure:r().bool,userQualifiesForPremiumPrices:r().bool.isRequired,premiumPriceInRobux:r().number,isAuthenticated:r().bool.isRequired,resellerAvailable:r().bool.isRequired,firstReseller:r().shape({seller:{name:r().string.isRequired,id:r().number.isRequired},userAssetId:r().number.isRequired}),isMarketPlaceEnabled:r().bool.isRequired})).isRequired,onBuyButtonClick:r().func.isRequired,onConfirm:r().func.isRequired,onCancel:r().func.isRequired,onTransactionComplete:r().func.isRequired,productSurface:r().string.isRequired,displayPriceOnButton:r().bool.isRequired,systemFeedbackService:r().func.isRequired,translate:r().func.isRequired,variant:r().string,size:r().string},go.defaultProps={variant:N.Button.variants.growth,size:N.Button.sizes.large};var Eo=(0,n.withTranslations)(go,o.purchasingResources);function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Po(e){var t=e.items,r=e.purchaseMetadata,n=e.onBuyButtonClick,a=e.systemFeedbackService,i=e.onConfirm,o=e.onCancel,l=e.onTransactionComplete,c=e.productSurface,s=e.displayPriceOnButton,u=e.translate,d=e.variant,f=e.size,m=wo((0,Ee.useState)(void 0),2),e=m[0],p=m[1];(0,Ee.useEffect)(function(){ja.authenticatedUser.isAuthenticated&&Te.getCurrentUserBalance(ja.authenticatedUser.id).then(function(e){p(e.data.robux)}).catch(function(){p(void 0)})},[]);m=Bi(t).itemDetails;return we().createElement(Eo,{currentUserBalance:e,items:t,itemDetails:m,purchaseMetadata:r,systemFeedbackService:a,onBuyButtonClick:n,onConfirm:i,onCancel:o,onTransactionComplete:l,productSurface:c,displayPriceOnButton:s,translate:u,variant:d,size:f})}Po.propTypes={items:r().arrayOf(r().object).isRequired,purchaseMetadata:r().instanceOf(Map).isRequired,onBuyButtonClick:r().func,onConfirm:r().func,onCancel:r().func,onTransactionComplete:r().func,systemFeedbackService:r().func.isRequired,productSurface:r().string,displayPriceOnButton:r().bool,translate:r().func.isRequired,variant:r().string,size:r().string},Po.defaultProps={onBuyButtonClick:function(){},onConfirm:function(){},onCancel:function(){},onTransactionComplete:function(){},productSurface:"SHOPPING_CART_WEB",displayPriceOnButton:!1,variant:N.Button.variants.growth,size:N.Button.sizes.large};var Io=(0,n.withTranslations)(Po,o.purchasingResources),xo={GAME_PASS:"Game Pass",BUNDLE:"Bundle",BUNDLE_ALIAS:"Package",PRIVATE_SERVER:"Private Server"},Ao=function(){return(Ao=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ro=(0,n.withTranslations)(function(e){var t=e.ItemPurchase,r=e.itemPurchaseService,e=e.innerProps;return we().useEffect(function(){setTimeout(function(){return r.start()},70)},[r]),we().createElement(t,Ao({},e))},o.purchasingResources);window.RobloxItemPurchase={createTransactionFailureModal:S,createInsufficientFundsModal:j,createPriceChangedModal:X,createPurchaseVerificationModal:xe,createPurchaseConfirmationModal:Ae,createItemPurchase:ka,errorTypeIds:t,getMetaData:Ie,BalanceAfterSaleText:H,PriceLabel:F,AssetName:$,TransactionVerb:ee,BatchBuyPriceContainer:Io,ASSET_TYPE_ENUM:xo,startGamepassPurchaseFlow:function(e){var t="rbx-gamepass-purchase-root",r=document.getElementById(t);r||((r=document.createElement("div")).id=t,document.body.appendChild(r));var n=we().createElement(Wa.Thumbnail2d,{type:Wa.ThumbnailTypes.assetThumbnail,targetId:e.iconAssetId,size:Wa.ThumbnailGamePassIconSize.size150,format:Wa.ThumbnailFormat.webp,altName:e.assetName}),t=(a=ka())[0],a=a[1];return(0,l.render)(we().createElement(Ro,{ItemPurchase:t,itemPurchaseService:a,innerProps:{thumbnail:n,productId:e.productId,assetName:e.assetName,assetType:xo.GAME_PASS,sellerName:e.sellerName,expectedCurrency:1,expectedSellerId:e.expectedSellerId,expectedPrice:e.expectedPrice,onPurchaseSuccess:e.onPurchaseSuccess}}),r),function(){r&&((0,l.unmountComponentAtNode)(r),r.remove())}}},(0,Se.ready)(function(){var e=document.getElementById("display-price-container");e&&(0,l.render)(we().createElement(Ei,null),e)})}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/ffcf603884964474e4b750a3a93872a6-itemPurchase.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("ItemPurchase");