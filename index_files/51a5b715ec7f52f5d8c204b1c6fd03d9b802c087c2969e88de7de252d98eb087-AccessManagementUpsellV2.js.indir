/*! For license information please see accessManagementUpsellV2.bundle.min.js.LICENSE.txt */
!function(){var e={779:function(e,t,n){"use strict";var r=n(594);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return l((function(){o.value=n,o.getSnapshot=t,u(o)&&s({inst:o})}),[e,n,t]),i((function(){return u(o)&&s({inst:o}),e((function(){u(o)&&s({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},320:function(e,t,n){"use strict";var r=n(594),o=n(676);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,l=r.useRef,c=r.useEffect,u=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var f=l(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&d.hasValue){var t=d.value;if(o(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,l=n)}var i,l,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,o]);var p=i(e,f[0],f[1]);return c((function(){d.hasValue=!0,d.value=p}),[p]),s(p),p}},676:function(e,t,n){"use strict";e.exports=n(779)},390:function(e,t,n){"use strict";e.exports=n(320)},56:function(e,t,n){"use strict";var r=n(922),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?i:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var u=Object.defineProperty,s=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var i=s(n);f&&(i=i.concat(f(n)));for(var l=c(t),y=c(n),h=0;h<i.length;++h){var v=i[h];if(!(a[v]||r&&r[v]||y&&y[v]||l&&l[v])){var b=d(n,v);try{u(t,v,b)}catch(e){}}}}return t}},326:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,S=r?Symbol.for("react.responder"):60118,E=r?Symbol.for("react.scope"):60119;function w(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case i:case c:case l:case m:return e;default:switch(e=e&&e.$$typeof){case s:case p:case v:case h:case u:return e;default:return t}}case a:return t}}}function C(e){return w(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=h,t.Portal=a,t.Profiler=c,t.StrictMode=l,t.Suspense=m,t.isAsyncMode=function(e){return C(e)||w(e)===f},t.isConcurrentMode=C,t.isContextConsumer=function(e){return w(e)===s},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===h},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===l},t.isSuspense=function(e){return w(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===c||e===l||e===m||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p||e.$$typeof===g||e.$$typeof===S||e.$$typeof===E||e.$$typeof===b)},t.typeOf=w},922:function(e,t,n){"use strict";e.exports=n(326)},157:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var r,o=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function b(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case i:case c:case l:case p:case m:return e;default:switch(e=e&&e.$$typeof){case f:case s:case d:case h:case y:case u:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference")},625:function(e,t,n){"use strict";n(157)},373:function(e,t,n){var r,o,a,i;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}e=n.nmd(e),self,i=function(){return function(){var e={913:function(e,t,n){"use strict";var r=n(651),o=n(601),a=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?o(n):n}},601:function(e,t,n){"use strict";var r=n(49),o=n(651),a=n(255),i=n(785),l=o("%Function.prototype.apply%"),c=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||r.call(c,l),s=n(649),f=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var t=u(r,c,arguments);return a(t,1+f(0,e.length-(arguments.length-1)),!0)};var d=function(){return u(r,l,arguments)};s?s(e.exports,"apply",{value:d}):e.exports.apply=d},295:function(e,t,n){"use strict";var r=n(649),o=n(389),a=n(785),i=n(109);e.exports=function(e,t,n){if(!e||"object"!=l(e)&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=l(t))throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],d=!!i&&i(e,t);if(r)r(e,t,{configurable:null===s&&d?d.configurable:!s,enumerable:null===c&&d?d.enumerable:!c,value:n,writable:null===u&&d?d.writable:!u});else{if(!f&&(c||u||s))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},649:function(e,t,n){"use strict";var r=n(651)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},55:function(e){"use strict";e.exports=EvalError},293:function(e){"use strict";e.exports=Error},888:function(e){"use strict";e.exports=RangeError},900:function(e){"use strict";e.exports=ReferenceError},389:function(e){"use strict";e.exports=SyntaxError},785:function(e){"use strict";e.exports=TypeError},436:function(e){"use strict";e.exports=URIError},719:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),l=n(0,o.length-i.length),c=[],u=0;u<l;u++)c[u]="$"+u;if(a=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,r(i,arguments));return Object(t)===t?t:this}return o.apply(e,r(i,arguments))})),o.prototype){var s=function(){};s.prototype=o.prototype,a.prototype=new s,s.prototype=null}return a}},49:function(e,t,n){"use strict";var r=n(719);e.exports=Function.prototype.bind||r},651:function(e,t,n){"use strict";var r,o=n(293),a=n(55),i=n(888),c=n(900),u=n(389),s=n(785),f=n(436),d=Function,p=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(e){m=null}var y=function(){throw new s},h=m?function(){try{return y}catch(e){try{return m(arguments,"callee").get}catch(e){return y}}}():y,v=n(257)(),b=n(726)(),g=Object.getPrototypeOf||(b?function(e){return e.__proto__}:null),S={},E="undefined"!=typeof Uint8Array&&g?g(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":v&&g?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":S,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&g?g(g([][Symbol.iterator]())):r,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":l(JSON))?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&v&&g?g((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":i,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&v&&g?g((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&g?g(""[Symbol.iterator]()):r,"%Symbol%":v?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":h,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":f,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(g)try{null.error}catch(e){var C=g(g(e));w["%Error.prototype%"]=C}var x=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&g&&(n=g(o.prototype))}return w[t]=n,n},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=n(49),P=n(215),T=k.call(Function.call,Array.prototype.concat),I=k.call(Function.apply,Array.prototype.splice),N=k.call(Function.call,String.prototype.replace),D=k.call(Function.call,String.prototype.slice),O=k.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,j=function(e,t){var n,r=e;if(P(A,r)&&(r="%"+(n=A[r])[0]+"%"),P(w,r)){var o=w[r];if(o===S&&(o=x(r)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=D(e,0,1),n=D(e,-1);if("%"===t&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return N(e,M,(function(e,t,n,o){r[r.length]=n?N(o,U,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=j("%"+r+"%",t),a=o.name,i=o.value,l=!1,c=o.alias;c&&(r=c[0],I(n,T([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],y=D(p,0,1),h=D(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),P(w,a="%"+(r+="."+p)+"%"))i=w[a];else if(null!=i){if(!(p in i)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(m&&f+1>=n.length){var v=m(i,p);i=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:i[p]}else d=P(i,p),i=i[p];d&&!l&&(w[a]=i)}}return i}},109:function(e,t,n){"use strict";var r=n(651)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},890:function(e,t,n){"use strict";var r=n(649),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},726:function(e){"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},257:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(843);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==l(r("foo"))&&"symbol"==l(Symbol("bar"))&&o()}},843:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==l(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},215:function(e,t,n){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,a=n(49);e.exports=a.call(r,o)},709:function(e,t,n){var r,o=1/0,a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c="\\ud800-\\udfff",u="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",f="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="["+d+"]",m="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",y="\\d+",h="["+u+"]",v="["+s+"]",b="[^"+c+d+y+u+s+f+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",E="["+f+"]",w="(?:"+v+"|"+b+")",C="(?:"+E+"|"+b+")",x="(?:['’](?:d|ll|m|re|s|t|ve))?",A="(?:['’](?:D|LL|M|RE|S|T|VE))?",k="(?:"+m+"|\\ud83c[\\udffb-\\udfff])?",P="[\\ufe0e\\ufe0f]?",T=P+k+"(?:\\u200d(?:"+["[^"+c+"]",g,S].join("|")+")"+P+k+")*",I="(?:"+[h,g,S].join("|")+")"+T,N=RegExp("['’]","g"),D=RegExp(m,"g"),O=RegExp([E+"?"+v+"+"+x+"(?="+[p,E,"$"].join("|")+")",C+"+"+A+"(?="+[p,E+w,"$"].join("|")+")",E+"?"+w+"+"+x,E+"+"+A,y,I].join("|"),"g"),M=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U="object"==l(n.g)&&n.g&&n.g.Object===Object&&n.g,j="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,V=U||j||Function("return this")(),R=(r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==r?void 0:r[e]}),F=Object.prototype.toString,L=V.Symbol,B=L?L.prototype:void 0,_=B?B.toString:void 0;function W(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==l(e)||function(e){return!!e&&"object"==l(e)}(e)&&"[object Symbol]"==F.call(e)}(e))return _?_.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}var q,K=(q=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)n=t(n,e[r],r,e);return n}(function(e){return function(e){return M.test(e)}(e=W(e))?function(e){return e.match(O)||[]}(e):function(e){return e.match(a)||[]}(e)}(function(e){return(e=W(e))&&e.replace(i,R).replace(D,"")}(e).replace(N,"")),q,"")});e.exports=K},937:function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&o&&"function"==typeof o.get?o.get:null,i=r&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=c&&u&&"function"==typeof u.get?u.get:null,f=c&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,h=Object.prototype.toString,v=Function.prototype.toString,b=String.prototype.match,g=String.prototype.slice,S=String.prototype.replace,E=String.prototype.toUpperCase,w=String.prototype.toLowerCase,C=RegExp.prototype.test,x=Array.prototype.concat,A=Array.prototype.join,k=Array.prototype.slice,P=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,N="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==l(Symbol.iterator),O="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,M=Object.prototype.propertyIsEnumerable,U=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||C.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-P(-e):P(e);if(r!==e){var o=String(r),a=g.call(t,o.length+1);return S.call(o,n,"$&_")+"."+S.call(S.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(t,n,"$&_")}var V=n(634),R=V.custom,F=q(R)?R:null;function L(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function B(e){return S.call(String(e),/"/g,"&quot;")}function _(e){return!("[object Array]"!==G(e)||O&&"object"==l(e)&&O in e)}function W(e){return!("[object RegExp]"!==G(e)||O&&"object"==l(e)&&O in e)}function q(e){if(D)return e&&"object"==l(e)&&e instanceof Symbol;if("symbol"==l(e))return!0;if(!e||"object"!=l(e)||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,o,c){var u=r||{};if(H(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!H(u,"customInspect")||u.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(u,"numericSeparator")&&"boolean"!=typeof u.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var E=u.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,u);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var C=String(t);return E?j(t,C):C}if("bigint"==typeof t){var P=String(t)+"n";return E?j(t,P):P}var I=void 0===u.depth?5:u.depth;if(void 0===o&&(o=0),o>=I&&I>0&&"object"==l(t))return _(t)?"[Array]":"[Object]";var R,K=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=A.call(Array(e.indent+1)," ")}return{base:n,prev:A.call(Array(t+1),n)}}(u,o);if(void 0===c)c=[];else if(z(c,t)>=0)return"[Circular]";function Y(t,n,r){if(n&&(c=k.call(c)).push(n),r){var a={depth:u.depth};return H(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),e(t,a,o+1,c)}return e(t,u,o+1,c)}if("function"==typeof t&&!W(t)){var te=function(e){if(e.name)return e.name;var t=b.call(v.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ne=ee(t,Y);return"[Function"+(te?": "+te:" (anonymous)")+"]"+(ne.length>0?" { "+A.call(ne,", ")+" }":"")}if(q(t)){var re=D?S.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(t);return"object"!=l(t)||D?re:J(re)}if((R=t)&&"object"==l(R)&&("undefined"!=typeof HTMLElement&&R instanceof HTMLElement||"string"==typeof R.nodeName&&"function"==typeof R.getAttribute)){for(var oe="<"+w.call(String(t.nodeName)),ae=t.attributes||[],ie=0;ie<ae.length;ie++)oe+=" "+ae[ie].name+"="+L(B(ae[ie].value),"double",u);return oe+=">",t.childNodes&&t.childNodes.length&&(oe+="..."),oe+"</"+w.call(String(t.nodeName))+">"}if(_(t)){if(0===t.length)return"[]";var le=ee(t,Y);return K&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(le)?"["+Z(le,K)+"]":"[ "+A.call(le,", ")+" ]"}if(function(e){return!("[object Error]"!==G(e)||O&&"object"==l(e)&&O in e)}(t)){var ce=ee(t,Y);return"cause"in Error.prototype||!("cause"in t)||M.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.call(ce,", ")+" }":"{ ["+String(t)+"] "+A.call(x.call("[cause]: "+Y(t.cause),ce),", ")+" }"}if("object"==l(t)&&h){if(F&&"function"==typeof t[F]&&V)return V(t,{depth:I-o});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!=l(e))return!1;try{a.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ue=[];return i&&i.call(t,(function(e,n){ue.push(Y(n,t,!0)+" => "+Y(e,t))})),Q("Map",a.call(t),ue,K)}if(function(e){if(!s||!e||"object"!=l(e))return!1;try{s.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return f&&f.call(t,(function(e){se.push(Y(e,t))})),Q("Set",s.call(t),se,K)}if(function(e){if(!d||!e||"object"!=l(e))return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!p||!e||"object"!=l(e))return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!m||!e||"object"!=l(e))return!1;try{return m.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==G(e)||O&&"object"==l(e)&&O in e)}(t))return J(Y(Number(t)));if(function(e){if(!e||"object"!=l(e)||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return J(Y(T.call(t)));if(function(e){return!("[object Boolean]"!==G(e)||O&&"object"==l(e)&&O in e)}(t))return J(y.call(t));if(function(e){return!("[object String]"!==G(e)||O&&"object"==l(e)&&O in e)}(t))return J(Y(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==G(e)||O&&"object"==l(e)&&O in e)}(t)&&!W(t)){var fe=ee(t,Y),de=U?U(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",me=!de&&O&&Object(t)===t&&O in t?g.call(G(t),8,-1):pe?"Object":"",ye=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(me||pe?"["+A.call(x.call([],me||[],pe||[]),": ")+"] ":"");return 0===fe.length?ye+"{}":K?ye+"{"+Z(fe,K)+"}":ye+"{ "+A.call(fe,", ")+" }"}return String(t)};var K=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return K.call(e,t)}function G(e){return h.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return $(g.call(e,0,t.maxStringLength),t)+r}return L(S.call(S.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function J(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function Q(e,t,n,r){return e+" ("+t+") {"+(r?Z(n,r):A.call(n,", "))+"}"}function Z(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+A.call(e,","+n)+"\n"+t.prev}function ee(e,t){var n=_(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=H(e,o)?t(e[o],e):""}var a,i="function"==typeof I?I(e):[];if(D){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var c in e)H(e,c)&&(n&&String(Number(c))===c&&c<e.length||D&&a["$"+c]instanceof Symbol||(C.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"==typeof I)for(var u=0;u<i.length;u++)M.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}},647:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},882:function(e,t,n){"use strict";var r=n(402),o=n(662),a=n(647),i=Object.prototype.hasOwnProperty,c={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,s=Array.prototype.push,f=function(e,t){s.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,p=a.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},y={},h=function e(t,n,a,i,c,s,d,p,h,v,b,g,S,E,w,C,x,A){for(var k,P=t,T=A,I=0,N=!1;void 0!==(T=T.get(y))&&!N;){var D=T.get(t);if(I+=1,void 0!==D){if(D===I)throw new RangeError("Cyclic object value");N=!0}void 0===T.get(y)&&(I=0)}if("function"==typeof v?P=v(n,P):P instanceof Date?P=S(P):"comma"===a&&u(P)&&(P=o.maybeMap(P,(function(e){return e instanceof Date?S(e):e}))),null===P){if(s)return h&&!C?h(n,m.encoder,x,"key",E):n;P=""}if("string"==typeof(k=P)||"number"==typeof k||"boolean"==typeof k||"symbol"==l(k)||"bigint"==typeof k||o.isBuffer(P))return h?[w(C?n:h(n,m.encoder,x,"key",E))+"="+w(h(P,m.encoder,x,"value",E))]:[w(n)+"="+w(String(P))];var O,M=[];if(void 0===P)return M;if("comma"===a&&u(P))C&&h&&(P=o.maybeMap(P,h)),O=[{value:P.length>0?P.join(",")||null:void 0}];else if(u(v))O=v;else{var U=Object.keys(P);O=b?U.sort(b):U}var j=p?String(n).replace(/\./g,"%2E"):String(n),V=i&&u(P)&&1===P.length?j+"[]":j;if(c&&u(P)&&0===P.length)return V+"[]";for(var R=0;R<O.length;++R){var F=O[R],L="object"==l(F)&&F&&void 0!==F.value?F.value:P[F];if(!d||null!==L){var B=g&&p?String(F).replace(/\./g,"%2E"):String(F),_=u(P)?"function"==typeof a?a(V,B):V:V+(g?"."+B:"["+B+"]");A.set(t,I);var W=r();W.set(y,A),f(M,e(L,_,a,i,c,s,d,p,"comma"===a&&C&&u(P)?null:h,v,b,g,S,E,w,C,x,W))}}return M};e.exports=function(e,t){var n,o=e,s=function(e){if(!e)return m;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==e.format){if(!i.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,o=a.formatters[n],l=m.filter;if(("function"==typeof e.filter||u(e.filter))&&(l=e.filter),r=e.arrayFormat in c?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":m.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=void 0===e.allowDots?!0===e.encodeDotInKeys||m.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:m.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:l,format:n,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof s.filter?o=(0,s.filter)("",o):u(s.filter)&&(n=s.filter);var d=[];if("object"!=l(o)||null===o)return"";var p=c[s.arrayFormat],y="comma"===p&&s.commaRoundTrip;n||(n=Object.keys(o)),s.sort&&n.sort(s.sort);for(var v=r(),b=0;b<n.length;++b){var g=n[b],S=o[g];s.skipNulls&&null===S||f(d,h(S,g,p,y,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,v))}var E=d.join(s.delimiter),w=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),E.length>0?w+E:""}},662:function(e,t,n){"use strict";var r=n(647),o=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),c=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},u=1024;e.exports={arrayToObject:c,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],c=Object.keys(i),u=0;u<c.length;++u){var s=c[u],f=i[s];"object"==l(f)&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:i,prop:s}),n.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,a){if(0===e.length)return e;var c=e;if("symbol"==l(e)?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",f=0;f<c.length;f+=u){for(var d=c.length>=u?c.slice(f,f+u):c,p=[],m=0;m<d.length;++m){var y=d.charCodeAt(m);45===y||46===y||95===y||126===y||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||a===r.RFC1738&&(40===y||41===y)?p[p.length]=d.charAt(m):y<128?p[p.length]=i[y]:y<2048?p[p.length]=i[192|y>>6]+i[128|63&y]:y<55296||y>=57344?p[p.length]=i[224|y>>12]+i[128|y>>6&63]+i[128|63&y]:(m+=1,y=65536+((1023&y)<<10|1023&d.charCodeAt(m)),p[p.length]=i[240|y>>18]+i[128|y>>12&63]+i[128|y>>6&63]+i[128|63&y])}s+=p.join("")}return s},isBuffer:function(e){return!(!e||"object"!=l(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=l(n)&&"function"!=typeof n){if(a(t))t.push(n);else{if(!t||"object"!=l(t))return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=l(t))return[t].concat(n);var i=t;return a(t)&&!a(n)&&(i=c(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(o.call(t,a)){var i=t[a];i&&"object"==l(i)&&n&&"object"==l(n)?t[a]=e(i,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var i=n[a];return o.call(t,a)?t[a]=e(t[a],i,r):t[a]=i,t}),i)}}},255:function(e,t,n){"use strict";var r=n(651),o=n(295),a=n(890)(),i=n(109),l=n(785),c=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new l("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new l("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in e&&i){var s=i(e,"length");s&&!s.configurable&&(r=!1),s&&!s.writable&&(u=!1)}return(r||u||!n)&&(a?o(e,"length",t,!0,!0):o(e,"length",t)),e}},402:function(e,t,n){"use strict";var r=n(651),o=n(913),a=n(937),i=n(785),c=r("%WeakMap%",!0),u=r("%Map%",!0),s=o("WeakMap.prototype.get",!0),f=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),m=o("Map.prototype.set",!0),y=o("Map.prototype.has",!0),h=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new i("Side channel does not contain "+a(e))},get:function(r){if(c&&r&&("object"==l(r)||"function"==typeof r)){if(e)return s(e,r)}else if(u){if(t)return p(t,r)}else if(n)return function(e,t){var n=h(e,t);return n&&n.value}(n,r)},has:function(r){if(c&&r&&("object"==l(r)||"function"==typeof r)){if(e)return d(e,r)}else if(u){if(t)return y(t,r)}else if(n)return function(e,t){return!!h(e,t)}(n,r);return!1},set:function(r,o){c&&r&&("object"==l(r)||"function"==typeof r)?(e||(e=new c),f(e,r,o)):u?(t||(t=new u),m(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=h(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},634:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":l(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":l(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){"use strict";n.d(r,{default:function(){return x}});var e,t,o,a=n(882),i=n.n(a);function l(e){switch(e){case"development":return o.Development;case"staging":return o.Staging;case"canary":return o.Canary;default:return o.Production}}!function(e){e.Cancel="exit",e.Complete="complete",e.Error="error",e.Fail="fail",e.Load="load",e.Ready="ready",e.Start="start",e.Success="success",e.DocumentCameraSelect="document-camera-select",e.DocumentCameraCapture="document-camera-capture",e.DocumentUpload="document-upload",e.OneTimeLinkSent="one-time-link-sent",e.OneTimeLinkStart="one-time-link-start",e.OneTimeLinkExit="one-time-link-exit",e.SelfieCameraSelect="selfie-camera-select",e.SelfieCameraCapture="selfie-camera-capture",e.SelfieRecordUpload="selfie-record-upload",e.LoadCameraFailed="load-camera-failed",e.PageChange="page-change",e.InquiryLoad="inquiry-load",e.CountrySelect="country-select",e.VerificationChange="verification-change"}(e||(e={})),function(e){e.Open="open",e.Exit="exit",e.Destroy="destroy"}(t||(t={})),function(e){e.Development="http://localhost:3000",e.Staging="https://inquiry.withpersona-staging.com",e.Canary="https://canary.withpersona.com",e.Production="https://inquiry.withpersona.com"}(o||(o={}));var c=n(709),u=n.n(c),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function f(e){return Array.isArray(e)?e.map(f):function(e){return null!=e&&e.constructor===Object}(e)?Object.keys(e).reduce((function(t,n){var r;return s(s({},t),((r={})[u()(n)]=f(e[n]),r))}),{}):e}var d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},m=function(){function e(e){this.id=e}return e.prototype.isMounted=function(){return null!=document.getElementById(this.id)},e.prototype.mount=function(e){if(document.getElementById(this.id))console.warn("persona: stylesheet ".concat(this.id," already appended. skipping."));else{var t=h("style",{id:this.id},[document.createTextNode(e)]);document.head.appendChild(t)}},e.prototype.unmount=function(){var e,t=document.getElementById(this.id);null!=t?null===(e=t.parentNode)||void 0===e||e.removeChild(t):console.warn("persona: no stylesheet ".concat(this.id," to remove. skipping."))},e}();function y(e,t,n){var r,o,a,i;void 0===n&&(n=[]);var l=document.createElementNS("http://www.w3.org/2000/svg",e);try{for(var c=d(Object.entries(t)),u=c.next();!u.done;u=c.next()){var s=p(u.value,2),f=s[0],m=s[1];"className"===f&&(f="class"),l.setAttribute(f,m)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var y=d(n),h=y.next();!h.done;h=y.next()){var v=h.value;!1!==v&&l.appendChild(v)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}return l}function h(e,t,n){var r,o,a,i;void 0===n&&(n=[]);var l=document.createElement(e);try{for(var c=d(Object.entries(t)),u=c.next();!u.done;u=c.next()){var s=p(u.value,2),f=s[0],m=s[1];"className"===f&&(f="class"),l.setAttribute(f,m)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var y=d(n),h=y.next();!h.done;h=y.next()){var v=h.value;!1!==v&&("string"==typeof v?l.appendChild(document.createTextNode(v)):l.appendChild(v))}}catch(e){a={error:e}}finally{try{h&&!h.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}return l}function v(e){return"string"==typeof e?e:"number"==typeof e?"".concat(e,"px"):""}var b=["allow-scripts","allow-same-origin","allow-popups"],g=["allow-forms","allow-modals","allow-top-navigation-by-user-activation"];function S(e,t,n,r){var o=r.accountId,a=r.accountTypeId,c=r.environment,u=r.environmentId,s=r.fields,d=r.frameAncestors,p=r.frameHeight,m=r.frameWidth,y=r.host,h=r.iframeTitle,S=r.inquiryId,E=r.language,w=r.messageTargetOrigin,C=r.referenceId,x=r.routingCountry,A=r.sandboxAttributes,k=void 0===A?g:A,P=r.sessionToken,T=r.styleVariant,I=r.templateId,N=r.templateVersionId,D=r.themeSetId,O=r.widgetPadding,M=!(!I&&!N),U=null==I?void 0:I.startsWith("itmpl_");if(!M&&!S)throw new Error("Either templateId/templateVersionId or inquiryId must be specified to start a flow");if(M&&S)throw new Error("Only one of templateId/templateVersionId or inquiryId should be specified to start a flow");if(o){if(C)throw new Error("Cannot pass both accountId and referenceId");if(a)throw new Error("Cannot pass both accountId and accountTypeId")}var j=l(y),V=i()({"client-version":"5.1.5","container-id":t,"flow-type":n,"routing-country":x,"template-id":(U?null:I)||null,"inquiry-template-id":(U?I:null)||null,"inquiry-template-version-id":N||null,environment:c,"environment-id":u,"iframe-origin":window.location.origin,"frame-ancestors":null!=d?d:null,"message-target-origin":w||null,"inquiry-id":S||null,language:E,"session-token":P,"reference-id":C,"account-id":o,"account-type-id":a,fields:f(null!=s?s:{}),"style-variant":T||null,"theme-set-id":D,"widget-padding":O},{addQueryPrefix:!0,skipNulls:!0});return e.style.maxHeight=v(p),e.style.maxWidth=v(m),e.setAttribute("data-testid","persona-widget__iframe"),"embedded"===n&&e.setAttribute("aria-modal","true"),e.title=null!=h?h:"Verify your identity",e.className="persona-widget__iframe",e.allow="camera;microphone;clipboard-write",e.setAttribute("sandbox",b.concat(k).join(" ")),e.frameBorder="0",e.src=j+"/widget"+V,e.onload=function(){},e}var E=function(){function e(){}return e.log=function(e,t){void 0===t&&(t="info")},e}(),w=function(e){return e.split(".").slice(-2).join(".")};function C(t,n){var r=n.onLoad,o=n.onReady,a=n.onComplete,i=n.onEvent,c=n.onCancel,u=n.onError,s=n.templateId,f=n.templateVersionId,d=n.host,p=function(n){var p,m=l(null!=d?d:"production");if(""!==n.origin)try{if(w(new URL(n.origin).host)!==w(new URL(m).host))return}catch(e){return}if(!(s&&s!==n.data.templateId||f&&f!==n.data.templateVersionId||n.data.containerId&&t!==n.data.containerId))switch(null==i||i(n.data.name,n.data.metadata),n.data.name){case e.Load:null==r||r();break;case e.Ready:null==o||o();break;case e.Complete:case e.Fail:null==a||a({inquiryId:n.data.metadata.inquiryId,status:n.data.metadata.status,fields:null!==(p=n.data.metadata.fields)&&void 0!==p?p:n.data.metadata.scopes});break;case e.Cancel:null==c||c({inquiryId:n.data.metadata.inquiryId,sessionToken:n.data.metadata.sessionToken});break;case e.Error:null==u||u(n.data.error)}};return window.addEventListener("message",p),function(){window.removeEventListener("message",p)}}var x={Client:function(){function e(e){var t,n,r,o,a,i,l,c,u,s,f,d=this;this._isLoading=!0,this._isOpen=!1,this.personaCSS=new m("persona-widget-styles"),this.globalCSS=new m("persona-global-styles"),this.onLoad=function(){var e,t;d._isLoading=!1,d.render(),null===(t=(e=d.options).onLoad)||void 0===t||t.call(e)},this.onReady=function(){var e,t;null===(t=(e=d.options).onReady)||void 0===t||t.call(e)},this.onComplete=function(e){var t,n,r=e.inquiryId,o=e.status,a=e.fields;d._isOpen=!1,d.render(),null===(n=(t=d.options).onComplete)||void 0===n||n.call(t,{inquiryId:r,status:o,fields:a})},this.onCancel=function(e){var t,n,r=e.inquiryId,o=e.sessionToken;d._isOpen=!1,d.render(),null===(n=(t=d.options).onCancel)||void 0===n||n.call(t,{inquiryId:r,sessionToken:o})},this.options=e,this.containerParent=null!==(n=null!==(t=e.parent)&&void 0!==t?t:document.body)&&void 0!==n?n:document.children[0],this.containerElement=h("div",{class:"persona-widget__overlay",style:"display: ".concat(this._isOpen?"block":"none")}),this.containerId="persona-widget-"+new Array(16).fill(void 0).map((function(){return Math.floor(35*Math.random()).toString(35)})).join(""),this.containerElement.setAttribute("id",this.containerId),this.loadingElement=h("div",{class:"persona-widget__centered-frame"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"114",height:"114",class:"persona-widget__loading-spinner"},[y("path",{fill:"none",stroke:"#0F2B72",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M25.887 10.432a56.275 56.275 0 0 0-15.455 15.455 55.86 55.86 0 0 0-5.183 9.678A55.576 55.576 0 0 0 2.066 46.07m-.8 5.438A56.678 56.678 0 0 0 1 57m4.249 21.435a55.86 55.86 0 0 0 5.183 9.678 56.275 56.275 0 0 0 6.97 8.485m8.485 6.97a55.86 55.86 0 0 0 9.678 5.183 55.576 55.576 0 0 0 10.506 3.183c3.535.7 7.19 1.066 10.929 1.066 3.74 0 7.394-.367 10.929-1.066a55.576 55.576 0 0 0 10.506-3.183 55.86 55.86 0 0 0 9.678-5.183 56.275 56.275 0 0 0 15.455-15.455 55.86 55.86 0 0 0 5.183-9.678 55.576 55.576 0 0 0 3.183-10.506A56.274 56.274 0 0 0 113 57c0-3.74-.367-7.394-1.066-10.929a55.576 55.576 0 0 0-3.183-10.506M96.598 17.402a56.275 56.275 0 0 0-8.485-6.97 55.86 55.86 0 0 0-9.678-5.183A55.576 55.576 0 0 0 67.93 2.066 56.274 56.274 0 0 0 57 1c-3.74 0-7.394.367-10.929 1.066m-34.94 30.418A51.76 51.76 0 0 0 7.225 41.9a51.633 51.633 0 0 0-1.98 10 52.63 52.63 0 0 0 .744 15.247 51.633 51.633 0 0 0 7.768 18.743 52.188 52.188 0 0 0 10.254 11.308 52.188 52.188 0 0 0 8.472 5.67m9.417 3.905a51.633 51.633 0 0 0 10 1.98 52.63 52.63 0 0 0 10.197 0 51.939 51.939 0 0 0 10-1.98 51.61 51.61 0 0 0 9.418-3.904 51.984 51.984 0 0 0 8.472-5.671m3.782-3.43a52.308 52.308 0 0 0 3.429-3.78m9.575-17.89a51.633 51.633 0 0 0 1.98-10 52.63 52.63 0 0 0-.744-15.247 51.633 51.633 0 0 0-7.768-18.743 52.188 52.188 0 0 0-10.254-11.308m-4.097-3.043a51.984 51.984 0 0 0-4.375-2.628M67.148 5.99a51.939 51.939 0 0 0-5.05-.743 52.63 52.63 0 0 0-15.246.743 51.633 51.633 0 0 0-18.743 7.768M24.012 16.8a52.308 52.308 0 0 0-3.782 3.43"})])]),this.containerElement.append(this.loadingElement),this.isLoading?this.loadingElement.style.display="block":this.loadingElement.style.display="none",this.iframeElement=document.createElement("iframe"),this.unsubscribeFromEvents=C(this.containerId,{onLoad:null!==(r=this.onLoad)&&void 0!==r?r:null,onReady:null!==(o=this.onReady)&&void 0!==o?o:null,onComplete:null!==(a=this.onComplete)&&void 0!==a?a:null,onCancel:null!==(i=this.onCancel)&&void 0!==i?i:null,onEvent:null!==(l=this.options.onEvent)&&void 0!==l?l:null,onError:null!==(c=this.options.onError)&&void 0!==c?c:null,templateId:null!==(u=this.options.templateId)&&void 0!==u?u:null,templateVersionId:null!==(s=this.options.templateVersionId)&&void 0!==s?s:null,host:null!==(f=this.options.host)&&void 0!==f?f:null}),this.containerElement.appendChild(this.iframeElement),this.containerParent.appendChild(this.containerElement),this.personaCSS.mount("@keyframes persona-widget__fadeIn {\n  from {\n    background-color: rgba(0, 0, 0, 0);\n    opacity: 0;\n  }\n  to {\n    /* persona-widget__overlay opacity = 0.7 */\n    background-color: rgba(0, 0, 0, 0.7);\n    opacity: 1;\n  }\n}\n\n@keyframes persona-widget__genieSlideIn {\n  from {\n    transform: translate(-50%, -40%) scale(0.8);\n  }\n  90% {\n    transform: translate(-50%, -51%) scale(1.01);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n@keyframes persona-widget__slideDown {\n  from {\n    transform: translate(-50%, -55%);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n.persona-widget__overlay {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 9999;\n  animation: persona-widget__fadeIn 0.3s;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n.persona-widget__overlay .persona-widget__centered-frame {\n  width: 120px;\n  height: 120px;\n  position: absolute;\n  left: calc(50% - 60px);\n  top: calc(50% - 60px);\n  z-index: 9999;\n}\n\n.persona-widget__overlay .persona-widget__loading-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.persona-widget__overlay .persona-widget__iframe {\n  animation: persona-widget__genieSlideIn 0.3s, persona-widget__slideDown ease-out 0.3s;\n\n  width: 100%;\n  height: 100%;\n\n  margin-left: auto;\n  margin-right: auto;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  background-color: #ffffff;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 12px 40px 2px rgba(0, 0, 0, 0.4);\n\n  @media only screen and (min-width: 600.02px) and (min-height: 600.02px) {\n    max-width: 400px;\n    max-height: 650px;\n  }\n}\n");try{this.iframeElement=S(this.iframeElement,this.containerId,"embedded",this.options)}catch(e){throw console.error("Persona",e),this.destroy(),e}this.render()}return e.preload=function(e){return void 0===e&&(e="production"),new Promise((function(t){var n=l(e),r=document.createElement("iframe");r.frameBorder="0",r.style.height="0px",r.style.width="0px",r.style.display="none",r.src=n+"/preload",document.body.appendChild(r),r.onload=function(){document.body.removeChild(r),t()}}))},e.prototype.render=function(){var e;null!=this.containerElement?(this.loadingElement.style.display=this.isLoading?"block":"none",this.containerElement.style.display=this.isOpen?"block":"none",this.isOpen&&!this.globalCSS.isMounted()?this.globalCSS.mount((e=this.containerId,"\n  /* Don't allow scrolling when widget is open */\n  html body {\n    overflow: hidden !important;\n  }\n\n  /* When the widget takes the full screen, hide everything else to prevent iOS scroll issues. */\n  @media ".concat("(max-width: 600px), (max-height: 420px)"," {\n    html body > *:not(#").concat(e,") {\n      display: none !important;\n    }\n  }\n"))):!this.isOpen&&this.globalCSS.isMounted()&&this.globalCSS.unmount()):E.log("Cannot render client that has been destroyed","error")},e.prototype.open=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Open,metadata:{}},this.baseUrl),this._isOpen=!0,this.render()},e.prototype.cancel=function(e){var n;null===(n=this.iframeElement.contentWindow)||void 0===n||n.postMessage({action:t.Exit,metadata:{force:e}},this.baseUrl),this.render()},e.prototype.destroy=function(){var e;null===(e=this.iframeElement.contentWindow)||void 0===e||e.postMessage({action:t.Destroy,metadata:{}},this.baseUrl),this.personaCSS.unmount(),this.globalCSS.unmount(),this.containerParent.removeChild(this.containerElement),this.unsubscribeFromEvents()},Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return l(this.options.host)},enumerable:!1,configurable:!0}),e}(),setupIframe:S,setupEvents:C}}(),r.default}()},"object"==l(t)&&"object"==l(e)?e.exports=i():(o=[],void 0===(a="function"==typeof(r=i)?r.apply(t,o):r)||(e.exports=a))},870:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},594:function(e){"use strict";e.exports=React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(594),t=n.n(e),r=Roblox,o=n.n(r),a=ReactDOM,i=CoreUtilities,l="access-management-upsell-container",c=ReactUtilities,u=n(676),s=n(390);var f=function(e){e()},d=function(){return f},p=Symbol.for("react-redux-context"),m="undefined"!=typeof globalThis?globalThis:{};function y(){var t;if(!e.createContext)return{};var n=null!=(t=m[p])?t:m[p]=new Map,r=n.get(e.createContext);return r||(r=e.createContext(null),n.set(e.createContext,r)),r}var h=y();function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return function(){return(0,e.useContext)(t)}}var b=v();var g=function(){throw new Error("uSES not initialized!")},S=function(e,t){return e===t};function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=t===h?b:v(t);return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="function"==typeof r?{equalityFn:r}:r,a=o.equalityFn,i=void 0===a?S:a,l=o.stabilityCheck,c=void 0===l?void 0:l;o.noopCheck;var u,s,f,d=n(),p=d.store,m=d.subscription,y=d.getServerState,h=d.stabilityCheck,v=(d.noopCheck,(0,e.useRef)(!0),(0,e.useCallback)((u={},s=t.name,f=function(e){return t(e)},s in u?Object.defineProperty(u,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[s]=f,u)[t.name],[t,h,c])),b=g(m.addNestedSub,p.getState,y||p.getState,v,i);return(0,e.useDebugValue)(b),b}}var w=E();n(56),n(625);var C={notify:function(){},get:function(){return[]}};function x(e,t){var n,r=C;function o(){i.onStateChange&&i.onStateChange()}function a(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=d(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var i={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=C)},getListeners:function(){return r}};return i}var A=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?e.useLayoutEffect:e.useEffect;var k=function(t){var n=t.store,r=t.context,o=t.children,a=t.serverState,i=t.stabilityCheck,l=void 0===i?"once":i,c=t.noopCheck,u=void 0===c?"once":c,s=e.useMemo((function(){var e=x(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:l,noopCheck:u}}),[n,a,l,u]),f=e.useMemo((function(){return n.getState()}),[n]);A((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),f!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,f]);var d=r||h;return e.createElement(d.Provider,{value:s},o)};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=e===h?b:v(e);return function(){return t().store}}var T=P();function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=e===h?T:P(e);return function(){return t().dispatch}}var N,D=I();!function(e){g=e}(s.useSyncExternalStoreWithSelector),function(e){0}(u.useSyncExternalStore),N=a.unstable_batchedUpdates,f=N;var O=ReactStyleGuide;function M(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function U(e){return!!e&&!!e[Ce]}function j(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xe}(e)||Array.isArray(e)||!!e[we]||!!(null===(t=e.constructor)||void 0===t?void 0:t[we])||W(e)||q(e))}function V(e,t,n){void 0===n&&(n=!1),0===R(e)?(n?Object.keys:Ae)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function R(e){var t=e[Ce];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:W(e)?2:q(e)?3:0}function F(e,t){return 2===R(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return 2===R(e)?e.get(t):e[t]}function B(e,t,n){var r=R(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function _(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function W(e){return be&&e instanceof Map}function q(e){return ge&&e instanceof Set}function K(e){return e.o||e.t}function H(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[Ce];for(var n=Ae(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function G(e,t){return void 0===t&&(t=!1),$(e)||U(e)||!j(e)||(R(e)>1&&(e.set=e.add=e.clear=e.delete=z),Object.freeze(e),t&&V(e,(function(e,t){return G(t,!0)}),!0)),e}function z(){M(2)}function $(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Y(e){var t=Pe[e];return t||M(18,e),t}function J(e,t){Pe[e]||(Pe[e]=t)}function X(){return he}function Q(e,t){t&&(Y("Patches"),e.u=[],e.s=[],e.v=t)}function Z(e){ee(e),e.p.forEach(ne),e.p=null}function ee(e){e===he&&(he=e.l)}function te(e){return he={p:[],l:he,h:e,m:!0,_:0}}function ne(e){var t=e[Ce];0===t.i||1===t.i?t.j():t.g=!0}function re(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Y("ES5").S(t,e,r),r?(n[Ce].P&&(Z(t),M(4)),j(e)&&(e=oe(t,e),t.l||ie(t,e)),t.u&&Y("Patches").M(n[Ce].t,e,t.u,t.s)):e=oe(t,n,[]),Z(t),t.u&&t.v(t.u,t.s),e!==Ee?e:void 0}function oe(e,t,n){if($(t))return t;var r=t[Ce];if(!r)return V(t,(function(o,a){return ae(e,r,t,o,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=H(r.k):r.o,a=o,i=!1;3===r.i&&(a=new Set(o),o.clear(),i=!0),V(a,(function(t,a){return ae(e,r,o,t,a,n,i)})),ie(e,o,!1),n&&e.u&&Y("Patches").N(r,n,e.u,e.s)}return r.o}function ae(e,t,n,r,o,a,i){if(U(o)){var l=oe(e,o,a&&t&&3!==t.i&&!F(t.R,r)?a.concat(r):void 0);if(B(n,r,l),!U(l))return;e.m=!1}else i&&n.add(o);if(j(o)&&!$(o)){if(!e.h.D&&e._<1)return;oe(e,o),t&&t.A.l||ie(e,o)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&G(t,n)}function le(e,t){var n=e[Ce];return(n?K(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ue(e){e.P||(e.P=!0,e.l&&ue(e.l))}function se(e){e.o||(e.o=H(e.t))}function fe(e,t,n){var r=W(t)?Y("MapSet").F(t,n):q(t)?Y("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:X(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,a=Te;n&&(o=[r],a=Ie);var i=Proxy.revocable(o,a),l=i.revoke,c=i.proxy;return r.k=c,r.j=l,c}(t,n):Y("ES5").J(t,n);return(n?n.A:X()).p.push(r),r}function de(e){return U(e)||M(22,e),function e(t){if(!j(t))return t;var n,r=t[Ce],o=R(t);if(r){if(!r.P&&(r.i<4||!Y("ES5").K(r)))return r.t;r.I=!0,n=pe(t,o),r.I=!1}else n=pe(t,o);return V(n,(function(t,o){r&&L(r.t,t)===o||B(n,t,e(o))})),3===o?new Set(n):n}(e)}function pe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return H(e)}function me(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ce];return Te.get(t,e)},set:function(t){var n=this[Ce];Te.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Ce];if(!o.P)switch(o.i){case 5:r(o)&&ue(o);break;case 4:n(o)&&ue(o)}}}function n(e){for(var t=e.t,n=e.k,r=Ae(n),o=r.length-1;o>=0;o--){var a=r[o];if(a!==Ce){var i=t[a];if(void 0===i&&!F(t,a))return!0;var l=n[a],c=l&&l[Ce];if(c?c.t!==i:!_(l,i))return!0}}var u=!!t[Ce];return r.length!==Ae(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};J("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var a=ke(n);delete a[Ce];for(var i=Ae(a),l=0;l<i.length;l++){var c=i[l];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:X(),P:!1,I:!1,R:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Ce,{value:a,writable:!0}),o},S:function(e,n,o){o?U(n)&&n[Ce].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ce];if(n){var o=n.t,a=n.k,i=n.R,l=n.i;if(4===l)V(a,(function(t){t!==Ce&&(void 0!==o[t]||F(o,t)?i[t]||e(a[t]):(i[t]=!0,ue(n)))})),V(o,(function(e){void 0!==a[e]||F(a,e)||(i[e]=!1,ue(n))}));else if(5===l){if(r(n)&&(ue(n),i.length=!0),a.length<o.length)for(var c=a.length;c<o.length;c++)i[c]=!1;else for(var u=o.length;u<a.length;u++)i[u]=!0;for(var s=Math.min(a.length,o.length),f=0;f<s;f++)a.hasOwnProperty(f)||(i[f]=!0),void 0===i[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ye,he,ve="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),be="undefined"!=typeof Map,ge="undefined"!=typeof Set,Se="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ee=ve?Symbol.for("immer-nothing"):((ye={})["immer-nothing"]=!0,ye),we=ve?Symbol.for("immer-draftable"):"__$immer_draftable",Ce=ve?Symbol.for("immer-state"):"__$immer_state",xe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ae="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return Ae(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Pe={},Te={get:function(e,t){if(t===Ce)return e;var n=K(e);if(!F(n,t))return function(e,t,n){var r,o=ce(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!j(r)?r:r===le(e.t,t)?(se(e),e.o[t]=fe(e.A.h,r,e)):r},has:function(e,t){return t in K(e)},ownKeys:function(e){return Reflect.ownKeys(K(e))},set:function(e,t,n){var r=ce(K(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=le(K(e),t),a=null==o?void 0:o[Ce];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(_(n,o)&&(void 0!==n||F(e.t,t)))return!0;se(e),ue(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==le(e.t,t)||t in e.t?(e.R[t]=!1,se(e),ue(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=K(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){M(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){M(12)}},Ie={};V(Te,(function(e,t){Ie[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ie.deleteProperty=function(e,t){return Ie.set.call(this,e,t,void 0)},Ie.set=function(e,t,n){return Te.set.call(this,e[0],t,n,e[0])};var Ne=function(){function e(e){var t=this;this.O=Se,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&M(6),void 0!==r&&"function"!=typeof r&&M(7),j(e)){var l=te(t),c=fe(t,e,void 0),u=!0;try{i=n(c),u=!1}finally{u?Z(l):ee(l)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Q(l,r),re(e,l)}),(function(e){throw Z(l),e})):(Q(l,r),re(i,l))}if(!e||"object"!=typeof e){if(void 0===(i=n(e))&&(i=e),i===Ee&&(i=void 0),t.D&&G(i,!0),r){var s=[],f=[];Y("Patches").M(e,i,s,f),r(s,f)}return i}M(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,a=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,o]})):[a,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){j(e)||M(8),U(e)&&(e=de(e));var t=te(this),n=fe(this,e,void 0);return n[Ce].C=!0,ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ce]).A;return Q(n,t),re(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Se&&M(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=Y("Patches").$;return U(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),De=new Ne,Oe=De.produce,Me=(De.produceWithPatches.bind(De),De.setAutoFreeze.bind(De),De.setUseProxies.bind(De),De.applyPatches.bind(De),De.createDraft.bind(De),De.finishDraft.bind(De),Oe),Ue=Redux,je=ReduxThunk,Ve=n.n(je);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}var Fe,Le=(Fe=function(e,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fe(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Be=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},_e=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},We=Object.defineProperty,qe=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,$e=function(e,t,n){return t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ye=function(e,t){for(var n in t||(t={}))Ge.call(t,n)&&$e(e,n,t[n]);if(He)for(var r=0,o=He(t);r<o.length;r++){n=o[r];ze.call(t,n)&&$e(e,n,t[n])}return e},Je=function(e,t){return qe(e,Ke(t))},Xe=function(e,t,n){return new Promise((function(r,o){var a=function(e){try{l(n.next(e))}catch(e){o(e)}},i=function(e){try{l(n.throw(e))}catch(e){o(e)}},l=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,i)};l((n=n.apply(e,t)).next())}))},Qe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===Re(arguments[0])?Ue.compose:Ue.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ze(e){if("object"!==Re(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var et=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Le(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_e([void 0],e[0].concat(this)))):new(t.bind.apply(t,_e([void 0],e.concat(this))))},t}(Array),tt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Le(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,_e([void 0],e[0].concat(this)))):new(t.bind.apply(t,_e([void 0],e.concat(this))))},t}(Array);function nt(e){return j(e)?Me(e,(function(){})):e}function rt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new et);n&&(!function(e){return"boolean"==typeof e}(n)?r.push(Ve().withExtraArgument(n.extraArgument)):r.push(Ve()));0;return r}(e)}}function ot(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ye(Ye({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function at(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function it(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:nt(e.initialState),o=e.reducers||{},a=Object.keys(o),i={},l={},c={};function u(){var t="function"==typeof e.extraReducers?at(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,a=t[1],i=void 0===a?[]:a,c=t[2],u=void 0===c?void 0:c,s=Ye(Ye({},o),l);return function(e,t,n,r){void 0===n&&(n=[]);var o,a="function"==typeof t?at(t):[t,n,r],i=a[0],l=a[1],c=a[2];if(function(e){return"function"==typeof e}(e))o=function(){return nt(e())};else{var u=nt(e);o=function(){return u}}function s(e,t){void 0===e&&(e=o());var n=_e([i[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(U(e))return void 0===(r=n(e,t))?e:r;if(j(e))return Me(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return s.getInitialState=o,s}(r,(function(e){for(var t in s)e.addCase(t,s[t]);for(var n=0,r=i;n<r.length;n++){var o=r[n];e.addMatcher(o.matcher,o.reducer)}u&&e.addDefaultCase(u)}))}return a.forEach((function(e){var n,r,a=o[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,i[e]=n,l[u]=n,c[e]=r?ot(u,r):ot(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:c,caseReducers:i,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ct=["name","message","stack","code"],ut=function(e,t){this.payload=e,this.meta=t},st=function(e,t){this.payload=e,this.meta=t},ft=function(e){if("object"===Re(e)&&null!==e){for(var t={},n=0,r=ct;n<r.length;n++){var o=r[n];"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}},dt=function(){function e(e,t,n){var r=ot(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Je(Ye({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),o=ot(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Je(Ye({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ot(e+"/rejected",(function(e,t,r,o,a){return{payload:o,error:(n&&n.serializeError||ft)(e||"Rejected"),meta:Je(Ye({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),i="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(l,c,u){var s,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),d=new i;function p(e){s=e,d.abort()}var m=function(){return Xe(this,null,(function(){var i,m,y,h,v,b;return Be(this,(function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),h=null==(i=null==n?void 0:n.condition)?void 0:i.call(n,e,{getState:c,extra:u}),null===(S=h)||"object"!==Re(S)||"function"!=typeof S.then?[3,2]:[4,h];case 1:h=g.sent(),g.label=2;case 2:if(!1===h||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:s||"Aborted"})}))})),l(o(f,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:f,arg:e},{getState:c,extra:u}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:l,getState:c,extra:u,requestId:f,signal:d.signal,abort:p,rejectWithValue:function(e,t){return new ut(e,t)},fulfillWithValue:function(e,t){return new st(e,t)}})).then((function(t){if(t instanceof ut)throw t;return t instanceof st?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return y=g.sent(),[3,5];case 4:return b=g.sent(),y=b instanceof ut?a(null,f,e,b.payload,b.meta):a(b,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(y)&&y.meta.condition||l(y),[2,y]}var S}))}))}();return Object.assign(m,{abort:p,requestId:f,arg:e,unwrap:function(){return m.then(pt)}})}}),{pending:o,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function pt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var mt="listenerMiddleware";ot(mt+"/add"),ot(mt+"/removeAll"),ot(mt+"/remove");"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);var yt,ht,vt=function(e){return function(t){setTimeout(t,e)}};"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:vt(10);me(),function(e){e.Granted="Granted",e.Denied="Denied",e.Actionable="Actionable"}(ht||(ht={}));var bt,gt=ht;!function(e){e.VerificationStarted="VERIFICATION_STARTED",e.verificationInProgress="VERIFICATION_IN_PROGRESS",e.VerificationPending="VERIFICATION_PENDING",e.VerificationFailed="VERIFICATION_FAILED",e.VerificationSucceded="VERIFICATION_SUCCEEDED",e.AMPCheckFailed="AMP_CHECK_FAILED",e.EmailUpdateFailed="EMAIL_UPDATE_FAILED"}(bt||(bt={}));var St,Et=bt;!function(e){e.GovernmentId="GovernmentId",e.Phone="PHONE",e.Email="EMAIL",e.AddedEmail="AddedEmail",e.ParentConsentRequest="ParentConsent",e.ParentLinkRequest="ParentLink",e.AgeEstimation="AgeEstimation",e.UserSettings="UserSettings"}(St||(St={}));var wt,Ct=St;!function(e){e.Embedded="EMBEDDED",e.Hosted="HOSTED"}(wt||(wt={}));var xt,At,kt,Pt,Tt,It=wt;!function(e){e.Prologue="PROLOGUE",e.Verification="VERIFICATION",e.Epilogue="EPILOGUE"}(xt||(xt={})),function(e){e[e.VendorLink=0]="VendorLink",e[e.Checklist=1]="Checklist",e[e.Complete=2]="Complete"}(At||(At={})),function(e){e[e.Unknown=0]="Unknown",e[e.Success=1]="Success",e[e.Failure=2]="Failure",e[e.RequiresManualReview=3]="RequiresManualReview",e[e.RequiresRetry=4]="RequiresRetry",e[e.Started=5]="Started",e[e.Submitted=6]="Submitted",e[e.Stored=7]="Stored",e[e.Expired=8]="Expired"}(kt||(kt={})),function(e){e[e.NoError=0]="NoError",e[e.UnknownError=1]="UnknownError",e[e.InvalidDocument=2]="InvalidDocument",e[e.InvalidSelfie=3]="InvalidSelfie",e[e.BelowMinimumAge=4]="BelowMinimumAge",e[e.LowQualityMedia=5]="LowQualityMedia",e[e.DocumentUnsupported=6]="DocumentUnsupported"}(Pt||(Pt={})),function(e){e[e.LANDING=0]="LANDING",e[e.EMAIL=1]="EMAIL",e[e.MODAL=2]="MODAL",e[e.SUCCESS_GENERIC=3]="SUCCESS_GENERIC",e[e.FAILURE=4]="FAILURE",e[e.PENDING=5]="PENDING",e[e.POLLING=6]="POLLING",e[e.EMAIL_CONTINUE=7]="EMAIL_CONTINUE",e[e.EXTERNAL_EMAIL=8]="EXTERNAL_EMAIL",e[e.ERROR=9]="ERROR",e[e.TEMP_BAN=10]="TEMP_BAN",e[e.VENDOR_LINK=11]="VENDOR_LINK"}(Tt||(Tt={}));var Nt,Dt,Ot,Mt=CoreRobloxUtilities,Ut=function(e,t,n){Mt.eventStreamService.sendEventWithTarget(e,t,n)},jt=r.EnvironmentUrls.apiGatewayUrl,Vt=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=function(e,t,n,r){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),{retryable:!0,withCredentials:!0,url:jt+"/access-management/v1/upsell-feature-access?featureName="+e+(t?"&extraParameters="+t:"")+(n?"&successfulActions="+n:"")+(r?"&namespace="+encodeURIComponent(r):"")}}(e,t?btoa(JSON.stringify(t)):null,n,r);return new Promise((function(e){i.httpService.get(o).then((function(t){var n=t.data;e(n)}),(function(e){throw e}))}))},Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rt.apply(this,arguments)},Ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Lt=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Bt={featureName:null,ampFeatureCheckData:void 0,stage:null,verificationStageRecourse:null,featureAccess:{loading:!1,data:null,error:null},showUpsell:!1,redirectLink:null,loading:!1,prologueUsed:!1,namespace:null},_t=dt("accessManagement/fetchFeatureAccess",(function(e,t){return Ft(void 0,void 0,void 0,(function(){var n,r,o,a,i;return Lt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),n=e.featureName,r=e.ampFeatureCheckData,o=e.successfulAction,a=e.namespace,[4,Vt(n,r,o,a)];case 1:return[2,l.sent()];case 2:return i=l.sent(),Ut(Et.AMPCheckFailed,null,{error:JSON.stringify(i)}),[2,t.rejectWithValue("Failed to fetch AMP response")];case 3:return[2]}}))}))})),Wt=it({name:"accessManagement",initialState:Bt,reducers:{resetAccessManagementStore:function(){return Bt},setFeatureName:function(e,t){e.featureName=t.payload},setAmpFeatureCheckData:function(e,t){e.ampFeatureCheckData=t.payload},showUpsell:function(e,t){e.showUpsell=t.payload},setFeatureAccess:function(e,t){e.featureAccess=t.payload},setRedirectLink:function(e,t){e.redirectLink=t.payload},setStage:function(e,t){e.stage=t.payload},setVerificationStageRecourse:function(e,t){e.verificationStageRecourse=t.payload},setPrologueUsed:function(e,t){e.prologueUsed=t.payload},setLoading:function(e,t){e.loading=t.payload},setNamespace:function(e,t){e.namespace=t.payload}},extraReducers:function(e){e.addCase(_t.pending,(function(e){e.featureAccess.loading=!0})).addCase(_t.fulfilled,(function(e,t){var n=t.payload;e.featureAccess=Rt(Rt({},e.featureAccess),{loading:!1,data:n}),e.featureName=n.featureName,n.access!==gt.Granted&&(e.showUpsell=!0),n.access===gt.Actionable&&(e.verificationStageRecourse=n.recourses[0])})).addCase(_t.rejected,(function(e,t){e.featureAccess=Rt(Rt({},e.featureAccess),{loading:!1,error:t.error.message||"Something went wrong"})}))}}),qt=(Nt=Wt.actions).resetAccessManagementStore,Kt=(Nt.setFeatureAccess,Nt.setFeatureName,Nt.setAmpFeatureCheckData),Ht=Nt.setRedirectLink,Gt=Nt.setVerificationStageRecourse,zt=(Nt.showUpsell,Nt.setStage),$t=Nt.setPrologueUsed,Yt=Nt.setNamespace,Jt=function(e){return e.accessManagement},Xt=function(e){return e.accessManagement.showUpsell},Qt=function(e){return e.accessManagement.featureName},Zt=function(e){return e.accessManagement.ampFeatureCheckData},en=function(e){return e.accessManagement.featureAccess},tn=function(e){return e.accessManagement.stage},nn=function(e){return e.accessManagement.verificationStageRecourse},rn=function(e){return e.accessManagement.prologueUsed},on=function(e){return e.accessManagement.namespace},an=Wt.reducer,ln=function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ln.apply(this,arguments)},cn=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},un=[{label:"Label.ConnectingToMobile",statusCode:[kt.Unknown]},{label:"Label.VerifyingYou",statusCode:[kt.Started]},{label:"Label.VerificationWaitingForResults",statusCode:[kt.Submitted]},{label:"Label.UpdatingRoblox",statusCode:[kt.Success,kt.Stored]}],sn=function(e,t){void 0===t&&(t=[]);var n={heading:"Heading.VerificationSuccessful",icon:"success-icon",bodyText:["Label.DateOfBirthUpdated"],buttonText:"Action.Close",footerText:null};switch(e){case Tt.SUCCESS_GENERIC:break;case Tt.FAILURE:n=ln(ln({},n),{heading:"Heading.VerificationFailed",icon:"failure-icon",bodyText:["Label.FailedVerification"],buttonText:"Action.Close"});break;case Tt.PENDING:n=ln(ln({},n),{heading:"Heading.VerificationPending",icon:"failure-icon",bodyText:["Label.PendingVerification"],buttonText:"Action.Close"});break;case Tt.ERROR:n=ln(ln({},n),{heading:"Heading.Error",icon:"failure-icon",bodyText:["Modal.Failed.Text"]});break;case Tt.TEMP_BAN:n=ln(ln({},n),{heading:"Heading.Error",icon:"failure-icon",bodyText:["Label.VerificationDeclined"]});case Tt.LANDING:case Tt.EMAIL:case Tt.MODAL:case Tt.POLLING:case Tt.EMAIL_CONTINUE:case Tt.EXTERNAL_EMAIL:case Tt.VENDOR_LINK:}return n.bodyText=cn(cn([],n.bodyText),t),n},fn="Action.RestartSession",dn="Label.PleaseDoNotClose",pn="Label.VerificationDataSubmitted",mn="Label.VerifyInBrowser",yn=r.EnvironmentUrls.apiGatewayUrl,hn=function(e){var t={retryable:!0,withCredentials:!0,url:yn+"/age-verification-service/v1/persona-id-verification/start-verification"},n={generateLink:!0,ageEstimation:e};return i.httpService.post(t,n).then((function(e){return e.data})).catch((function(e){var t=i.httpService.parseErrorCode(e);throw new Error("Error to start ID verification: "+(t||"unknown"))}))},vn=function(e){var t={retryable:!0,withCredentials:!0,url:yn+"/age-verification-service/v1/persona-id-verification/verified-status"},n={token:e};return i.httpService.get(t,n).then((function(e){return e.data})).catch((function(e){var t=i.httpService.parseErrorCode(e);throw new Error("Error to get ID verification status: "+(t||"unknown"))}))},bn=function(){return bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bn.apply(this,arguments)},gn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Sn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},En={verified:null,IDVerificationState:{page:At.VendorLink,vendorVerificationData:{daysUntilNextVerification:0,sessionIdentifier:null,verificationLink:null,qrCode:null,loading:!1},loading:null,status:null,completionPageState:null,error:null,isAgeEstimation:!1},loading:null},wn=function(e){return e.verification.IDVerificationState},Cn=function(e){return e.verification.loading},xn=dt("verification/startIDVerification",(function(e,t){return gn(void 0,void 0,void 0,(function(){var n,r;return Sn(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,hn(e)];case 1:return[2,o.sent()];case 2:return n=o.sent(),r=e?Ct.AgeEstimation:Ct.GovernmentId,Ut(Et.VerificationFailed,r,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to start ID Verification")];case 3:return[2]}}))}))})),An=dt("verification/fetchIDVerificationStatus",(function(e,t){return gn(void 0,void 0,void 0,(function(){var n,r,o,a;return Sn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,vn(e)];case 1:return[2,i.sent()];case 2:return n=i.sent(),r=t.getState(),o=r.verification.IDVerificationState.isAgeEstimation,a=o?Ct.AgeEstimation:Ct.GovernmentId,Ut(Et.VerificationFailed,a,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to fetch ID Verification status")];case 3:return[2]}}))}))})),kn=it({name:"verification",initialState:En,reducers:{resetVerificationStore:function(){return En},setVerified:function(e,t){e.verified=t.payload},setIDVerificationState:function(e,t){e.IDVerificationState=bn({},t.payload)},setIDVPage:function(e,t){e.IDVerificationState.page=t.payload},setLoading:function(e,t){e.loading=t.payload}},extraReducers:function(e){e.addCase(xn.pending,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!0,e.IDVerificationState=bn(bn({},e.IDVerificationState),{vendorVerificationData:n,loading:!0}),e.loading=!0})).addCase(xn.fulfilled,(function(e,t){var n=t.payload,r=n.daysUntilNextVerification,o=t.meta.arg,a=null;n.loading=!1,null!=r&&r>0&&(a=sn(Tt.TEMP_BAN,["Label.FailedVerificationInvalidDocument"])),e.IDVerificationState=bn(bn({},e.IDVerificationState),{vendorVerificationData:n,completionPageState:a,loading:!1,isAgeEstimation:o})})).addCase(xn.rejected,(function(e,t){var n=e.IDVerificationState.vendorVerificationData;n.loading=!1,e.IDVerificationState=bn(bn({},e.IDVerificationState),{vendorVerificationData:n,completionPageState:sn(Tt.ERROR),loading:!1,error:t.error.message||"Something went wrong"}),e.loading=!1})).addCase(An.pending,(function(e){e.IDVerificationState=bn(bn({},e.IDVerificationState),{loading:!0})})).addCase(An.fulfilled,(function(e,t){if(e.IDVerificationState.isAgeEstimation){var n=t.payload;e.IDVerificationState=bn(bn({},e.IDVerificationState),{loading:!1,status:n})}else{n=t.payload;var r=void 0,o=e.IDVerificationState.page;switch(n.sessionStatus){case kt.RequiresRetry:case kt.Failure:switch(o=At.Complete,n.sessionErrorCode){case Pt.InvalidDocument:case Pt.BelowMinimumAge:r=sn(Tt.FAILURE,["Label.FailedVerificationInvalidDocument"]);break;case Pt.LowQualityMedia:case Pt.InvalidSelfie:r=sn(Tt.FAILURE,["Label.FailedVerificationLowQuality"]);break;case Pt.DocumentUnsupported:r=sn(Tt.FAILURE,["Label.FailedVerificationUnsupportedDocument"]);break;default:r=sn(Tt.FAILURE)}break;case kt.RequiresManualReview:o=At.Complete,r=sn(Tt.PENDING);break;case kt.Success:case kt.Stored:o=At.Complete,r=sn(Tt.SUCCESS_GENERIC);break;case kt.Started:o=At.Checklist,Ut(Et.VerificationStarted,Ct.GovernmentId,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier});break;case kt.Submitted:Ut(Et.verificationInProgress,Ct.GovernmentId,{session:e.IDVerificationState.vendorVerificationData.sessionIdentifier})}e.IDVerificationState=bn(bn({},e.IDVerificationState),{loading:!1,status:n,completionPageState:r,page:o})}})).addCase(An.rejected,(function(e,t){e.IDVerificationState=bn(bn({},e.IDVerificationState),{loading:!1,error:t.error.message||"Something went wrong"})}))}}),Pn=(Dt=kn.actions).resetVerificationStore,Tn=(Dt.setVerified,Dt.setIDVerificationState,Dt.setIDVPage,Dt.setLoading),In=kn.reducer,Nn=(r.EnvironmentUrls.apiGatewayUrl,r.EnvironmentUrls.accountSettingsApi),Dn=(r.EnvironmentUrls.voiceApi,function(){return{retryable:!0,withCredentials:!0,url:Nn+"/v1/email"}}),On=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Mn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Un={emailAddress:null,isEmailVerified:!1,isEmailAdded:!1,loading:!1,error:!1},jn=dt("emailVerification/updateUserEmail",(function(e,t){return On(void 0,void 0,void 0,(function(){var n;return Mn(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(o={emailAddress:e},a=Dn(),i.httpService.post(a,o).then((function(){return!0})).catch((function(e){throw new Error("Error to update email address: "+JSON.stringify(e))})))];case 1:return[2,r.sent()];case 2:return n=r.sent(),Ut(Et.EmailUpdateFailed,Ct.AddedEmail,{error:JSON.stringify(n)}),[2,t.rejectWithValue("Failed to update email address")];case 3:return[2]}var o,a}))}))})),Vn=dt("emailVerification/getUserEmailStatus",(function(e,t){return On(void 0,void 0,void 0,(function(){var e;return Mn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(r=Dn(),i.httpService.get(r).then((function(e){return e.data})).catch((function(e){throw new Error("Error to get email address: "+JSON.stringify(e))})))];case 1:return[2,n.sent()];case 2:return e=n.sent(),Ut(Et.EmailUpdateFailed,Ct.AddedEmail,{error:JSON.stringify(e)}),[2,t.rejectWithValue("Failed to fetch email address")];case 3:return[2]}var r}))}))})),Rn=it({name:"emailVerification",initialState:Un,reducers:{resetEmailVerificationStore:function(){return Un},setUserEmailData:function(e,t){e.emailAddress=t.payload}},extraReducers:function(e){e.addCase(jn.pending,(function(e){e.loading=!0})).addCase(jn.fulfilled,(function(e,t){e.isEmailAdded=!0,e.loading=!1})).addCase(jn.rejected,(function(e,t){e.loading=!1,e.error=!0})).addCase(Vn.pending,(function(e){e.loading=!0})).addCase(Vn.fulfilled,(function(e,t){var n=t.payload;e.emailAddress=n.emailAddress,e.isEmailVerified=n.isEmailVerified,e.loading=!1})).addCase(Vn.rejected,(function(e){e.loading=!1}))}}),Fn=(Ot=Rn.actions).resetEmailVerificationStore,Ln=(Ot.setUserEmailData,function(e){return e.emailVerification}),Bn=function(e){var t,n=rt(),r=e||{},o=r.reducer,a=void 0===o?void 0:o,i=r.middleware,l=void 0===i?n():i,c=r.devTools,u=void 0===c||c,s=r.preloadedState,f=void 0===s?void 0:s,d=r.enhancers,p=void 0===d?void 0:d;if("function"==typeof a)t=a;else{if(!Ze(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,Ue.combineReducers)(a)}var m=l;"function"==typeof m&&(m=m(n));var y=Ue.applyMiddleware.apply(void 0,m),h=Ue.compose;u&&(h=Qe(Ye({trace:!1},"object"===Re(u)&&u)));var v=new tt(y),b=v;Array.isArray(p)?b=_e([y],p):"function"==typeof p&&(b=p(v));var g=h.apply(void 0,b);return(0,Ue.createStore)(t,f,g)}({reducer:{accessManagement:an,verification:In,emailVerification:Rn.reducer}}),_n=function(){return D()},Wn="StartAccessManagementUpsell",qn={Continue:"Action.Continue",Cancel:"Action.Cancel",EmailMyParent:"Action.EmailMyParent",VerifyID:"Action.VerifyID",AskNow:"Action.AskNowLowercase"},Kn={AskYourParent:"Title.AskYourParent",VerifyYourAge:"Title.VerifyYourAge",CheckYourAge:"Title.CheckYourAge"},Hn={Vpc:"Description.PrologueTextVpc",Idv:"Description.PrologueTextIdv",Fae:"Description.PrologueTextFae",IdvConnectingText:"Description.PrologueConnectingTextIdv",IdvAndVpc:"Description.PrologueTextIdvAndVpc",IdvAndVpcAgeCorrection:"Description.PrologueIdvAndVpcAgeCorrection",VpcEnablePurchase:"Description.PrologueEnablePurchase",VpcEnablePurchaseExpT1:"Description.PrologueEnablePurchaseExpT1",VpcUnblockUser:"Description.PrologueUnblockUser",VpcUnblockExperience:"Description.PrologueUnblockExperience",VpcAllowFacialAgeEstimation:"Description.CommsAgeCheck.VPCForFAEModal",VpcContentAgeRestriction:"Description.PrologueJoinExperience",VpcWhisperChatWithMeInExperiences:"Description.CommsAgeCheck.VPCForExperienceDirectChatModal",VpcExperienceChat:"Description.CommsAgeCheck.VPCForExperienceChatModal",VpcStudioCollaboration:"Description.CommsAgeCheck.VPCForStudioCollaborationModal",FaeExperienceChat:"Description.CommsAgeCheck.FaeForExperienceChatModal",FaeExperienceWhisperChat:"Description.CommsAgeCheck.FaeForExperienceWhisperChatModal",FaeStudioCollaboration:"Description.CommsAgeCheck.FaeForStudioCollaborationModal",PrologueFetchParentExperiment:"Description.PrologueFetchParentExperiment"},Gn={LearnMore:"Action.LearnMore"},zn={VerifyYourAge:"Title.VerifyYourAge"},$n={VpcNotEligible:"Description.PrologueTextVpcNotEligible"},Yn=Mt.eventStreamService.eventTypes,Jn="ageVerification",Xn={emailRegex:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",translationKeys:{addEmailToAccountKeys:{btnText:"Action.Continue",ActionChangeEmail:"Action.ChangeEmail",ActionSent:"Action.Sent",ActionContinue:"Action.Continue",ActionGenericSkip:"Action.GenericSkip",DescriptionAddEmailTextOver13:"Description.IDVerificationAddEmailText",DescriptionAddEmailTextUnder13:"Description.IDVerificationAddEmailText",HeadingAddEmail:"Heading.AddEmail",LabelEmailInputPlaceholderOver13:"Label.EmailInputPlaceholderOver13",LabelEmailInputPlaceholderUnder13:"Label.EmailInputPlaceholderUnder13",MessageInvalidEmailAddress:"Message.InvalidEmailAddress"}},events:{showAddEmailModal:{name:"showAddEmailModal",type:Yn.modalAction,context:Jn,params:{aType:"shown",field:"addEmail"}},useAddEmailField:{name:"useAddEmailField",type:Yn.formInteraction,context:Jn,params:{btn:"emailAddress",field:"addEmail"}},addEmailConfirm:{name:"addEmailConfirm",type:Yn.buttonClick,context:Jn,params:{btn:"continue",field:"addEmail"}}}},Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qn.apply(this,arguments)},Zn=Xn.events,er={useAddEmailToAccountEvent:function(e){var t=Zn.useAddEmailField;Mt.eventStreamService.sendEventWithTarget(t.type,t.context,Qn(Qn({},t.params),{origin:e}))},addEmailToAccountEvent:function(e){var t=Zn.addEmailConfirm;Mt.eventStreamService.sendEventWithTarget(t.type,t.context,Qn(Qn({},t.params),{origin:e}))}},tr=function(n,r){var o=_n(),a=(0,e.useState)(!1),i=a[0],l=a[1],c=(0,e.useState)(!1),u=c[0],s=(c[1],(0,e.useState)(!0)),f=s[0],d=s[1],p=(0,e.useState)(""),m=p[0],y=p[1],h=(0,e.useState)(""),v=h[0],b=h[1],g=(0,e.useMemo)((function(){return{open:function(){return l(!0)},close:function(){o(Fn()),l(!1)}}}),[]),S=Xn.emailRegex,E=Xn.translationKeys.addEmailToAccountKeys,w=(0,e.useState)(""),C=w[0],x=w[1],A=new RegExp(S),k=function(){o(Fn()),l(!1),r()},P=function(e){y(e),x("");var t,r=(t=e,A.test(t)?C?n(C):"":n(E.MessageInvalidEmailAddress));b(r),d(u||e.length<=0||r.length>0)},T=t().createElement(t().Fragment,null,t().createElement("div",{className:"email-upsell-image"}),t().createElement("p",{className:"email-upsell-text-body"},n(E.DescriptionAddEmailTextOver13,{emailAddress:m})),t().createElement("input",{id:"email-upsell-modal-input",type:"email",autoComplete:"email",className:(v?"input-field-error":"")+" form-control input-field email-upsell-modal-input",placeholder:n(E.LabelEmailInputPlaceholderOver13),value:m,onFocus:function(){return er.useAddEmailToAccountEvent("")},onChange:function(e){return P(e.target.value)}}),v&&t().createElement("p",{className:"text-error modal-error-message"},n(v)));return[t().createElement(O.Modal,{show:i,onHide:k,backdrop:!0,className:"mail-upsell-android-modal",size:"sm","aria-labelledby":"contained-modal-title-vcenter",scrollable:"true",centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:k},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n(E.HeadingAddEmail)))),t().createElement(O.Modal.Body,null,T),t().createElement(O.Modal.Footer,null,t().createElement(O.Button,{className:"modal-button email-upsell-btn",variant:O.Button.variants.cta,size:O.Button.sizes.medium,isDisabled:f,onClick:function(){x(""),o(jn(m))}},n(E.btnText)))),g]},nr=(0,c.withTranslations)((function(n){var r=n.translate,o=n.onHide,a=_n(),i=w(Ln),l=w(Qt),c=w(Zt),u=tr(r,o),s=u[0],f=u[1];return(0,e.useEffect)((function(){f.open()}),[]),(0,e.useEffect)((function(){i.error&&(f.close(),o())}),[f,i]),(0,e.useEffect)((function(){i.isEmailAdded&&(f.close(),a(_t({featureName:l,ampFeatureCheckData:c,successfulAction:"AddedEmail"})))}),[i]),t().createElement("div",null,s)}),{common:["CommonUI.Controls"],feature:"Feature.VerificationUpsell"}),rr=n(373),or=n.n(rr);function ar(e){if(e){var t=(new r.Intl).getLocale(),n=e;t&&(n=e+"&language="+t),window.location.href=n}}var ir=function(){return t().createElement(O.Loading,null)};var lr=function(e){var n=e.translate,r=e.onHide,o=w(wn),a=o.completionPageState,i=o.status,l=o.vendorVerificationData,c=o.error,u=l.daysUntilNextVerification,s=a.heading,f=a.bodyText,d=a.icon,p=a.footerText,m=a.buttonText,y=(null==i?void 0:i.sessionStatus)===kt.Failure||c;return t().createElement(t().Fragment,null,t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:r},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n(s)))),t().createElement(O.Modal.Body,null,d&&t().createElement("div",{className:d}),t().createElement("ul",{className:y?"content-list error-text":"content-list"},f.map((function(e){return t().createElement("li",null,n(e,{age:18,days:u}))})))),t().createElement(O.Modal.Footer,null,p&&t().createElement("p",{className:"small"},t().createElement("b",null,n(p))),t().createElement("span",{key:m},t().createElement(O.Button,{className:"button-stack-button primary-link",variant:O.Button.variants.primary,size:O.Button.sizes.medium,onClick:r},n(m)))))};var cr=function(e){var n=e.translate,r=e.onHide,o=w(wn),a=o.status,i=o.vendorVerificationData,l=a.sessionStatus,c=un.findIndex((function(e){return e.statusCode.includes(l)}));return t().createElement(t().Fragment,null,t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"email-upsell-title-container"},t().createElement("button",{type:"button",className:"email-upsell-title-button",onClick:r},t().createElement("span",{className:"close icon-close"})),t().createElement(O.Modal.Title,{id:"contained-modal-title-vcenter"},n("Heading.IdentityVerification")))),t().createElement(O.Modal.Body,{className:"verification-checklist-page-content"},t().createElement("div",{className:"cta"},n(l===kt.Success||l===kt.Stored||l===kt.Submitted?pn:mn)),t().createElement("ul",{className:"checklist-wrapper"},un.map((function(e,r){return r<=c?t().createElement("li",{className:"checklist-item"},t().createElement("span",{className:"check-wrapper"},t().createElement("span",{className:r===c?"spinner spinner-sm":"icon-checkmark"})),t().createElement("span",{className:"checklist-text"},n(e.label))):null}))),t().createElement("a",{href:i.verificationLink,target:"_blank",rel:"noreferrer"},t().createElement(O.Button,{onClick:function(){Ut(Et.VerificationStarted,Ct.GovernmentId,{session:i.sessionIdentifier})},className:"primary-link",variant:O.Button.variants.primary,size:O.Button.sizes.medium,width:O.Button.widths.full},n(fn))),t().createElement("div",{className:"footer-text"},n(dn))))},ur=function(){return ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ur.apply(this,arguments)},sr=18e5;var fr=function(n){var o,a=n.translate,i=n.onHidecallback,l=n.ageEstimation,u=(0,e.useRef)(Number(new Date)+sr),s=_n(),f=w(wn),d=w(Cn),p=w(Qt),m=w(Zt),y=w(wn).page,h=(0,e.useRef)(y),v=(0,e.useRef)(!1),b=(0,e.useRef)(!1),g=(0,e.useRef)(null),S=null!==(o=r.DeviceMeta&&(0,r.DeviceMeta)().isInApp)&&void 0!==o&&o,E=f.vendorVerificationData,C=E.sessionIdentifier,x=E.verificationLink,A=(0,c.useTheme)();function k(){s(Pn()),clearTimeout(g.current),i()}(0,e.useEffect)((function(){return s(Tn(!0)),s(xn(l)),S&&(u.current=Number(new Date)+sr),function(){g.current&&clearTimeout(g.current)}}),[]);var P=null;if(S||y===At.Complete)switch(y){case At.VendorLink:P=t().createElement(ir,null);break;case At.Checklist:P=t().createElement(cr,{translate:a,onHide:k});break;case At.Complete:P=t().createElement(lr,{translate:a,onHide:k});break;default:P=t().createElement(ir,null)}return(0,e.useEffect)((function(){S&&C&&null!=x&&!b.current&&(b.current=!0,ar(x))}),[S,C,x]),(0,e.useEffect)((function(){S&&!f.loading&&null!=E.verificationLink&&f.page!==At.Complete&&Number(new Date)<u.current&&setTimeout((function(){s(An(E.sessionIdentifier))}),1e4)}),[f]),(0,e.useEffect)((function(){y===At.Complete&&s(_t({featureName:p,ampFeatureCheckData:m}))}),[y]),(0,e.useEffect)((function(){if(!S&&C)var e=(new r.Intl).getLocale(),t=new(or().Client)(ur(ur({inquiryId:C,styleVariant:A||"dark"},e&&{language:e}),{onReady:function(){t.open(),s(Tn(!1))},onComplete:function(e){e.inquiryId,e.status,e.fields;if(!v.current){s(Tn(!0)),v.current=!0;var t=setInterval((function(){h.current!==At.Complete&&s(An(C))}),5e3);g.current=setTimeout((function(){clearInterval(t),s(Tn(!1))}),3e4)}},onCancel:function(e){e.inquiryId,e.sessionToken;k()},onError:function(e){s(An(E.sessionIdentifier)),console.error(e)}}))}),[C]),t().createElement(t().Fragment,null,S||y===At.Complete?P:d&&t().createElement(ir,null))},dr={eventName:{authPageLoad:"authPageload",authButtonClick:"authButtonClick",authFormInteraction:"authFormInteraction",authMsgShown:"authMsgShown",authModalShown:"authModalShown"},state:{sessionId:"sessionId"},field:{webEmbededFaeStart:"webEmbededFaeStart",webEmbededFaeError:"webEmbededFaeError",webEmbededFaeCancel:"webEmbededFaeCancel",webFaeStatus:"webFaeStatus",webHostedFaeStart:"webHostedFaeStart"},btn:{cancelFae:"cancelFae"},text:{}},pr=function(e,t,n){try{Mt.eventStreamService.sendEventWithTarget(e,t,n)}catch(e){}},mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mr.apply(this,arguments)},yr=18e5,hr="AgeEstimation";var vr=function(n){var o,a=n.translate,i=n.onHidecallback,l=n.ageEstimation,u=n.featureSpecificParams,s=_n(),f=w(wn),d=w(Cn),p=w(Qt),m=w(on),y=w(Zt),h=w(en),v=f.vendorVerificationData,b=f.status,g=f.error,S=(u||{}).context,E=void 0===S?"defaultContext":S,C=(0,e.useRef)(!1),x=(0,e.useRef)(null),A=(0,e.useRef)(null),k=(0,e.useRef)(null),P=(0,e.useRef)(0),T=(0,e.useRef)(!1),I=(0,e.useRef)(Number(new Date)+yr),N=(0,e.useRef)(b);N.current=b;var D=(0,e.useRef)(h);D.current=h;var O=(0,e.useRef)(null),M=v.sessionIdentifier,U=v.verificationLink,j=(0,c.useTheme)(),V=null!==(o=r.DeviceMeta&&(0,r.DeviceMeta)().isInApp)&&void 0!==o&&o?It.Hosted:It.Embedded,R=function(){x.current&&(clearInterval(x.current),x.current=null)},F=function(){k.current&&(clearInterval(k.current),k.current=null)};function L(e){return!!e&&(e.sessionStatus===kt.Stored||e.sessionStatus===kt.RequiresRetry||e.sessionStatus===kt.Failure)}function B(){R(),F(),s(Pn()),clearTimeout(A.current)}function _(){B(),i()}function W(){if(!T.current){T.current=!0,P.current=Number(new Date)+1e4,s(Tn(!0)),function(e,t,n,r){pr(dr.eventName.authMsgShown,e,{state:t,field:n,errorCode:r})}(E,M,dr.field.webFaeStatus,kt[b.sessionStatus]);var e=function(){s(_t({featureName:p,ampFeatureCheckData:y,namespace:m,successfulAction:hr}))};e();var t=setInterval((function(){var n,r,o,a=D.current,i=(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.access)===gt.Actionable,l=null===(o=null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.recourses)||void 0===o?void 0:o.find((function(e){return e.action===hr})),c=Number(new Date)>=P.current;l?!i||c?(clearInterval(t),k.current=null,s(Tn(!1)),_()):e():(clearInterval(t),k.current=null,s(Tn(!1)),B())}),1e3);k.current=t}}function q(){var e=setInterval((function(){Number(new Date)<I.current?s(An(v.sessionIdentifier)):(clearInterval(e),i())}),1e4);x.current=e,v.verificationLink&&(!function(e,t,n){pr(dr.eventName.authPageLoad,e,{state:t,origin:n,os_time:Date.now()})}(E,M,dr.field.webHostedFaeStart),ar(v.verificationLink))}function K(){var e=(new r.Intl).getLocale();O.current=new(or().Client)(mr(mr({inquiryId:M,styleVariant:j||"dark"},e&&{language:e}),{onReady:function(){var e;null===(e=O.current)||void 0===e||e.open(),function(e,t,n){pr(dr.eventName.authModalShown,e,{state:t,field:n,os_time:Date.now()})}(E,M,dr.field.webEmbededFaeStart),s(Tn(!1))},onComplete:function(e){e.inquiryId,e.status,e.fields;if(!C.current){s(Tn(!0)),C.current=!0;var t=setInterval((function(){L(N.current)?clearInterval(t):s(An(M))}),200);A.current=setTimeout((function(){clearInterval(t),s(Pn()),_()}),3e4)}},onCancel:function(e){var t=e.inquiryId;e.sessionToken;!function(e,t,n,r){pr(dr.eventName.authButtonClick,e,{btn:n,state:t,origin:r,os_time:Date.now()})}(E,t,dr.btn.cancelFae,dr.field.webEmbededFaeCancel),_()},onError:function(e){s(An(v.sessionIdentifier)),function(e,t,n){pr(dr.eventName.authFormInteraction,e,{state:t,field:n})}(E,M,dr.field.webEmbededFaeError),console.error(e)}}))}return(0,e.useEffect)((function(){return s(Tn(!0)),s(xn(l)),V===It.Embedded&&or().Client.preload().catch((function(e){console.error("Failed to preload Persona client:",e)})),V===It.Hosted&&(I.current=Number(new Date)+yr),function(){B(),R(),O.current&&(O.current.destroy(),O.current=null)}}),[]),(0,e.useEffect)((function(){V===It.Embedded&&M?K():V===It.Hosted&&M&&null!=U&&q()}),[M,U]),(0,e.useEffect)((function(){L(b)&&W()}),[b]),(0,e.useEffect)((function(){var e;if(T.current&&!(null==h?void 0:h.loading)){var t=null===(e=null==h?void 0:h.data)||void 0===e?void 0:e.access;k.current&&t&&t!==gt.Actionable&&(F(),s(Tn(!1)),_())}}),[h]),t().createElement(t().Fragment,null,g&&!d?t().createElement(lr,{translate:a,onHide:_}):d?t().createElement(ir,null):null)},br=n(870),gr=n.n(br),Sr=function(n){var r=n.translate,o=n.title,a=n.body,i=n.actionButtonTranslateKey,l=void 0===i?"":i,c=n.neutralButtonTranslateKey,u=n.footer,s=n.size,f=void 0===s?"sm":s,d=n.onAction,p=n.disableActionButton,m=n.disabledNeutralButton,y=n.dualActionButton,h=void 0!==y&&y,v=n.onHide,b=void 0===v?function(){}:v,g=n.onNeutral,S=(0,e.useState)(!1),E=S[0],w=S[1],C=(0,e.useMemo)((function(){return{open:function(){return w(!0)},close:function(){return w(!1)}}}),[]),x=gr()({"modal-half-width-button":c,"modal-full-width-button":!c});return[t().createElement(O.Modal,{show:E,onHide:function(){C.close(),b()},backdrop:!0,className:"access-management-upsell-inner-modal",size:f,"aria-labelledby":"access-management-upsell-inner-modal-title",scrollable:!0,centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"access-management-upsell-inner-modal-title-container"},t().createElement(O.Modal.Title,{id:"access-management-upsell-inner-modal-title"},o)),t().createElement("button",{type:"button",className:"close close-button",onClick:function(){C.close(),b()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,a),t().createElement(O.Modal.Footer,null,l&&t().createElement(O.Button,{className:x,variant:O.Button.variants.primary,size:O.Button.sizes.medium,isDisabled:p,onClick:function(){null==d||d(),C.close()}},r(l)),c&&t().createElement(O.Button,{className:x,variant:h?O.Button.variants.primary:O.Button.variants.secondary,size:O.Button.sizes.medium,isDisabled:m,onClick:function(){null==g||g(),C.close()}},r(c))),u&&t().createElement("div",{className:"text-footer access-management-upsell-inner-modal-text-footer border-top"},u)),C]},Er={U13To18:"U13To18",U13To1318:"U13To1318",U13ToU13:"U13ToU13",U13ToU13NotEligible:"U13ToU13NotEligible"},wr={IdvOrVpc:"Verify Your Age/Parent Permission Needed",VPC:"Parent Permission Needed",VpcNotEligible:"Parent Permission Not Eligible",AskYourParent:"Ask Your Parent",VerifyId:"Verify ID",EmailMyParent:"Email My Parent",AskNow:"Ask Now",Cancel:'X icon or "Cancel"',WeNeedToCheckYourAge:"We need to check your age"},Cr={VerifyId:"verifyId",EmailParent:"emailParent",verifyCancel:"verifyCancel",VpcNotEligibleModalClose:"vpcNotEligibleModalClose",VpcNotEligibleLearnMore:"vpcNotEligibleLearnMore",askParent:"askParent",cancel:"cancel"},xr={SettingsAgeChangeVerify:"settingsAgeChangeVerify",SettingsAgeChangeVpcNotEligible:"settingsAgeChangeVpcNotEligible",UpdateSetting:"parentalEntrySettings",vpcPrologue:"vpcPrologue",faePrologue:"faePrologue"},Ar={AuthPageload:"authPageload",AuthButtonClick:"authButtonClick"},kr=function(e,t){return""+(e?e+", ":"")+(t?"settingName: "+t+", ":"")};function Pr(e,t){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.SettingsAgeChangeVerify,{btn:Cr.VerifyId,state:t?Er.U13To18:Er.U13To1318,associatedText:wr.VerifyId})}function Tr(e,t,n,r,o){"CanCorrectAge"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.SettingsAgeChangeVerify,{btn:Cr.EmailParent,state:t?Er.U13ToU13:Er.U13To1318,associatedText:wr.EmailMyParent}):"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.EmailParent,state:kr(void 0,n),associatedText:wr.EmailMyParent}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.EmailParent,state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:wr.AskNow}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.EmailParent,state:"unblockExperience "+(null==r?void 0:r.universeId),associatedText:wr.AskNow}),t&&n&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.vpcPrologue,{btn:Cr.askParent,state:kr(o,n),associatedText:wr.AskNow})}function Ir(e){var t;switch(e){case"Idv":t=Er.U13To18;break;case"Vpc":t=Er.U13ToU13;break;case"IdvOrVpc":t=Er.U13To1318;break;case"VpcNotEligible":t=Er.U13ToU13NotEligible}return t}function Nr(e,t,n,r,o){if("CanCorrectAge"===e){var a=Ir(t);Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.SettingsAgeChangeVerify,{btn:Cr.verifyCancel,state:a,associatedText:wr.Cancel})}else"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.verifyCancel,state:kr(void 0,n),associatedText:wr.Cancel}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.verifyCancel,state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:wr.Cancel}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.UpdateSetting,{btn:Cr.verifyCancel,state:"unblockExperience "+(null==r?void 0:r.universeId),associatedText:wr.Cancel});if(n){var i=void 0;switch(t){case"Vpc":i=xr.vpcPrologue;break;case"Fae":i=xr.faePrologue}i&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,i,{btn:Cr.cancel,state:kr(o,n),associatedText:wr.Cancel})}}function Dr(e,t,n,r,o){if("CanCorrectAge"===e){var a=Ir(t);Mt.eventStreamService.sendEventWithTarget(Ar.AuthPageload,xr.SettingsAgeChangeVerify,{state:a,associatedText:wr.IdvOrVpc})}else"CanChangeSetting"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthPageload,xr.UpdateSetting,{state:kr(void 0,n),associatedText:wr.VPC}):"CanRemoveParentManagedUserBlocks"===e?Mt.eventStreamService.sendEventWithTarget(Ar.AuthPageload,xr.UpdateSetting,{state:"unblockUser "+(null==r?void 0:r.friendUserId),associatedText:wr.AskYourParent}):"CanRemoveParentManagedExperienceBlocks"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthPageload,xr.UpdateSetting,{state:"unblockExperience "+(null==r?void 0:r.experienceId),associatedText:wr.AskYourParent});if(n){var i=void 0,l=void 0;switch(t){case"Vpc":i=xr.vpcPrologue,l=wr.AskYourParent;break;case"Fae":i=xr.faePrologue,l=wr.WeNeedToCheckYourAge}i&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthPageload,i,{state:kr(o,n),associatedText:l})}}var Or,Mr=function(n){var r=n.translate,o=n.onHide,a=w(Qt),i=r(zn.VerifyYourAge),l=t().createElement("div",null,t().createElement("div",{className:"text-description"},r($n.VpcNotEligible))),c=Sr({translate:r,title:i,body:l,actionButtonTranslateKey:Gn.LearnMore,onAction:function(){!function(e){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.SettingsAgeChangeVpcNotEligible,{btn:Cr.VpcNotEligibleLearnMore,state:Er.U13ToU13,associatedText:wr.VpcNotEligible})}(a),window.open("https://help.roblox.com/hc/articles/30428367965460","_blank")},size:"sm",onHide:function(){o(),function(e){"CanCorrectAge"===e&&Mt.eventStreamService.sendEventWithTarget(Ar.AuthButtonClick,xr.SettingsAgeChangeVpcNotEligible,{btn:Cr.VpcNotEligibleModalClose,state:Er.U13ToU13,associatedText:wr.VpcNotEligible})}(a),s.close()}}),u=c[0],s=c[1];return(0,e.useEffect)((function(){s.open(),Dr(a,"VpcNotEligible")}),[a,s]),[u,s]},Ur=function(t){var n,r,o=t.translate,a=t.onHide,i=[null,null],l=i[0],c=i[1],u=w(en);if("CanCorrectAge"===(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.featureName))l=(n=Mr({translate:o,onHide:a}))[0],c=n[1];return(0,e.useEffect)((function(){c.open()}),[l,c]),l},jr=r.EnvironmentUrls.apiGatewayUrl+"/child-requests-api/v1/send-request-to-new-parent",Vr=r.EnvironmentUrls.apiGatewayUrl+"/child-requests-api/v1/send-request-to-all-parents",Rr=r.EnvironmentUrls.userSettingsApi+"/v1/account-insights/parent-emails",Fr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Lr=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Br={sendRequestToNewParent:function(e){return Fr(void 0,void 0,Promise,(function(){var t,n,r,o;return Lr(this,(function(a){switch(a.label){case 0:return t={url:jr,withCredentials:!0},n=e.requestDetails,[4,i.httpService.post(t,e)];case 1:return r=a.sent(),n&&(o=Object.keys(n)[0],Mt.localStorageService.setLocalStorage("Roblox.ParentalRequest."+o+"CooldownExpirationTime",r.data.lockedUntil)),[2,r.data]}}))}))},sendRequestToAllParents:function(e){return Fr(void 0,void 0,Promise,(function(){var t,n,r,o;return Lr(this,(function(a){switch(a.label){case 0:return t={url:Vr,withCredentials:!0},n=e.requestDetails,[4,i.httpService.post(t,e)];case 1:return r=a.sent(),n&&(o=Object.keys(n)[0],Mt.localStorageService.setLocalStorage("Roblox.ParentalRequest."+o+"CooldownExpirationTime",r.data.lockedUntil)),[2,r.data]}}))}))}},_r=Br,Wr={privacyPolicyUrl:r.EnvironmentUrls.websiteUrl+"/info/privacy",chargebackWizardSessionTokenLocalStorageKey:"Roblox.ChargebackWizardSessionToken",defaultCooldownTimeInMs:9e5,emailRegex:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$",isChildSubjectToPCFeatureName:"IsChildSubjectToParentalControls",translationKeys:{gatherParentEmail:{title:"Title.EnterParentEmailV2",permissionNeededTitle:"Title.PermissionNeeded",askYourParentTitle:"Title.AskYourParent",body:"Description.EnterParentEmailV4",bodyWithPC:"Description.EnterParentEmailV5",combinedBody:"Description.EnterParentEmailExp",bodyWithoutPC:"Description.EnterParentEmailWithoutParentalControl",bodyForTeens:"Description.EnterParentEmailWithoutParentalControlV2",combinedBodyWithoutPC:"Description.EnterParentEmailExpWithoutParentalControl",combinedBodyExpT1:"Description.EnterParentEmailExpT1",combinedBodyWithoutPCExpT1:"Description.EnterParentEmailWithoutParentalControlExpT1",combinedBodyExpT3:"Description.EnterParentEmailExpT3",combinedBodyWithoutPCExpT3:"Description.EnterParentEmailWithoutParentalControlExpT3",footer:"Description.ParentalEmailFooter",unknownError:"Message.SomethingWentWrong",invalidEmailError:"Message.InvalidEmail",btnText:"Action.SendEmail",emailPlaceholder:"Label.EmailCapitalized",parentEmailLabel:"Label.ParentEmail",emailTooManyChildrenError:"Message.EmailIneligible",childTooManyParentsError:"Message.ExistAccountWithEmail",emailTooManyRequest:"Message.TooManyAttempts",senderFlooded:"Message.TooManyAttemptAskParent",alreadyApplied:"Description.AllSet",seeRequestAfterLink:"Message.RequestCreatedEmailNotSent",alreadyLinked:"Message.AlreadyLinked"},emailSentConfirmation:{title:"Title.RequestSent",oneParentBody:"Message.EmailSent",pluralParentBody:"Message.EmailSentPluralParent",emailNotSentBody:"Message.RequestCreatedEmailNotSent",btnText:"Action.OK"},exitWarning:{title:"Title.AreYouSure",body:"Description.ExitEnterEmail",actionBtnText:"Action.EnterEmail",neutralBtnText:"Action.Cancel"}},events:{chargebackContext:{parentalEntry:"parentalEntry",settingsAge:"settingsAgeChargeback",settingsRequestSent:"settingsChargebackRequestSent"},savePaymentMethodsContext:{parentalEntry:"parentalEntryDevsubs",settingsAge:"settingsAgeSavePaymentMethods",settingsRequestSent:"settingsSavePaymentMethodsRequestSent"},changeBirthdayContext:{parentalEntry:"parentalEntryAgeChange",settingsAge:"settingsAgeChangeBirthday",settingsRequestSent:"settingsAgeChangeVerifyRequestSent"},updateUserSettingContext:{parentalEntry:"parentalEntrySettings",settingsAge:"settingsAgeSettings",settingsRequestSent:"settingsRequestSent"},eventName:{authPageLoad:"authPageload",authButtonClick:"authButtonClick",authFormInteraction:"authFormInteraction",authMsgShown:"authMsgShown",authModalShown:"authModalShown"},state:{sessionId:"sessionId",unknown:"unknown",changeBirthday:{U13To18:"U13To18",U13To1318:"U13To1318",U13ToU13:"U13ToU13"}},field:{email:"email",emailModal:"emailModal",errorMessage:"errorMessage",logoutPopup:"logoutPopup",parentalEmailMismatch:"parentalEmailMismatch"},btn:{verifyCancel:"verifyCancel",continue:"continue",submit:"submit"},text:{enterParentEmail:"Enter Parent's Email",sendEmail:"Send Email",submit:"Submit",ok:"OK",requestSent:"Request Sent"},vpc:"Vpc"},settingName:{enablePurchases:"enablePurchases"}};!function(e){e.Unknown="Unknown",e.InvalidUserID="InvalidUserID",e.InvalidParameter="InvalidParameter",e.ServiceUnavailable="ServiceUnavailable",e.NoLinkedParents="NoLinkedParents",e.ConsentAlreadyApplied="ConsentAlreadyApplied",e.SenderFlooded="SenderFlooded",e.ReceiverFlooded="ReceiverFlooded",e.SenderFloodedRequestCreated="SenderFloodedRequestCreated",e.IllegalState="IllegalState",e.InvalidEmailAddress="InvalidEmailAddress",e.EmailNotUnique="EmailNotUnique",e.LinkingIneligible="LinkingIneligible",e.AlreadyLinked="AlreadyLinked",e.ChildAtLinkLimit="ChildAtLinkLimit",e.ParentAtLinkLimit="ParentAtLinkLimit",e.UpdateUserSettingRequestInvalid="UpdateUserSettingRequestInvalid",e.ConsentAlreadyRequestedConflictingData="ConsentAlreadyRequestedConflictingData",e.ReceiverNotWhitelisted="ReceiverNotWhitelisted",e.InvalidComplianceFeature="InvalidComplianceFeature",e.ChildTooOld="ChildTooOld",e.UserForgotten="UserForgotten"}(Or||(Or={}));var qr,Kr=Or,Hr={data:{code:"UnknownError"}},Gr=Wr.translationKeys.gatherParentEmail,zr=function(e){switch(e){case Kr.ChildAtLinkLimit:return Gr.childTooManyParentsError;case Kr.ParentAtLinkLimit:return Gr.emailTooManyChildrenError;case Kr.SenderFlooded:return Gr.senderFlooded;case Kr.ReceiverFlooded:return Gr.emailTooManyRequest;case Kr.ConsentAlreadyApplied:return Gr.alreadyApplied;case Kr.AlreadyLinked:return Gr.alreadyLinked;case Kr.InvalidEmailAddress:return Gr.invalidEmailError;default:return Gr.unknownError}};!function(e){e.LiftPunishment="LiftPunishment",e.SavePaymentMethods="SavePaymentMethods",e.UpdateUserSetting="UpdateUserSetting",e.UpdateBirthdate="UpdateBirthdate",e.LinkToChild="LinkToChild",e.Unknown="Unknown"}(qr||(qr={}));var $r,Yr=qr;!function(e){e.Chargeback="Chargeback"}($r||($r={}));var Jr,Xr=$r,Qr=Wr.events,Zr=function(e,t,n,r){var o=n?n+", ":"",a=t?"sessionId: "+t+", ":"",i=r?"settingName: "+Object.keys(r)[0]+", ":"",l=r?Object.entries(r).map((function(e){var t=e[0],n=e[1];return t+": "+String(n)})).join(", "):"";return e===Yr.UpdateUserSetting?""+o+i+a:""+o+l+a},eo=function(e,t){var n;switch(e){case Yr.LiftPunishment:(null==t?void 0:t.punishmentType)===Xr.Chargeback&&(n=Qr.chargebackContext);break;case Yr.SavePaymentMethods:n=Qr.savePaymentMethodsContext;break;case Yr.UpdateBirthdate:n=Qr.changeBirthdayContext;break;case Yr.UpdateUserSetting:n=Qr.updateUserSettingContext;break;default:n=Qr.chargebackContext}return n},to=function(e,t,n){try{Mt.eventStreamService.sendEventWithTarget(e,t,n)}catch(e){}},no=function(e){var t=e.requestType,n=e.sessionId,r=e.extraState,o=e.details,a=eo(t,o);to(Qr.eventName.authButtonClick,a.parentalEntry,{btn:Qr.btn.continue,associatedText:Qr.text.ok,state:Zr(t,n,r,o)})},ro={dateInUTCToBirthdate:function(e){var t=e.getUTCFullYear(),n=e.getUTCMonth()+1;return{birthDay:e.getUTCDate(),birthMonth:n,birthYear:t}},calculateAge:function(e){if(!e||!e.birthYear||0===e.birthYear)return 0;var t=new Date,n=ro.dateInUTCToBirthdate(t);return n.birthDay-e.birthDay<0&&(n.birthMonth-=1),n.birthMonth-e.birthMonth<0&&(n.birthYear-=1),n.birthYear-e.birthYear},getAgeRange:function(e){var t=Wr.events.state.changeBirthday,n=ro.dateInUTCToBirthdate(e);return ro.calculateAge(n)<13?t.U13ToU13:t.U13To1318}},oo=ro,ao=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},io=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},lo=function(n){var r=n.translate,o=n.consentType,a=n.successCallBack,i=n.onHideCallback,l=n.value,c=void 0===l?null:l,u=(0,e.useState)(Wr.translationKeys.gatherParentEmail.unknownError),s=u[0],f=u[1],d=Wr.translationKeys.emailSentConfirmation,p=Sr({translate:r,title:r(Wr.translationKeys.gatherParentEmail.unknownError),body:t().createElement("p",null,r(s)),actionButtonTranslateKey:d.btnText,onAction:function(){f(""),y.close(),i()},onHide:i}),m=p[0],y=p[1],h=function(){return ao(void 0,void 0,void 0,(function(){var e,t,n,r,i,l,u,s;return io(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,_r.sendRequestToAllParents({requestType:o,requestDetails:c})];case 1:return e=d.sent(),t=null==c?void 0:c.newBirthdate,n=new Date(t),r=o===Yr.UpdateBirthdate?oo.getAgeRange(n):void 0,function(e){var t=e.requestType,n=e.sessionId,r=e.extraState,o=e.details,a=eo(t,o);to(Qr.eventName.authPageLoad,a.settingsRequestSent,{state:Zr(t,n,r,o),associatedText:Qr.text.requestSent})}({requestType:o,extraState:r,sessionId:e.sessionId,details:c}),a(e.sessionId),[3,3];case 2:return i=d.sent(),l=null!==(s=i)&&void 0!==s?s:Hr,(u=zr(l.data.code))===Kr.SenderFloodedRequestCreated?a(l.data.sessionId,void 0,!0):(f(u),y.open()),[3,3];case 3:return[2]}}))}))};return(0,e.useEffect)((function(){h()}),[]),t().createElement("div",null,m)};!function(e){e.control="control",e.askYourParentTitle="askYourParentTitle",e.permissionNeededTitle="permissionNeededTitle",e.visualized="visualized",e.newPrologueNoVisual="newPrologueNoVisual",e.newPrologueVisual="newPrologueVisual",e.newOneScreenVisual="newOneScreenVisual"}(Jr||(Jr={}));var co=Jr,uo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},so=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},fo={getVpcLaunchStatus:function(){return uo(void 0,void 0,Promise,(function(){return so(this,(function(e){return[2,r.Guac.callBehaviour("vpc-launch-status")]}))}))}},po=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},mo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},yo=function(n,r,o,a,i,l,c){var u=Wr.privacyPolicyUrl,s=Wr.chargebackWizardSessionTokenLocalStorageKey,f=Wr.emailRegex,d=Wr.translationKeys.gatherParentEmail,p=(0,e.useState)(!1),m=p[0],y=p[1],h=(0,e.useState)(!1),v=h[0],b=h[1],g=(0,e.useState)(!1),S=g[0],E=g[1],w=(0,e.useState)(!1),C=w[0],x=w[1],A=(0,e.useState)(""),k=A[0],P=A[1],T=(0,e.useState)(n(d.title)),I=T[0],N=T[1],D=(0,e.useState)(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(d.bodyWithoutPC,{lineBreak:"<br /><br />"})}})),M=D[0],U=D[1],j=(0,e.useMemo)((function(){return{open:function(){return y(!0)},close:function(){return y(!1)}}}),[]),V=(0,e.useState)(""),R=V[0],F=V[1],L=(0,e.useMemo)((function(){if(r===Yr.UpdateUserSetting)return Object.keys(i)[0]}),[r,i]);(0,e.useEffect)((function(){!function(e){var t=e.requestType,n=e.extraState,r=e.details,o=eo(t,r);to(Qr.eventName.authModalShown,o.parentalEntry,{field:Qr.field.emailModal,associatedText:Qr.text.enterParentEmail,state:Zr(t,void 0,n,r)})}({requestType:r,details:i,extraState:c})}),[]),(0,e.useEffect)((function(){po(void 0,void 0,void 0,(function(){var e;return mo(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Vt(Wr.isChildSubjectToPCFeatureName)];case 1:return e=t.sent(),b(e.access===gt.Granted),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}),[]),(0,e.useEffect)((function(){po(void 0,void 0,void 0,(function(){var e;return mo(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fo.getVpcLaunchStatus()];case 1:return(e=t.sent().isTeenLaunchEnabled)&&E(e),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}),[]);var B=new RegExp(f),_=function(){return k.length>0&&!B.test(k)?n(d.invalidEmailError):R?n(R):""},W=function(){return po(void 0,void 0,void 0,(function(){var e,t,n,a,l;return mo(this,(function(u){switch(u.label){case 0:F(""),Mt.localStorageService.removeLocalStorage(s),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,_r.sendRequestToNewParent({email:k,requestType:r,requestDetails:i})];case 2:return e=u.sent(),function(e){var t=e.requestType,n=e.extraState,r=e.sessionId,o=e.details,a=eo(t,o);to(Qr.eventName.authButtonClick,a.parentalEntry,{btn:Qr.btn.submit,associatedText:Qr.text.sendEmail,state:Zr(t,r,n,o)})}({requestType:r,sessionId:e.sessionId,details:i,extraState:c}),x(!1),j.close(),o(e.sessionId,k),[3,4];case 3:return t=u.sent(),P(""),x(!1),n=null!==(l=t)&&void 0!==l?l:Hr,(a=zr(n.data.code))===Kr.SenderFloodedRequestCreated&&o(n.data.sessionId,void 0,!0),F(a),[3,4];case 4:return[2]}}))}))};(0,e.useEffect)((function(){var e=d.bodyWithoutPC;v&&S?e=d.bodyWithPC:v?e=d.body:S&&(e=d.bodyForTeens);var r=v?d.combinedBody:d.combinedBodyWithoutPC,o=v?d.combinedBodyExpT1:d.combinedBodyWithoutPCExpT1,a=v?d.combinedBodyExpT3:d.combinedBodyWithoutPCExpT3;if(L===Wr.settingName.enablePurchases)switch(l){case co.askYourParentTitle:return N(n(d.askYourParentTitle)),void U(t().createElement("span",null,t().createElement("span",null,n(Hn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case co.permissionNeededTitle:return N(n(d.permissionNeededTitle)),void U(t().createElement("span",null,t().createElement("span",null,n(Hn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case co.visualized:return N(n(d.askYourParentTitle)),void U(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",null,n(Hn.VpcEnablePurchase)),t().createElement("br",null),t().createElement("br",null),t().createElement("span",null,n(r))));case co.newOneScreenVisual:return N(n(d.askYourParentTitle)),void U(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",null,n(a,{lineBreak:"<br /><br />"}))))}switch(l){case co.newPrologueNoVisual:N(n(d.askYourParentTitle)),U(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(o,{lineBreak:"<br /><br />"})}}));break;case co.newPrologueVisual:N(n(d.askYourParentTitle)),U(t().createElement("div",null,t().createElement("div",{className:"parent-email-image"}),t().createElement("span",{dangerouslySetInnerHTML:{__html:n(o,{lineBreak:"<br /><br />"})}})));break;default:U(t().createElement("span",{dangerouslySetInnerHTML:{__html:n(e,{lineBreak:"<br /><br />"})}}))}}),[l,v,S,L]);var q=t().createElement(t().Fragment,null,t().createElement("div",{className:"parental-consent-modal-body"},M),t().createElement("form",{className:"form-horizontal",autoComplete:"off"},t().createElement("div",{id:"parent-email-container",className:"form-group"},t().createElement("label",{htmlFor:"parent-email-address",className:"form-control-label"},n(d.parentEmailLabel)),t().createElement("input",{id:"parent-email-address",type:"email",className:"form-control input-field",placeholder:n(d.emailPlaceholder),autoComplete:"off",value:k,onChange:function(e){P(e.target.value),F("")},onFocus:function(){return function(e){var t=e.requestType,n=e.extraState,r=e.details,o=eo(t,r);to(Qr.eventName.authFormInteraction,o.parentalEntry,{field:Qr.field.email,associatedText:Qr.text.enterParentEmail,state:Zr(t,void 0,n,r)})}({requestType:r,details:i,extraState:c})}})),t().createElement("input",{type:"text",className:"hidden",name:"fake-username"}),t().createElement("input",{type:"password",className:"hidden",name:"fake-password",autoComplete:"new-password"})),t().createElement("div",{className:"form-group"},t().createElement("p",{className:"text-error form-control-label"},_())),t().createElement("div",{className:"text-footer access-management-upsell-inner-modal-text-footer",dangerouslySetInnerHTML:{__html:n(d.footer,{linkStart:"<a class='text-link' rel='noreferrer' target='_blank' href='"+u+"'>",linkEnd:"</a>"})}})),K=t().createElement(O.Modal,{show:m,onHide:function(){j.close(),a()},backdrop:!0,className:"access-management-upsell-inner-modal",size:"sm","aria-labelledby":"access-management-upsell-inner-modal-title",centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"access-management-upsell-inner-modal-title-container"},t().createElement(O.Modal.Title,{id:"access-management-upsell-inner-modal-title"},I)),t().createElement("button",{type:"button",className:"close close-button",onClick:function(){j.close(),a()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,q),t().createElement(O.Modal.Footer,null,t().createElement(O.Button,{variant:O.Button.variants.primary,size:O.Button.sizes.medium,width:O.Button.widths.full,isDisabled:""===k||""!==_(),isLoading:C,onClick:function(){return po(void 0,void 0,void 0,(function(){return mo(this,(function(e){switch(e.label){case 0:return x(!0),[4,W()];case 1:return e.sent(),[2]}}))}))}},n(d.btnText))));return[K,j]},ho=function(n){var r=n.translate,o=n.consentType,a=n.successCallback,i=n.onHidecallback,l=n.isPrologueUsed,c=n.value,u=n.expChildModalType,s=void 0===u?null:u,f=n.source,d=w(Qt),p=yo(r,o,a,i,c,s,f),m=p[0],y=p[1];return(0,e.useEffect)((function(){if(!l){var e=Object.keys(c)[0];Dr(d,Wr.events.vpc,e,c)}y.open()}),[]),t().createElement(t().Fragment,null,m)},vo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},bo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},go={getLinkedParentEmails:function(){return vo(void 0,void 0,Promise,(function(){var e;return bo(this,(function(t){switch(t.label){case 0:return e={url:Rr,withCredentials:!0},[4,i.httpService.get(e)];case 1:return[2,t.sent().data]}}))}))}},So=go,Eo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},wo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Co=(0,c.withTranslations)((function(n){var r=n.translate,o=n.recourse,a=n.onHidecallback,i=n.isPrologueUsed,l=n.value,c=void 0===l?null:l,u=n.expChildModalType,s=void 0===u?null:u,f=n.source,d=Wr.translationKeys.emailSentConfirmation,p=o.action,m=o.parentConsentTypes,y=null==m?void 0:m[0],h=(0,e.useState)([]),v=h[0],b=h[1],g=(0,e.useState)(!0),S=g[0],E=g[1],w=t().createElement("p",{dangerouslySetInnerHTML:{__html:r(d.oneParentBody,{parentEmail:v[0]})}}),C=t().createElement("p",null,r(d.pluralParentBody)),x=t().createElement("p",null,r(d.emailNotSentBody)),A=(0,e.useMemo)((function(){return S?1===v.length?w:C:x}),[S,v]),k=Sr({translate:r,title:r(d.title),body:A,actionButtonTranslateKey:d.btnText,onAction:function(){T.close(),a()},onHide:a}),P=k[0],T=k[1];(0,e.useEffect)((function(){p===Ct.ParentConsentRequest&&Eo(void 0,void 0,void 0,(function(){return wo(this,(function(e){switch(e.label){case 0:return[4,So.getLinkedParentEmails().then((function(e){b(e.parentEmails)}))];case 1:return e.sent(),[2]}}))}))}),[p]);var I=function(e,t,n){if(t&&b([t]),n&&E(!1),T.open(),y===Yr.UpdateBirthdate){var r=null==c?void 0:c.newBirthdate,o=new Date(r),a=oo.getAgeRange(o);no({requestType:Yr.UpdateBirthdate,extraState:a,sessionId:e})}else no({requestType:y,sessionId:e,details:c})};return t().createElement("div",null,p===Ct.ParentConsentRequest&&t().createElement(lo,{translate:r,consentType:y,successCallBack:I,onHideCallback:a,value:c}),p===Ct.ParentLinkRequest&&t().createElement(ho,{translate:r,consentType:y,successCallback:I,onHidecallback:a,value:c,expChildModalType:s,isPrologueUsed:i,source:f}),P)}),{common:["CommonUI.Controls","CommonUI.Features","Amp.Upsell"],feature:"Feature.Parents"}),xo={CanCorrectAge:"CanCorrectAge"},Ao={};function ko(e,t,n){var r=function(e){return Ao[e]}(e);return n(r||t)}function Po(e,t,n,r,o,a){var i=n(t);if(r.includes(Ct.GovernmentId)&&r.includes(Ct.ParentConsentRequest))if(e===xo.CanCorrectAge)i=n(Hn.IdvAndVpcAgeCorrection);else i=n(t);if(1===r.length&&r.includes(Ct.ParentConsentRequest)){switch(!0){case void 0!==(null==o?void 0:o.enablePurchases):i=n(Hn.VpcEnablePurchase);break;case"Unblock"===(null==o?void 0:o.friendManagementAction):i=n(Hn.VpcUnblockUser,{displayName:o.displayName});break;case"Unblock"===(null==o?void 0:o.experienceManagementAction):i=n(Hn.VpcUnblockExperience,{experienceName:o.experienceName});break;case void 0!==(null==o?void 0:o.allowFacialAgeEstimation):i=n(Hn.VpcAllowFacialAgeEstimation);break;case void 0!==(null==o?void 0:o.contentAgeRestriction):i=n(Hn.VpcContentAgeRestriction);break;case void 0!==(null==o?void 0:o.whoCanWhisperChatWithMeInExperiences):i=n(Hn.VpcWhisperChatWithMeInExperiences);break;case void 0!==(null==o?void 0:o.whoCanChatWithMeInExperiences):i=n(Hn.VpcExperienceChat);break;case void 0!==(null==o?void 0:o.allowCrossAgeGroupStudioCollaboration):i=n(Hn.VpcStudioCollaboration);break;default:i=n(t)}if(a===co.newPrologueNoVisual||a===co.newPrologueVisual)return i+"<br /><br />"+n(Hn.PrologueFetchParentExperiment)}if(1===r.length&&r.includes(Ct.AgeEstimation))switch(!0){case void 0!==(null==o?void 0:o.whoCanChatWithMeInExperiences):i=n(Hn.FaeExperienceChat);break;case void 0!==(null==o?void 0:o.whoCanWhisperChatWithMeInExperiences):i=n(Hn.FaeExperienceWhisperChat);break;case void 0!==(null==o?void 0:o.allowCrossAgeGroupStudioCollaboration):i=n(Hn.FaeStudioCollaboration);break;default:i=n(t)}return i}var To=function(n){var r=n.translate,o=n.onHide,a=n.recourseParameters,i=n.expChildModalType,l=n.source,c=_n(),u=w(Qt),s=w(en).data.recourses,f=a?Object.keys(a)[0]:void 0,d=Hn.Vpc,p=Po(u,d,r,[Ct.ParentConsentRequest],a,i),m=t().createElement("div",null,i===co.newPrologueVisual&&t().createElement("div",{className:"ask-your-parent-lock"}),t().createElement("div",{className:"text-description",dangerouslySetInnerHTML:{__html:p}})),y=Kn.AskYourParent,h=ko(u,y,r),v=qn.AskNow,b=qn.Cancel,g=Sr({translate:r,title:h,body:m,actionButtonTranslateKey:v,neutralButtonTranslateKey:b,onAction:function(){Tr(u,!0,f,a),c(Gt(s[0])),c(zt(xt.Verification)),E.close()},size:"sm",onHide:function(){Nr(u,"Vpc",f,a,l),o()},onNeutral:function(){Nr(u,"Vpc",f,a,l),o()}}),S=g[0],E=g[1];return(0,e.useEffect)((function(){E.open(),Dr(u,"Vpc",f,a,l)}),[]),[S,E]},Io=function(n){var r=n.translate,o=n.onHide,a=_n(),i=w(Qt),l=w(en).data.recourses,c=Hn.IdvAndVpc,u=Po(i,c,r,[Ct.GovernmentId,Ct.ParentConsentRequest]),s=t().createElement("div",null,t().createElement("div",{className:"text-description"}," ",u," ")),f=Kn.VerifyYourAge,d=ko(i,f,r),p=qn.VerifyID,m=qn.EmailMyParent,y=Sr({translate:r,title:d,body:s,dualActionButton:!0,actionButtonTranslateKey:p,neutralButtonTranslateKey:m,onAction:function(){Pr(i,!1);var e=l.filter((function(e){return e.action===Ct.GovernmentId}))[0];a(Gt(e)),a(zt(xt.Verification)),v.close()},size:"sm",onHide:function(){Nr(i,"IdvOrVpc"),o()},onNeutral:function(){Tr(i,!1);var e=l.filter((function(e){return e.action!==Ct.GovernmentId}))[0];a(Gt(e)),a(zt(xt.Verification)),v.close()}}),h=y[0],v=y[1];return(0,e.useEffect)((function(){v.open(),Dr(i,"IdvOrVpc")}),[]),[h,v]},No=function(n){var r=n.translate,o=n.onHide,a=_n(),i=w(Qt),l=w(en).data.recourses,c=Hn.Idv,u=Po(i,c,r,[Ct.GovernmentId]),s=t().createElement("div",null,t().createElement("div",{className:"text-description"}," ",u," ")),f=Kn.VerifyYourAge,d=ko(i,f,r),p=qn.VerifyID,m=qn.Cancel,y=Sr({translate:r,title:d,body:s,actionButtonTranslateKey:p,neutralButtonTranslateKey:m,onAction:function(){Pr(i,!0),a(Gt(l[0])),a(zt(xt.Verification)),v.close()},size:"sm",onHide:function(){Nr(i,"Idv"),o()},onNeutral:function(){Nr(i,"Idv"),o()}}),h=y[0],v=y[1];return(0,e.useEffect)((function(){v.open(),Dr(i,"Idv")}),[]),[h,v]},Do=function(n){var r=n.translate,o=n.onHide,a=n.recourseParameters,i=n.source,l=_n(),c=w(Qt),u=w(en).data.recourses,s=a?Object.keys(a)[0]:void 0,f=Hn.Fae,d=Po(c,f,r,[Ct.AgeEstimation],a),p=t().createElement("div",{className:"text-description",dangerouslySetInnerHTML:{__html:d}}),m=Kn.CheckYourAge,y=ko(c,m,r),h=qn.Continue,v=qn.Cancel,b=Sr({translate:r,title:y,body:p,actionButtonTranslateKey:h,neutralButtonTranslateKey:v,onAction:function(){l(Gt(u[0])),l(zt(xt.Verification)),S.close()},size:"sm",onHide:function(){Nr(c,"Fae",s,a,i),o()},onNeutral:function(){Nr(c,"Fae",s,a,i),o()}}),g=b[0],S=b[1];return(0,e.useEffect)((function(){S.open(),Dr(c,"Fae",s,a,i)}),[]),[g,S]},Oo=function(t){var n,r,o,a,i=t.translate,l=t.onHide,c=t.recourseParameters,u=t.expChildModalType,s=t.featureSpecificParams,f=_n(),d=[null,null],p=d[0],m=d[1],y=w(en).data.recourses,h=y.map((function(e){return e.action}));if(1===h.length)switch(h[0]){case Ct.ParentConsentRequest:case Ct.ParentLinkRequest:n=To({translate:i,onHide:l,recourseParameters:c,expChildModalType:u,source:null==s?void 0:s.source}),p=n[0],m=n[1];break;case Ct.GovernmentId:r=No({translate:i,onHide:l}),p=r[0],m=r[1];break;case Ct.AgeEstimation:o=Do({translate:i,onHide:l,recourseParameters:c,source:null==s?void 0:s.source}),p=o[0],m=o[1]}return 2===h.length&&h.includes(Ct.GovernmentId)&&(h.includes(Ct.ParentConsentRequest)||h.includes(Ct.ParentLinkRequest))&&(a=Io({translate:i,onHide:l}),p=a[0],m=a[1]),(0,e.useEffect)((function(){p?m.open():f(zt(xt.Verification))}),[f,p,m,y]),p},Mo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Uo=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},jo=function(t){var n=(0,e.useState)({}),o=n[0],a=n[1];return(0,e.useEffect)((function(){(function(e){return Mo(void 0,void 0,Promise,(function(){return Uo(this,(function(t){switch(t.label){case 0:return(null===r.ExperimentationService||void 0===r.ExperimentationService?void 0:r.ExperimentationService.getAllValuesForLayer)?[4,r.ExperimentationService.getAllValuesForLayer(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,{}]}}))}))})(t).then((function(e){a(e)}),(function(){a({})}))}),[t]),o},Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vo.apply(this,arguments)};function Ro(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Fo(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Fo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var Lo=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Fo(e))&&(r&&(r+=" "),r+=t);return r},Bo=function(){return t().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var _o,Wo=function(e){var n=e.width,r=e.height;return t().createElement("svg",{className:"foundation-web-loading-spinner",width:n,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))},qo={Large:24,Medium:20,Small:16,XSmall:12},Ko={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},Ho={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},Go={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},zo=function(e){var n=e.children,r=e.className,o=e.style,a=e.as,i=e.isDisabled,l=void 0!==i&&i,c=e.isLoading,u=void 0!==c&&c,s=e.size,f=void 0===s?"Large":s,d=e.variant,p=void 0===d?"Emphasis":d,m=Ro(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),y=null!=a?a:"button",h=m.href,v=Ro(m,["href"]);return t().createElement(y,Vo({type:"button"===y?"button":void 0,disabled:l,"aria-disabled":l,href:l?void 0:h},v,{className:Lo("foundation-web-button","relative clip group/interactable focus-visible:outline-focus disabled:outline-none",l?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",Ko[f],l?Go[p]:Ho[p],r),style:Vo({textDecoration:"none"},o)}),t().createElement(Bo,null),u&&t().createElement("div",{"aria-hidden":"true",className:"absolute flex"},t().createElement(Wo,{width:qo[f],height:qo[f]})),t().createElement("span",{className:Lo("padding-y-xsmall text-truncate-end text-no-wrap",u&&"invisible")},n))},$o="Action.Close";!function(e){e.Checkbox="checkbox",e.Toggle="toggle",e.Notice="notice"}(_o||(_o={}));var Yo,Jo=_o,Xo=function(e){var n=e.isChecked,r=e.setIsChecked,o=e.wordsOfConsent;return t().createElement("div",{className:"small text"},t().createElement("input",{id:"consent-checkbox",type:"checkbox",checked:n,onChange:function(){return null==r?void 0:r(!n)}}),t().createElement("label",{htmlFor:"consent-checkbox",className:"checkbox-label"},o))};Xo.displayName="CheckboxConsentForm";var Qo=function(){return null};Qo.displayName="ToggleConsentForm";var Zo=function(e){var n=e.wordsOfConsent;return t().createElement(t().Fragment,null,n)};Zo.displayName="NoticeConsentForm";var ea,ta=((Yo={})[Jo.Checkbox]=Xo,Yo[Jo.Toggle]=Qo,Yo[Jo.Notice]=Zo,Yo);!function(e){e.contentAgeRestriction="contentAgeRestriction",e.phoneNumberDiscoverability="phoneNumberDiscoverability",e.whoCanChatWithMe="whoCanChatWithMe",e.whoCanChatWithMeInApp="whoCanChatWithMeInApp",e.whoCanJoinMeInExperiences="whoCanJoinMeInExperiences",e.whoCanSeeMyInventory="whoCanSeeMyInventory",e.whoCanTradeWithMe="whoCanTradeWithMe",e.themeType="themeType",e.canUploadContacts="canUploadContacts",e.updateFriendsAboutMyActivity="updateFriendsAboutMyActivity",e.privateServerPrivacy="privateServerPrivacy",e.allowSellShareData="allowSellShareData",e.allowPersonalizedAdvertising="allowPersonalizedAdvertising",e.monthlySpendLimit="monthlySpendLimit",e.monthlySpendLimitCurrencyCode="monthlySpendLimitCurrencyCode",e.monthlySpendLimitNotificationType="monthlySpendLimitNotificationType",e.enablePurchases="enablePurchases",e.whoCanGroupChatWithMeInApp="whoCanGroupChatWithMeInApp",e.whoCanWhisperChatWithMeInExperiences="whoCanWhisperChatWithMeInExperiences",e.whoCanChatWithMeInExperiences="whoCanChatWithMeInExperiences",e.dailyScreenTimeLimit="dailyScreenTimeLimit",e.whoCanSeeMySocialNetworks="whoCanSeeMySocialNetworks",e.allowThirdPartyAppPermissions="allowThirdPartyAppPermissions",e.allowEnablePushNotifications="allowEnablePushNotifications",e.allowEnableEmailNotifications="allowEnableEmailNotifications",e.allowEnableGroupNotifications="allowEnableGroupNotifications",e.allowEnableExperienceNotifications="allowEnableExperienceNotifications",e.whoCanOneOnOnePartyWithMe="whoCanOneOnOnePartyWithMe",e.whoCanGroupPartyWithMe="whoCanGroupPartyWithMe",e.phoneNumberDiscoverabilityV2="phoneNumberDiscoverabilityV2"}(ea||(ea={}));var na,ra=ea;!function(e){e.phoneNumberDiscoverabilitySetting="phoneNumberDiscoverabilitySetting",e.phoneNumberDiscoverabilitySettingParentSide="phoneNumberDiscoverabilitySettingParentSide",e.phoneNumberDiscoverabilityUpsell="phoneNumberDiscoverabilityUpsell",e.personalizedAdsSetting="personalizedAdsSetting",e.sellShareDataSetting="sellShareDataSetting",e.allowMarketingEmailCheckboxEmailVerification="allowMarketingEmailCheckboxEmailVerification",e.voiceDataConsentSetting="voiceDataConsentSetting",e.voiceDataConsentSettingParentSide="voiceDataConsentSettingParentSide"}(na||(na={}));var oa,aa=na,ia={phoneNumberDiscoverabilityV2:aa.phoneNumberDiscoverabilityUpsell};!function(e){e.ModalShown="ModalShown",e.Confirm="Confirm",e.Cancel="Cancel",e.CloseModal="CloseModal"}(oa||(oa={}));var la,ca,ua="authButtonClick",sa="authModalShown",fa=function(e){return{name:sa,context:e,params:{field:"phoneDiscoverability",associatedText:"Turn on friend discovery"}}},da=function(e){return{name:ua,context:e,params:{btn:"phoneDiscoverabilityConfirm",associatedText:"Turn on"}}},pa=function(e){return{name:ua,context:e,params:{btn:"phoneDiscoverabilityNotNow",associatedText:"Not now"}}},ma=function(e){return{name:ua,context:e,params:{btn:"phoneDiscoverabilityClose",associatedText:"X"}}},ya=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,t)}catch(e){}}},ha=ya((function(e){var t=fa(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),va=ya((function(e){var t=da(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),ba=ya((function(e){var t=pa(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),ga=ya((function(e){var t=ma(e);Mt.eventStreamService.sendEventWithTarget(t.name,t.context,t.params)})),Sa=((la={})[ra.phoneNumberDiscoverabilityV2]=((ca={})[oa.ModalShown]=ha,ca[oa.Confirm]=va,ca[oa.Cancel]=ba,ca[oa.CloseModal]=ga,ca),la),Ea=function(e,t,n){var r=Sa[t];return r&&r[e]&&r[e](n),null},wa=function(n,o,a){var i,l=o.title,c=o.body,u=o.actionButtonText,s=o.neutralButtonText,f=o.onAction,d=o.onHide,p=o.onNeutral,m=o.consentFormType,y=o.surface,h=o.context,v=(i=a.settingName,ia[i]),b=r.LegallySensitiveContentService.useLegallySensitiveContentAndActions(v,y),g=b[0],S=b[1],E=(0,e.useState)(!1),w=E[0],C=E[1],x=(0,e.useMemo)((function(){return{open:function(){return C(!0)},close:function(){return C(!1)}}}),[]),A=(0,e.useState)(!1),k=A[0],P=A[1];(0,e.useEffect)((function(){m===Jo.Notice&&P(!0)}),[m]);var T,I=t().createElement(O.Modal,{show:w,onHide:function(){x.close(),d()},backdrop:!0,className:"access-management-upsell-inner-modal user-settings-modal",size:"md","aria-labelledby":"user-settings-modal-title",scrollable:!0,centered:!0},t().createElement(O.Modal.Header,{useBaseBootstrapComponent:!0},t().createElement("div",{className:"user-settings-modal-title-container"},t().createElement(O.Modal.Title,{id:"user-settings-modal-title"},g.wordsOfConsent.title||l)),t().createElement("button",{type:"button",className:"close close-button",title:n($o),onClick:function(){!function(e,t){Ea(oa.CloseModal,e,t)}(a.settingName,h),x.close(),d()}},t().createElement("span",{className:"icon-close"}))),t().createElement(O.Modal.Body,null,c,(T=ta[m])?t().createElement("div",{className:"consent-form"},t().createElement(T,{isChecked:k,setIsChecked:P,wordsOfConsent:g.wordsOfConsent.consent})):t().createElement(t().Fragment,null)),t().createElement(O.Modal.Footer,null,t().createElement(zo,{className:"modal-half-width-button",variant:"Standard",size:"Medium",onClick:function(){!function(e,t){Ea(oa.Cancel,e,t)}(a.settingName,h),x.close(),null==p||p(),d()}},g.wordsOfConsent.neutralButtonText||s),t().createElement(zo,{className:"modal-half-width-button modal-primary-button",variant:"Emphasis",size:"Medium",disabled:!k,onClick:function(){!function(e,t){Ea(oa.Confirm,e,t)}(a.settingName,h),x.close(),S.updateSettingWithAuditing(function(e){return e===ra.phoneNumberDiscoverabilityV2?ra.phoneNumberDiscoverability:e}(a.settingName),a.settingValue),null==f||f(),d()}},g.wordsOfConsent.actionButtonText||u)));return[I,x]},Ca=(0,c.withTranslations)((function(n){var r=n.translate,o=n.recourse,a=n.updateSettingsModalProps,i=wa(r,a,o.userSettings),l=i[0],c=i[1];return(0,e.useEffect)((function(){var e,t;e=o.userSettings.settingName,t=o.userSettings.settingValue,Ea(oa.ModalShown,e,t),c.open()}),[]),t().createElement("div",null,l)}),{common:["CommonUI.Controls"],feature:"Feature.LegallySensitiveContent"}),xa=function(){return xa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xa.apply(this,arguments)},Aa=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},ka=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};var Pa,Ta=function(n){var r,o,a=n.translate,i=_n(),l=w(tn),c=w(en),u=w(Xt),s=w(rn),f=w(Jt).loading,d=w(nn),p=(0,e.useState)((function(e){return e})),m=p[0],y=p[1],h=(0,e.useState)({}),v=h[0],b=h[1],g=(0,e.useState)(),S=g[0],E=g[1],C=(0,e.useState)(!1),x=C[0],A=C[1],k=(0,e.useState)(!1),P=k[0],T=k[1],I=null!==(r=jo("AccountManagement.VerifiedParentalConsent.ChildExperience").expNewChildModal)&&void 0!==r?r:co.control;function N(e){return Aa(this,void 0,void 0,(function(){var t,n,r,o,a,l,c,u,s,f,d;return ka(this,(function(p){switch(p.label){case 0:t=e.detail,n=t.featureName,r=t.redirectLink,o=t.ampFeatureCheckData,a=t.isAsyncCall,l=t.usePrologue,c=t.ampRecourseData,u=t.featureSpecificData,s=t.closeCallback,f=t.namespace,y((function(){return function(e){return s(e)}})),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,i(_t({featureName:n,ampFeatureCheckData:o,namespace:f}))];case 2:return p.sent(),[3,4];case 3:return p.sent(),[3,4];case 4:return i(Ht(r)),A(a),o&&i(Kt(o)),f&&i(Yt(f)),c&&b(c),u&&E(u),d=I===co.control||I===co.newPrologueNoVisual||I===co.newPrologueVisual,l&&d?(i($t(!0)),T(!0)):i(zt(xt.Verification)),[2]}}))}))}function D(){m(c.data.access),i(qt())}(0,e.useEffect)((function(){var e=N;return window.addEventListener(Wn,e),function(){return window.removeEventListener(Wn,e)}}),[I]),(0,e.useEffect)((function(){var e,t,n,r,o,a,l,u,s,f,d=[gt.Granted,gt.Denied];(null==c?void 0:c.loading)||((null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.access)&&d.includes(c.data.access)&&"CanCorrectAge"!==(null===(t=null==c?void 0:c.data)||void 0===t?void 0:t.featureName)&&m(c.data.access),(null===(r=null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.recourses)||void 0===r?void 0:r.length)>0&&P&&i(zt(xt.Prologue)),"CanCorrectAge"!==(null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.featureName)||c.data.access!==gt.Denied||null!==(null===(a=null==c?void 0:c.data)||void 0===a?void 0:a.recourses)&&0!==(null===(u=null===(l=null==c?void 0:c.data)||void 0===l?void 0:l.recourses)||void 0===u?void 0:u.length)?"CanCorrectAge"===(null===(s=null==c?void 0:c.data)||void 0===s?void 0:s.featureName)&&(null===(f=null==c?void 0:c.data)||void 0===f?void 0:f.access)===gt.Granted&&m(c.data.access):i(zt(xt.Epilogue)))}),[c,P]);var M=x?function(){i(qt()),m(gt.Denied)}:D;function U(){if(d)switch(d.action){case Ct.AddedEmail:return t().createElement(nr,{translate:a,onHide:D});case Ct.AgeEstimation:return t().createElement(vr,{translate:a,onHidecallback:M,featureSpecificParams:S,ageEstimation:!0});case Ct.GovernmentId:return t().createElement(fr,{translate:a,onHidecallback:M,ageEstimation:!1});case Ct.ParentConsentRequest:case Ct.ParentLinkRequest:return t().createElement(Co,{recourse:d,translate:a,onHidecallback:M,value:v,expChildModalType:I,isPrologueUsed:s,source:null==S?void 0:S.source});case Ct.UserSettings:return t().createElement(Ca,{translate:a,recourse:d,updateSettingsModalProps:xa({onHide:function(){var e;M(),null===(e=S.onHide)||void 0===e||e.call(S)}},S)});default:return t().createElement(Ur,{translate:a})}return t().createElement(Ur,{translate:a})}if((0,e.useEffect)((function(){o=U()}),[d]),f)o=t().createElement(ir,null);else switch(l){case xt.Prologue:null!=c.data&&(o=t().createElement(Oo,{translate:a,onHide:M,recourseParameters:v,expChildModalType:I,featureSpecificParams:S}));break;case xt.Verification:null!=c.data&&(o=U());break;case xt.Epilogue:o=t().createElement(Ur,{translate:a,onHide:M});break;default:o=t().createElement(ir,null)}return t().createElement(t().Fragment,null,t().createElement(O.Modal,{show:u,onHide:D,size:"sm","aria-labelledby":"access-management-modal-title",className:"access-management-upsell-modal",scrollable:"true",centered:"true"},o))},Ia=((Pa={})[aa.phoneNumberDiscoverabilitySetting]={titleTranslationKey:"Heading.FriendDiscovery",titleSourceContentId:"4063304",consentTranslationKey:"Description.PhoneNumberDiscoverabilityConsent",consentSourceContentId:"4054088"},Pa[aa.phoneNumberDiscoverabilitySettingParentSide]={titleTranslationKey:"Heading.FriendDiscovery",titleSourceContentId:"4063304",consentTranslationKey:"Description.ParentSide.PhoneNumberDiscoverabilityConsent",consentSourceContentId:"4102472"},Pa[aa.phoneNumberDiscoverabilityUpsell]={titleTranslationKey:"Heading.TurnOnFriendDiscovery",titleSourceContentId:"4123720",consentTranslationKey:"Description.PhoneNumberDiscoverabilityUpsellConsent",consentSourceContentId:"4123464",actionButtonTextTranslationKey:"Action.FriendDiscovery.TurnOn",actionButtonTextSourceContentId:"4123208",neutralButtonTextTranslationKey:"Action.FriendDiscovery.NotNow",neutralButtonTextSourceContentId:"4122952"},Pa[aa.personalizedAdsSetting]={titleTranslationKey:"Heading.PersonalizeYourAds",titleSourceContentId:"4190024",consentTranslationKey:"Description.PersonalizeAds",consentSourceContentId:"4190536",linkStart:'<a href="https://en.help.roblox.com/hc/articles/28943243301780" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Pa[aa.sellShareDataSetting]={titleTranslationKey:"Heading.DataSellingAndSharing",titleSourceContentId:"4190280",consentTranslationKey:"Description.DataSellingAndSharing",consentSourceContentId:"4190792",linkStart:'<a href="https://en.help.roblox.com/hc/articles/28943243301780" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Pa[aa.allowMarketingEmailCheckboxEmailVerification]={consentTranslationKey:"Description.EmailNotificationsOptIn",consentSourceContentId:"4557640"},Pa[aa.voiceDataConsentSetting]={titleTranslationKey:"Heading.VoiceDataConsent",titleSourceContentId:"4565320",consentTranslationKey:"Description.VoiceDataConsent",consentSourceContentId:"4565576",linkStart:'<a href="https://en.help.roblox.com/hc/articles/5704050147604" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Pa[aa.voiceDataConsentSettingParentSide]={titleTranslationKey:"Heading.VoiceDataConsent",titleSourceContentId:"4565320",consentTranslationKey:"Description.ParentSide.VoiceDataConsent",consentSourceContentId:"4565832",linkStart:'<a href="https://en.help.roblox.com/hc/articles/5704050147604" class="text-link">',linkEnd:"</a>",linkStartParam:"{linkStart}",linkEndParam:"{linkEnd}"},Pa),Na=r.EnvironmentUrls.userSettingsApi,Da=function(){return{retryable:!0,withCredentials:!0,url:Na+"/v1/user-settings"}},Oa=function(){return Oa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Oa.apply(this,arguments)},Ma=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ua=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},ja=function(e,t,n){return Ma(void 0,void 0,Promise,(function(){var r,o;return Ua(this,(function(a){return r=Oa(Oa({},Da()),{headers:{"rbx-audit-data":n}}),[2,i.httpService.post(r,(o={},o[e]=t,o))]}))}))},Va=function(){return Va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Va.apply(this,arguments)},Ra=function(e,t){switch(e){case aa.phoneNumberDiscoverabilitySetting:return[{consentStringTemplate:t(Ia.phoneNumberDiscoverabilitySetting.titleTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilitySetting.titleSourceContentId},{consentStringTemplate:t(Ia.phoneNumberDiscoverabilitySetting.consentTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilitySetting.consentSourceContentId}];case aa.phoneNumberDiscoverabilitySettingParentSide:return[{consentStringTemplate:t(Ia.phoneNumberDiscoverabilitySettingParentSide.titleTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilitySettingParentSide.titleSourceContentId},{consentStringTemplate:t(Ia.phoneNumberDiscoverabilitySettingParentSide.consentTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilitySettingParentSide.consentSourceContentId}];case aa.phoneNumberDiscoverabilityUpsell:return[{consentStringTemplate:t(Ia.phoneNumberDiscoverabilityUpsell.titleTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilityUpsell.titleSourceContentId},{consentStringTemplate:t(Ia.phoneNumberDiscoverabilityUpsell.consentTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilityUpsell.consentSourceContentId},{consentStringTemplate:t(Ia.phoneNumberDiscoverabilityUpsell.actionButtonTextTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilityUpsell.actionButtonTextSourceContentId},{consentStringTemplate:t(Ia.phoneNumberDiscoverabilityUpsell.neutralButtonTextTranslationKey),sourceContentId:Ia.phoneNumberDiscoverabilityUpsell.neutralButtonTextSourceContentId}];case aa.personalizedAdsSetting:return[{consentStringTemplate:t(Ia.personalizedAdsSetting.titleTranslationKey),sourceContentId:Ia.personalizedAdsSetting.titleSourceContentId},{consentStringTemplate:t(Ia.personalizedAdsSetting.consentTranslationKey,{linkStart:Ia.personalizedAdsSetting.linkStartParam,linkEnd:Ia.personalizedAdsSetting.linkEndParam}),sourceContentId:Ia.personalizedAdsSetting.consentSourceContentId,vars:{linkStart:Ia.personalizedAdsSetting.linkStart,linkEnd:Ia.personalizedAdsSetting.linkEnd}}];case aa.sellShareDataSetting:return[{consentStringTemplate:t(Ia.sellShareDataSetting.titleTranslationKey),sourceContentId:Ia.sellShareDataSetting.titleSourceContentId},{consentStringTemplate:t(Ia.sellShareDataSetting.consentTranslationKey,{linkStart:Ia.sellShareDataSetting.linkStartParam,linkEnd:Ia.sellShareDataSetting.linkEndParam}),sourceContentId:Ia.sellShareDataSetting.consentSourceContentId,vars:{linkStart:Ia.sellShareDataSetting.linkStart,linkEnd:Ia.sellShareDataSetting.linkEnd}}];case aa.allowMarketingEmailCheckboxEmailVerification:return[{consentStringTemplate:t(Ia.allowMarketingEmailCheckboxEmailVerification.consentTranslationKey),sourceContentId:Ia.allowMarketingEmailCheckboxEmailVerification.consentSourceContentId}];case aa.voiceDataConsentSetting:return[{consentStringTemplate:t(Ia.voiceDataConsentSetting.titleTranslationKey),sourceContentId:Ia.voiceDataConsentSetting.titleSourceContentId},{consentStringTemplate:t(Ia.voiceDataConsentSetting.consentTranslationKey,{linkStart:Ia.voiceDataConsentSetting.linkStartParam,linkEnd:Ia.voiceDataConsentSetting.linkEndParam}),sourceContentId:Ia.voiceDataConsentSetting.consentSourceContentId,vars:{linkStart:Ia.voiceDataConsentSetting.linkStart,linkEnd:Ia.voiceDataConsentSetting.linkEnd}}];case aa.voiceDataConsentSettingParentSide:return[{consentStringTemplate:t(Ia.voiceDataConsentSettingParentSide.titleTranslationKey),sourceContentId:Ia.voiceDataConsentSettingParentSide.titleSourceContentId},{consentStringTemplate:t(Ia.voiceDataConsentSettingParentSide.consentTranslationKey,{linkStart:Ia.voiceDataConsentSettingParentSide.linkStartParam,linkEnd:Ia.voiceDataConsentSettingParentSide.linkEndParam}),sourceContentId:Ia.voiceDataConsentSettingParentSide.consentSourceContentId,vars:{linkStart:Ia.voiceDataConsentSettingParentSide.linkStart,linkEnd:Ia.voiceDataConsentSettingParentSide.linkEnd}}];default:return[]}},Fa=function(e,t,n){var r=function(e,t,n){var r=Va({content:e.reduce((function(e,t){var n;return Va(Va({},e),((n={})[t.sourceContentId]=Va({hash:Mt.cryptoUtil.hashStringWithFnv1a32(t.consentStringTemplate)},t.vars),n))}),{}),surface:t},n);return r}(e,t,n),o=JSON.stringify(r);return Mt.cryptoUtil.stringToUrlSafeBase64(o)},La=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ba=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},_a=function(e,t,n){var r={updateSettingWithAuditing:function(r,o,a){return La(void 0,void 0,void 0,(function(){var i,l;return Ba(this,(function(c){switch(c.label){case 0:i=Ra(t,e),l=Fa(i,n,a),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,ja(r,o,l)];case 2:return c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:return[2]}}))}))},getBase64EncodedAuditHeader:function(r){var o=Ra(t,e);return Fa(o,n,r)}};return[function(){var n;switch(t){case aa.phoneNumberDiscoverabilitySetting:return n=Ia.phoneNumberDiscoverabilitySetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey)}};case aa.phoneNumberDiscoverabilitySettingParentSide:return n=Ia.phoneNumberDiscoverabilitySettingParentSide,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey)}};case aa.phoneNumberDiscoverabilityUpsell:return n=Ia.phoneNumberDiscoverabilityUpsell,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey),actionButtonText:e(n.actionButtonTextTranslationKey),neutralButtonText:e(n.neutralButtonTextTranslationKey)}};case aa.personalizedAdsSetting:return n=Ia.personalizedAdsSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case aa.sellShareDataSetting:return n=Ia.sellShareDataSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case aa.allowMarketingEmailCheckboxEmailVerification:return n=Ia.allowMarketingEmailCheckboxEmailVerification,{wordsOfConsent:{consent:e(n.consentTranslationKey)}};case aa.voiceDataConsentSetting:return n=Ia.voiceDataConsentSetting,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};case aa.voiceDataConsentSettingParentSide:return n=Ia.voiceDataConsentSettingParentSide,{wordsOfConsent:{title:e(n.titleTranslationKey),consent:e(n.consentTranslationKey,{linkStart:n.linkStart,linkEnd:n.linkEnd})}};default:return}}(),r]},Wa=(0,c.withTranslations)((function(n){var r=n.translate;return(0,e.useEffect)((function(){o().LegallySensitiveContentService={useLegallySensitiveContentAndActions:function(e,t){return _a(r,e,t)}}}),[]),t().createElement("div",{id:"legally-sensitive-content-component"})}),{common:["CommonUI.Controls"],feature:"Feature.LegallySensitiveContent"});var qa=(0,c.withTranslations)((function(e){var n=e.translate;return t().createElement(k,{store:Bn},t().createElement(Ta,{translate:n}),t().createElement(Wa,{translate:n}))}),{common:["CommonUI.Controls","CommonUI.Features","Amp.Upsell","Amp.FAEUpsell"],feature:"Verification.Identity"}),Ka=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ha=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},Ga=function(e){var t=e.featureName,n=e.redirectLink,r=void 0===n?null:n,o=e.ampFeatureCheckData,a=void 0===o?[]:o,i=e.isAsyncCall,l=void 0===i||i,c=e.usePrologue,u=void 0!==c&&c,s=e.ampRecourseData,f=void 0===s?null:s,d=e.featureSpecificData,p=void 0===d?null:d,m=e.namespace,y=void 0===m?null:m;return Ka(void 0,void 0,Promise,(function(){return Ha(this,(function(e){return[2,new Promise((function(e){var n=new CustomEvent(Wn,{detail:{featureName:t,redirectLink:r,ampFeatureCheckData:a,isAsyncCall:l,usePrologue:u,ampRecourseData:f,featureSpecificData:p,namespace:y,closeCallback:function(t){e(function(e){return e===gt.Granted}(t))}}});window.dispatchEvent(n)}))]}))}))};function za(){var e=document.getElementById(l);e?(0,a.render)(t().createElement(qa,null),e):window.requestAnimationFrame(za)}o().AccessManagementUpsellV2Service={startAccessManagementUpsell:Ga},(0,i.ready)((function(){l&&za()}))}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/a4fd6332dfa6bd77a6b48a4fd6b64ab8-accessManagementUpsellV2.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccessManagementUpsellV2");